var XC=Object.defineProperty,ex=Object.defineProperties;var tx=Object.getOwnPropertyDescriptors;var Vo=Object.getOwnPropertySymbols,nx=Object.getPrototypeOf,Pm=Object.prototype.hasOwnProperty,Fm=Object.prototype.propertyIsEnumerable,ix=Reflect.get;var km=(e,t,n)=>t in e?XC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||={})Pm.call(t,n)&&km(e,n,t[n]);if(Vo)for(var n of Vo(t))Fm.call(t,n)&&km(e,n,t[n]);return e},Ee=(e,t)=>ex(e,tx(t));var rx=(e,t)=>{var n={};for(var i in e)Pm.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&Vo)for(var i of Vo(e))t.indexOf(i)<0&&Fm.call(e,i)&&(n[i]=e[i]);return n};var qn=(e,t,n)=>ix(nx(e),n,t);var g=(e,t,n)=>new Promise((i,r)=>{var s=c=>{try{a(n.next(c))}catch(l){r(l)}},o=c=>{try{a(n.throw(c))}catch(l){r(l)}},a=c=>c.done?i(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(e,t)).next())});function Lm(e,t){return Object.is(e,t)}var he=null,Bo=!1,Uo=1,_t=Symbol("SIGNAL");function $(e){let t=he;return he=e,t}function jm(){return he}var ns={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function du(e){if(Bo)throw new Error("");if(he===null)return;he.consumerOnSignalRead(e);let t=he.nextProducerIndex++;if(Wo(he),t<he.producerNode.length&&he.producerNode[t]!==e&&ts(he)){let n=he.producerNode[t];Go(n,he.producerIndexOfThis[t])}he.producerNode[t]!==e&&(he.producerNode[t]=e,he.producerIndexOfThis[t]=ts(he)?$m(e,he,t):0),he.producerLastReadVersion[t]=e.version}function sx(){Uo++}function Vm(e){if(!(ts(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Uo)){if(!e.producerMustRecompute(e)&&!hu(e)){e.dirty=!1,e.lastCleanEpoch=Uo;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Uo}}function Bm(e){if(e.liveConsumerNode===void 0)return;let t=Bo;Bo=!0;try{for(let n of e.liveConsumerNode)n.dirty||ox(n)}finally{Bo=t}}function Um(){return he?.consumerAllowSignalWrites!==!1}function ox(e){e.dirty=!0,Bm(e),e.consumerMarkedDirty?.(e)}function Ho(e){return e&&(e.nextProducerIndex=0),$(e)}function fu(e,t){if($(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(ts(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Go(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function hu(e){Wo(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(Vm(n),i!==n.version))return!0}return!1}function pu(e){if(Wo(e),ts(e))for(let t=0;t<e.producerNode.length;t++)Go(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function $m(e,t,n){if(Hm(e),e.liveConsumerNode.length===0&&Gm(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=$m(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Go(e,t){if(Hm(e),e.liveConsumerNode.length===1&&Gm(e))for(let i=0;i<e.producerNode.length;i++)Go(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];Wo(r),r.producerIndexOfThis[i]=t}}function ts(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Wo(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Hm(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Gm(e){return e.producerNode!==void 0}function gu(e){let t=Object.create(ax);t.computation=e;let n=()=>{if(Vm(t),du(t),t.value===$o)throw t.error;return t.value};return n[_t]=t,n}var lu=Symbol("UNSET"),uu=Symbol("COMPUTING"),$o=Symbol("ERRORED"),ax=Ee(L({},ns),{value:lu,dirty:!0,error:null,equal:Lm,producerMustRecompute(e){return e.value===lu||e.value===uu},producerRecomputeValue(e){if(e.value===uu)throw new Error("Detected cycle in computations.");let t=e.value;e.value=uu;let n=Ho(e),i;try{i=e.computation()}catch(r){i=$o,e.error=r}finally{fu(e,n)}if(t!==lu&&t!==$o&&i!==$o&&e.equal(t,i)){e.value=t;return}e.value=i,e.version++}});function cx(){throw new Error}var Wm=cx;function zm(){Wm()}function qm(e){Wm=e}var lx=null;function Km(e){let t=Object.create(Qm);t.value=e;let n=()=>(du(t),t.value);return n[_t]=t,n}function mu(e,t){Um()||zm(),e.equal(e.value,t)||(e.value=t,ux(e))}function Ym(e,t){Um()||zm(),mu(e,t(e.value))}var Qm=Ee(L({},ns),{equal:Lm,value:void 0});function ux(e){e.version++,sx(),Bm(e),lx?.()}function x(e){return typeof e=="function"}function Ui(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var zo=Ui(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Kn(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var le=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(x(i))try{i()}catch(s){t=s instanceof zo?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{Zm(s)}catch(o){t=t??[],o instanceof zo?t=[...t,...o.errors]:t.push(o)}}if(t)throw new zo(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Zm(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Kn(n,t)}remove(t){let{_finalizers:n}=this;n&&Kn(n,t),t instanceof e&&t._removeParent(this)}};le.EMPTY=(()=>{let e=new le;return e.closed=!0,e})();var yu=le.EMPTY;function qo(e){return e instanceof le||e&&"closed"in e&&x(e.remove)&&x(e.add)&&x(e.unsubscribe)}function Zm(e){x(e)?e():e.unsubscribe()}var rt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $i={setTimeout(e,t,...n){let{delegate:i}=$i;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=$i;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ko(e){$i.setTimeout(()=>{let{onUnhandledError:t}=rt;if(t)t(e);else throw e})}function is(){}var Jm=vu("C",void 0,void 0);function Xm(e){return vu("E",void 0,e)}function ey(e){return vu("N",e,void 0)}function vu(e,t,n){return{kind:e,value:t,error:n}}var Yn=null;function Hi(e){if(rt.useDeprecatedSynchronousErrorHandling){let t=!Yn;if(t&&(Yn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=Yn;if(Yn=null,n)throw i}}else e()}function ty(e){rt.useDeprecatedSynchronousErrorHandling&&Yn&&(Yn.errorThrown=!0,Yn.error=e)}var Qn=class extends le{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,qo(t)&&t.add(this)):this.destination=hx}static create(t,n,i){return new Bt(t,n,i)}next(t){this.isStopped?Iu(ey(t),this):this._next(t)}error(t){this.isStopped?Iu(Xm(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Iu(Jm,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dx=Function.prototype.bind;function _u(e,t){return dx.call(e,t)}var Eu=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){Yo(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){Yo(i)}else Yo(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Yo(n)}}},Bt=class extends Qn{constructor(t,n,i){super();let r;if(x(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&rt.useDeprecatedNextContext?(s=Object.create(t),s.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&_u(t.next,s),error:t.error&&_u(t.error,s),complete:t.complete&&_u(t.complete,s)}):r=t}this.destination=new Eu(r)}};function Yo(e){rt.useDeprecatedSynchronousErrorHandling?ty(e):Ko(e)}function fx(e){throw e}function Iu(e,t){let{onStoppedNotification:n}=rt;n&&$i.setTimeout(()=>n(e,t))}var hx={closed:!0,next:is,error:fx,complete:is};var Gi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Se(e){return e}function px(...e){return wu(e)}function wu(e){return e.length===0?Se:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var A=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=mx(n)?n:new Bt(n,i,r);return Hi(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=ny(i),new i((r,s)=>{let o=new Bt({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Gi](){return this}pipe(...n){return wu(n)(this)}toPromise(n){return n=ny(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return e.create=t=>new e(t),e})();function ny(e){var t;return(t=e??rt.Promise)!==null&&t!==void 0?t:Promise}function gx(e){return e&&x(e.next)&&x(e.error)&&x(e.complete)}function mx(e){return e&&e instanceof Qn||gx(e)&&qo(e)}function bu(e){return x(e?.lift)}function j(e){return t=>{if(bu(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function P(e,t,n,i,r){return new Du(e,t,n,i,r)}var Du=class extends Qn{constructor(t,n,i,r,s,o){super(t),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Cu(){return j((e,t)=>{let n=null;e._refCount++;let i=P(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var xu=class extends A{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,bu(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new le;let n=this.getSubject();t.add(this.source.subscribe(P(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=le.EMPTY)}return t}refCount(){return Cu()(this)}};var iy=Ui(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=(()=>{class e extends A{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Qo(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new iy}next(n){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?yu:(this.currentObservers=null,s.push(n),new le(()=>{this.currentObservers=null,Kn(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new A;return n.source=this,n}}return e.create=(t,n)=>new Qo(t,n),e})(),Qo=class extends ie{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:yu}};var Ut=class extends ie{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var rs={now(){return(rs.delegate||Date).now()},delegate:void 0};var Zo=class extends ie{constructor(t=1/0,n=1/0,i=rs){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;n||(i.push(t),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!t.closed;o+=i?1:2)t.next(s[o]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){let o=n.now(),a=0;for(let c=1;c<i.length&&i[c]<=o;c+=2)a=c;a&&i.splice(0,a+1)}}};var Jo=class extends le{constructor(t,n){super()}schedule(t,n=0){return this}};var ss={setInterval(e,t,...n){let{delegate:i}=ss;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=ss;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Wi=class extends Jo{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(t,n,i=0){return ss.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&ss.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i=!1,r;try{this.work(t)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Kn(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var zi=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}};zi.now=rs.now;var qi=class extends zi{constructor(t,n=zi.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}};var vn=new qi(Wi),Au=vn;var Xo=class extends Wi{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(t,n,i):(t.flush(this),0)}};var ea=class extends qi{};var Tu=new ea(Xo);var Zn=new A(e=>e.complete());function ta(e){return e&&x(e.schedule)}function Su(e){return e[e.length-1]}function na(e){return x(Su(e))?e.pop():void 0}function It(e){return ta(Su(e))?e.pop():void 0}function ry(e,t){return typeof Su(e)=="number"?e.pop():t}function Mu(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function oy(e,t,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(i.next(u))}catch(d){o(d)}}function c(u){try{l(i.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):r(u.value).then(a,c)}l((i=i.apply(e,t||[])).next())})}function sy(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jn(e){return this instanceof Jn?(this.v=e,this):new Jn(e)}function ay(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){i[h]&&(r[h]=function(m){return new Promise(function(_,I){s.push([h,m,_,I])>1||c(h,m)})},p&&(r[h]=p(r[h])))}function c(h,p){try{l(i[h](p))}catch(m){f(s[0][3],m)}}function l(h){h.value instanceof Jn?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),s.shift(),s.length&&c(s[0][0],s[0][1])}}function cy(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof sy=="function"?sy(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=e[s]&&function(o){return new Promise(function(a,c){o=e[s](o),r(a,c,o.done,o.value)})}}function r(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}var Ki=e=>e&&typeof e.length=="number"&&typeof e!="function";function ia(e){return x(e?.then)}function ra(e){return x(e[Gi])}function sa(e){return Symbol.asyncIterator&&x(e?.[Symbol.asyncIterator])}function oa(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function yx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var aa=yx();function ca(e){return x(e?.[aa])}function la(e){return ay(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield Jn(n.read());if(r)return yield Jn(void 0);yield yield Jn(i)}}finally{n.releaseLock()}})}function ua(e){return x(e?.getReader)}function q(e){if(e instanceof A)return e;if(e!=null){if(ra(e))return vx(e);if(Ki(e))return _x(e);if(ia(e))return Ix(e);if(sa(e))return ly(e);if(ca(e))return Ex(e);if(ua(e))return wx(e)}throw oa(e)}function vx(e){return new A(t=>{let n=e[Gi]();if(x(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function _x(e){return new A(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Ix(e){return new A(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ko)})}function Ex(e){return new A(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function ly(e){return new A(t=>{bx(e,t).catch(n=>t.error(n))})}function wx(e){return ly(la(e))}function bx(e,t){var n,i,r,s;return oy(this,void 0,void 0,function*(){try{for(n=cy(e);i=yield n.next(),!i.done;){let o=i.value;if(t.next(o),t.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}t.complete()})}function Fe(e,t,n,i=0,r=!1){let s=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(s),!r)return s}function _n(e,t=0){return j((n,i)=>{n.subscribe(P(i,r=>Fe(i,e,()=>i.next(r),t),()=>Fe(i,e,()=>i.complete(),t),r=>Fe(i,e,()=>i.error(r),t)))})}function In(e,t=0){return j((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function uy(e,t){return q(e).pipe(In(t),_n(t))}function dy(e,t){return q(e).pipe(In(t),_n(t))}function fy(e,t){return new A(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function hy(e,t){return new A(n=>{let i;return Fe(n,t,()=>{i=e[aa](),Fe(n,t,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>x(i?.return)&&i.return()})}function da(e,t){if(!e)throw new Error("Iterable cannot be null");return new A(n=>{Fe(n,t,()=>{let i=e[Symbol.asyncIterator]();Fe(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function py(e,t){return da(la(e),t)}function gy(e,t){if(e!=null){if(ra(e))return uy(e,t);if(Ki(e))return fy(e,t);if(ia(e))return dy(e,t);if(sa(e))return da(e,t);if(ca(e))return hy(e,t);if(ua(e))return py(e,t)}throw oa(e)}function Ke(e,t){return t?gy(e,t):q(e)}function Xn(...e){let t=It(e);return Ke(e,t)}function Dx(e,t){let n=x(e)?e:()=>e,i=r=>r.error(n());return new A(t?r=>t.schedule(i,0,r):i)}function my(e){return!!e&&(e instanceof A||x(e.lift)&&x(e.subscribe))}var ei=Ui(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function yy(e){return e instanceof Date&&!isNaN(e)}function ce(e,t){return j((n,i)=>{let r=0;n.subscribe(P(i,s=>{i.next(e.call(t,s,r++))}))})}var{isArray:Cx}=Array;function xx(e,t){return Cx(t)?e(...t):e(t)}function Yi(e){return ce(t=>xx(e,t))}var{isArray:Ax}=Array,{getPrototypeOf:Tx,prototype:Sx,keys:Mx}=Object;function fa(e){if(e.length===1){let t=e[0];if(Ax(t))return{args:t,keys:null};if(Nx(t)){let n=Mx(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function Nx(e){return e&&typeof e=="object"&&Tx(e)===Sx}function ha(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function Nu(...e){let t=It(e),n=na(e),{args:i,keys:r}=fa(e);if(i.length===0)return Ke([],t);let s=new A(Rx(i,t,r?o=>ha(r,o):Se));return n?s.pipe(Yi(n)):s}function Rx(e,t,n=Se){return i=>{vy(t,()=>{let{length:r}=e,s=new Array(r),o=r,a=r;for(let c=0;c<r;c++)vy(t,()=>{let l=Ke(e[c],t),u=!1;l.subscribe(P(i,d=>{s[c]=d,u||(u=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function vy(e,t,n){e?Fe(n,e,t):t()}function _y(e,t,n,i,r,s,o,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&t.complete()},h=m=>l<i?p(m):c.push(m),p=m=>{s&&t.next(m),l++;let _=!1;q(n(m,u++)).subscribe(P(t,I=>{r?.(I),s?h(I):t.next(I)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;c.length&&l<i;){let I=c.shift();o?Fe(t,o,()=>p(I)):p(I)}f()}catch(I){t.error(I)}}))};return e.subscribe(P(t,h,()=>{d=!0,f()})),()=>{a?.()}}function $t(e,t,n=1/0){return x(t)?$t((i,r)=>ce((s,o)=>t(i,s,r,o))(q(e(i,r))),n):(typeof t=="number"&&(n=t),j((i,r)=>_y(i,r,e,n)))}function os(e=1/0){return $t(Se,e)}function Iy(){return os(1)}function Qi(...e){return Iy()(Ke(e,It(e)))}function Ox(e){return new A(t=>{q(e()).subscribe(t)})}function kx(...e){let t=na(e),{args:n,keys:i}=fa(e),r=new A(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),c=o,l=o;for(let u=0;u<o;u++){let d=!1;q(n[u]).subscribe(P(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(i?ha(i,a):a),s.complete())}))}});return t?r.pipe(Yi(t)):r}var Px=["addListener","removeListener"],Fx=["addEventListener","removeEventListener"],Lx=["on","off"];function pa(e,t,n,i){if(x(n)&&(i=n,n=void 0),i)return pa(e,t,n).pipe(Yi(i));let[r,s]=Bx(e)?Fx.map(o=>a=>e[o](t,a,n)):jx(e)?Px.map(Ey(e,t)):Vx(e)?Lx.map(Ey(e,t)):[];if(!r&&Ki(e))return $t(o=>pa(o,t,n))(q(e));if(!r)throw new TypeError("Invalid event target");return new A(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>s(a)})}function Ey(e,t){return n=>i=>e[n](t,i)}function jx(e){return x(e.addListener)&&x(e.removeListener)}function Vx(e){return x(e.on)&&x(e.off)}function Bx(e){return x(e.addEventListener)&&x(e.removeEventListener)}function wy(e=0,t,n=Au){let i=-1;return t!=null&&(ta(t)?n=t:i=t),new A(r=>{let s=yy(e)?+e-n.now():e;s<0&&(s=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function ga(...e){let t=It(e),n=ry(e,1/0),i=e;return i.length?i.length===1?q(i[0]):os(n)(Ke(i,t)):Zn}function we(e,t){return j((n,i)=>{let r=0;n.subscribe(P(i,s=>e.call(t,s,r++)&&i.next(s)))})}function by(e){return j((t,n)=>{let i=!1,r=null,s=null,o=!1,a=()=>{if(s?.unsubscribe(),s=null,i){i=!1;let l=r;r=null,n.next(l)}o&&n.complete()},c=()=>{s=null,o&&n.complete()};t.subscribe(P(n,l=>{i=!0,r=l,s||q(e(l)).subscribe(s=P(n,a,c))},()=>{o=!0,(!i||!s||s.closed)&&n.complete()}))})}function Ux(e,t=vn){return by(()=>wy(e,t))}function Dy(e){return j((t,n)=>{let i=null,r=!1,s;i=t.subscribe(P(n,void 0,void 0,o=>{s=q(e(o,Dy(e)(t))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function Cy(e,t,n,i,r){return(s,o)=>{let a=n,c=t,l=0;s.subscribe(P(o,u=>{let d=l++;c=a?e(c,u,d):(a=!0,u),i&&o.next(c)},r&&(()=>{a&&o.next(c),o.complete()})))}}function Ru(e,t){return x(t)?$t(e,t,1):$t(e,1)}function ti(e,t=vn){return j((n,i)=>{let r=null,s=null,o=null,a=()=>{if(r){r.unsubscribe(),r=null;let l=s;s=null,i.next(l)}};function c(){let l=o+e,u=t.now();if(u<l){r=this.schedule(void 0,l-u),i.add(r);return}a()}n.subscribe(P(i,l=>{s=l,o=t.now(),r||(r=t.schedule(c,e),i.add(r))},()=>{a(),i.complete()},void 0,()=>{s=r=null}))})}function as(e){return j((t,n)=>{let i=!1;t.subscribe(P(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function ni(e){return e<=0?()=>Zn:j((t,n)=>{let i=0;t.subscribe(P(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function $x(e){return ce(()=>e)}function ma(e,t=Se){return e=e??Hx,j((n,i)=>{let r,s=!0;n.subscribe(P(i,o=>{let a=t(o);(s||!e(r,a))&&(s=!1,r=a,i.next(o))}))})}function Hx(e,t){return e===t}function ya(e=Gx){return j((t,n)=>{let i=!1;t.subscribe(P(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function Gx(){return new ei}function Ou(e){return j((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function xy(e,t){let n=arguments.length>=2;return i=>i.pipe(e?we((r,s)=>e(r,s,i)):Se,ni(1),n?as(t):ya(()=>new ei))}function ku(e){return e<=0?()=>Zn:j((t,n)=>{let i=[];t.subscribe(P(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Wx(e,t){let n=arguments.length>=2;return i=>i.pipe(e?we((r,s)=>e(r,s,i)):Se,ku(1),n?as(t):ya(()=>new ei))}function zx(e,t){return j(Cy(e,t,arguments.length>=2,!0))}function Fu(e={}){let{connector:t=()=>new ie,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return s=>{let o,a,c,l=0,u=!1,d=!1,f=()=>{a?.unsubscribe(),a=void 0},h=()=>{f(),o=c=void 0,u=d=!1},p=()=>{let m=o;h(),m?.unsubscribe()};return j((m,_)=>{l++,!d&&!u&&f();let I=c=c??t();_.add(()=>{l--,l===0&&!d&&!u&&(a=Pu(p,r))}),I.subscribe(_),!o&&l>0&&(o=new Bt({next:C=>I.next(C),error:C=>{d=!0,f(),a=Pu(h,n,C),I.error(C)},complete:()=>{u=!0,f(),a=Pu(h,i),I.complete()}}),q(m).subscribe(o))})(s)}}function Pu(e,t,...n){if(t===!0){e();return}if(t===!1)return;let i=new Bt({next:()=>{i.unsubscribe(),e()}});return q(t(...n)).subscribe(i)}function qx(e,t,n){let i,r=!1;return e&&typeof e=="object"?{bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:n}=e:i=e??1/0,Fu({connector:()=>new Zo(i,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function cs(e){return we((t,n)=>e<=n)}function Lu(...e){let t=It(e);return j((n,i)=>{(t?Qi(e,n,t):Qi(e,n)).subscribe(i)})}function ls(e,t){return j((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(P(i,c=>{r?.unsubscribe();let l=0,u=s++;q(e(c,u)).subscribe(r=P(i,d=>i.next(t?t(c,d,u,l++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Ye(e){return j((t,n)=>{q(e).subscribe(P(n,()=>n.complete(),is)),!n.closed&&t.subscribe(n)})}function ii(e,t,n){let i=x(e)||t||n?{next:e,error:t,complete:n}:e;return i?j((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(P(s,c=>{var l;(l=i.next)===null||l===void 0||l.call(i,c),s.next(c)},()=>{var c;a=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},c=>{var l;a=!1,(l=i.error)===null||l===void 0||l.call(i,c),s.error(c)},()=>{var c,l;a&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):Se}var gv="https://g.co/ng/security#xss",O=class extends Error{constructor(t,n){super(rc(t,n)),this.code=t}};function rc(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function _s(e){return{toString:e}.toString()}var va="__parameters__";function Kx(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r]}}}function mv(e,t,n){return _s(()=>{let i=Kx(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(c,l,u){let d=c.hasOwnProperty(va)?c[va]:Object.defineProperty(c,va,{value:[]})[va];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var Ht=globalThis;function Z(e){for(let t in e)if(e[t]===Z)return t;throw Error("Could not find renamed property on target object.")}function Yx(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Re(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Re).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function Xu(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var Qx=Z({__forward_ref__:Z});function yv(e){return e.__forward_ref__=yv,e.toString=function(){return Re(this())},e}function Me(e){return vv(e)?e():e}function vv(e){return typeof e=="function"&&e.hasOwnProperty(Qx)&&e.__forward_ref__===yv}function E(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function te(e){return{providers:e.providers||[],imports:e.imports||[]}}function sc(e){return Ay(e,_v)||Ay(e,Iv)}function m8(e){return sc(e)!==null}function Ay(e,t){return e.hasOwnProperty(t)?e[t]:null}function Zx(e){let t=e&&(e[_v]||e[Iv]);return t||null}function Ty(e){return e&&(e.hasOwnProperty(Sy)||e.hasOwnProperty(Jx))?e[Sy]:null}var _v=Z({\u0275prov:Z}),Sy=Z({\u0275inj:Z}),Iv=Z({ngInjectableDef:Z}),Jx=Z({ngInjectorDef:Z}),D=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ev(e){return e&&!!e.\u0275providers}var Xx=Z({\u0275cmp:Z}),eA=Z({\u0275dir:Z}),tA=Z({\u0275pipe:Z}),nA=Z({\u0275mod:Z}),Na=Z({\u0275fac:Z}),ds=Z({__NG_ELEMENT_ID__:Z}),My=Z({__NG_ENV_ID__:Z});function ir(e){return typeof e=="string"?e:e==null?"":String(e)}function iA(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ir(e)}function rA(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new O(-200,e)}function uf(e,t){throw new O(-201,!1)}var G=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(G||{}),ed;function wv(){return ed}function Le(e){let t=ed;return ed=e,t}function bv(e,t,n){let i=sc(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&G.Optional)return null;if(t!==void 0)return t;uf(e,"Injector")}var sA={},fs=sA,td="__NG_DI_FLAG__",Ra="ngTempTokenPath",oA="ngTokenPath",aA=/\n/gm,cA="\u0275",Ny="__source",tr;function lA(){return tr}function En(e){let t=tr;return tr=e,t}function uA(e,t=G.Default){if(tr===void 0)throw new O(-203,!1);return tr===null?bv(e,void 0,t):tr.get(e,t&G.Optional?null:void 0,t)}function y(e,t=G.Default){return(wv()||uA)(Me(e),t)}function b(e,t=G.Default){return y(e,oc(t))}function oc(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function nd(e){let t=[];for(let n=0;n<e.length;n++){let i=Me(e[n]);if(Array.isArray(i)){if(i.length===0)throw new O(900,!1);let r,s=G.Default;for(let o=0;o<i.length;o++){let a=i[o],c=dA(a);typeof c=="number"?c===-1?r=a.token:s|=c:r=a}t.push(y(r,s))}else t.push(y(i))}return t}function Dv(e,t){return e[td]=t,e.prototype[td]=t,e}function dA(e){return e[td]}function fA(e,t,n,i){let r=e[Ra];throw t[Ny]&&r.unshift(t[Ny]),e.message=hA(`
`+e.message,r,n,i),e[oA]=r,e[Ra]=null,e}function hA(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==cA?e.slice(2):e;let r=Re(t);if(Array.isArray(t))r=t.map(Re).join(" -> ");else if(typeof t=="object"){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Re(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(aA,`
  `)}`}var je=Dv(mv("Optional"),8);var pA=Dv(mv("SkipSelf"),4);function oi(e,t){let n=e.hasOwnProperty(Na);return n?e[Na]:null}function gA(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(n&&(r=n(r),s=n(s)),s!==r)return!1}return!0}function mA(e){return e.flat(Number.POSITIVE_INFINITY)}function df(e,t){e.forEach(n=>Array.isArray(n)?df(n,t):t(n))}function Cv(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Oa(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function yA(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function vA(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let s=r-2;e[r]=e[s],r--}e[t]=n,e[t+1]=i}}function ff(e,t,n){let i=Is(e,t);return i>=0?e[i|1]=n:(i=~i,vA(e,i,t,n)),i}function ju(e,t){let n=Is(e,t);if(n>=0)return e[n|1]}function Is(e,t){return _A(e,t,1)}function _A(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=e[s<<n];if(t===o)return s<<n;o>t?r=s:i=s+1}return~(r<<n)}var rr={},Ne=[],hs=new D(""),xv=new D("",-1),Av=new D(""),ka=class{get(t,n=fs){if(n===fs){let i=new Error(`NullInjectorError: No provider for ${Re(t)}!`);throw i.name="NullInjectorError",i}return n}},Tv=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Tv||{}),bt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(bt||{}),Dn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Dn||{});function IA(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let s=t.length;if(r+s===i||e.charCodeAt(r+s)<=32)return r}n=r+1}}function id(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];e.setAttribute(t,o,a,s)}else{let s=r,o=n[++i];EA(s)?e.setProperty(t,s,o):e.setAttribute(t,s,o),i++}}return i}function Sv(e){return e===3||e===4||e===6}function EA(e){return e.charCodeAt(0)===64}function ps(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?Ry(e,n,r,null,t[++i]):Ry(e,n,r,null,null))}}return e}function Ry(e,t,n,i,r){let s=0,o=e.length;if(t===-1)o=-1;else for(;s<e.length;){let a=e[s++];if(typeof a=="number"){if(a===t){o=-1;break}else if(a>t){o=s-1;break}}}for(;s<e.length;){let a=e[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(e[s+1]=r);return}else if(i===e[s+1]){e[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(e.splice(o,0,t),s=o+1),e.splice(s++,0,n),i!==null&&e.splice(s++,0,i),r!==null&&e.splice(s++,0,r)}var Mv="ng-template";function wA(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&IA(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(hf(e))return!1;if(r=t.indexOf(1,r),r>-1){let s;for(;++r<t.length&&typeof(s=t[r])=="string";)if(s.toLowerCase()===n)return!0}return!1}function hf(e){return e.type===4&&e.value!==Mv}function bA(e,t,n){let i=e.type===4&&!n?Mv:e.value;return t===i}function DA(e,t,n){let i=4,r=e.attrs,s=r!==null?AA(r):0,o=!1;for(let a=0;a<t.length;a++){let c=t[a];if(typeof c=="number"){if(!o&&!st(i)&&!st(c))return!1;if(o&&st(c))continue;o=!1,i=c|i&1;continue}if(!o)if(i&4){if(i=2|i&1,c!==""&&!bA(e,c,n)||c===""&&t.length===1){if(st(i))return!1;o=!0}}else if(i&8){if(r===null||!wA(e,r,c,n)){if(st(i))return!1;o=!0}}else{let l=t[++a],u=CA(c,r,hf(e),n);if(u===-1){if(st(i))return!1;o=!0;continue}if(l!==""){let d;if(u>s?d="":d=r[u+1].toLowerCase(),i&2&&l!==d){if(st(i))return!1;o=!0}}}}return st(i)||o}function st(e){return(e&1)===0}function CA(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<t.length;){let o=t[r];if(o===e)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return TA(t,e)}function Nv(e,t,n=!1){for(let i=0;i<t.length;i++)if(DA(e,t[i],n))return!0;return!1}function xA(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function AA(e){for(let t=0;t<e.length;t++){let n=e[t];if(Sv(n))return t}return e.length}function TA(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function SA(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function Oy(e,t){return e?":not("+t.trim()+")":t}function MA(e){let t=e[0],n=1,i=2,r="",s=!1;for(;n<e.length;){let o=e[n];if(typeof o=="string")if(i&2){let a=e[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!st(o)&&(t+=Oy(s,r),r=""),i=o,s=s||!st(i);n++}return r!==""&&(t+=Oy(s,r)),t}function NA(e){return e.map(MA).join(",")}function RA(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let s=e[i];if(typeof s=="string")r===2?s!==""&&t.push(s,e[++i]):r===8&&n.push(s);else{if(!st(r))break;r=s}i++}return{attrs:t,classes:n}}function OA(e){return _s(()=>{let t=Fv(e),n=Ee(L({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Tv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||bt.Emulated,styles:e.styles||Ne,_:null,schemas:e.schemas||null,tView:null,id:""});Lv(n);let i=e.dependencies;return n.directiveDefs=Py(i,!1),n.pipeDefs=Py(i,!0),n.id=LA(n),n})}function kA(e){return Cn(e)||Ov(e)}function PA(e){return e!==null}function ne(e){return _s(()=>({type:e.type,bootstrap:e.bootstrap||Ne,declarations:e.declarations||Ne,imports:e.imports||Ne,exports:e.exports||Ne,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function ky(e,t){if(e==null)return rr;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],s,o,a=Dn.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),t?(n[s]=a!==Dn.None?[i,a]:i,t[s]=o):n[s]=i}return n}function z(e){return _s(()=>{let t=Fv(e);return Lv(t),t})}function Rv(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Cn(e){return e[Xx]||null}function Ov(e){return e[eA]||null}function kv(e){return e[tA]||null}function FA(e){let t=Cn(e)||Ov(e)||kv(e);return t!==null?t.standalone:!1}function Pv(e,t){let n=e[nA]||null;if(!n&&t===!0)throw new Error(`Type ${Re(e)} does not have '\u0275mod' property.`);return n}function Fv(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||rr,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Ne,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ky(e.inputs,t),outputs:ky(e.outputs),debugInfo:null}}function Lv(e){e.features?.forEach(t=>t(e))}function Py(e,t){if(!e)return null;let n=t?kv:kA;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(PA)}function LA(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of n)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Tt(e){return{\u0275providers:e}}function jA(...e){return{\u0275providers:jv(!0,e),\u0275fromNgModule:!0}}function jv(e,...t){let n=[],i=new Set,r,s=o=>{n.push(o)};return df(t,o=>{let a=o;rd(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Vv(r,s),n}function Vv(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];pf(r,s=>{t(s,i)})}}function rd(e,t,n,i){if(e=Me(e),!e)return!1;let r=null,s=Ty(e),o=!s&&Cn(e);if(!s&&!o){let c=e.ngModule;if(s=Ty(c),s)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=e}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)rd(l,t,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let l;try{df(s.imports,u=>{rd(u,t,n,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Vv(l,t)}if(!a){let l=oi(r)||(()=>new r);t({provide:r,useFactory:l,deps:Ne},r),t({provide:Av,useValue:r,multi:!0},r),t({provide:hs,useValue:()=>y(r),multi:!0},r)}let c=s.providers;if(c!=null&&!a){let l=e;pf(c,u=>{t(u,l)})}}else return!1;return r!==e&&e.providers!==void 0}function pf(e,t){for(let n of e)Ev(n)&&(n=n.\u0275providers),Array.isArray(n)?pf(n,t):t(n)}var VA=Z({provide:String,useValue:Z});function Bv(e){return e!==null&&typeof e=="object"&&VA in e}function BA(e){return!!(e&&e.useExisting)}function UA(e){return!!(e&&e.useFactory)}function sr(e){return typeof e=="function"}function $A(e){return!!e.useClass}var ac=new D(""),Ca={},HA={},Vu;function gf(){return Vu===void 0&&(Vu=new ka),Vu}var Dt=class{},gs=class extends Dt{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,od(t,o=>this.processProvider(o)),this.records.set(xv,Zi(void 0,this)),r.has("environment")&&this.records.set(Dt,Zi(void 0,this));let s=this.records.get(ac);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Av,Ne,G.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=$(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),$(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=En(this),i=Le(void 0),r;try{return t()}finally{En(n),Le(i)}}get(t,n=fs,i=G.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(My))return t[My](this);i=oc(i);let r,s=En(this),o=Le(void 0);try{if(!(i&G.SkipSelf)){let c=this.records.get(t);if(c===void 0){let l=KA(t)&&sc(t);l&&this.injectableDefInScope(l)?c=Zi(sd(t),Ca):c=null,this.records.set(t,c)}if(c!=null)return this.hydrate(t,c)}let a=i&G.Self?gf():this.parent;return n=i&G.Optional&&n===fs?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ra]=a[Ra]||[]).unshift(Re(t)),s)throw a;return fA(a,t,"R3InjectorError",this.source)}else throw a}finally{Le(o),En(s)}}resolveInjectorInitializers(){let t=$(null),n=En(this),i=Le(void 0),r;try{let s=this.get(hs,Ne,G.Self);for(let o of s)o()}finally{En(n),Le(i),$(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(Re(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(t){t=Me(t);let n=sr(t)?t:Me(t&&t.provide),i=WA(t);if(!sr(t)&&t.multi===!0){let r=this.records.get(n);r||(r=Zi(void 0,Ca,!0),r.factory=()=>nd(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){let i=$(null);try{return n.value===Ca&&(n.value=HA,n.value=n.factory()),typeof n.value=="object"&&n.value&&qA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{$(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Me(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function sd(e){let t=sc(e),n=t!==null?t.factory:oi(e);if(n!==null)return n;if(e instanceof D)throw new O(204,!1);if(e instanceof Function)return GA(e);throw new O(204,!1)}function GA(e){if(e.length>0)throw new O(204,!1);let n=Zx(e);return n!==null?()=>n.factory(e):()=>new e}function WA(e){if(Bv(e))return Zi(void 0,e.useValue);{let t=Uv(e);return Zi(t,Ca)}}function Uv(e,t,n){let i;if(sr(e)){let r=Me(e);return oi(r)||sd(r)}else if(Bv(e))i=()=>Me(e.useValue);else if(UA(e))i=()=>e.useFactory(...nd(e.deps||[]));else if(BA(e))i=()=>y(Me(e.useExisting));else{let r=Me(e&&(e.useClass||e.provide));if(zA(e))i=()=>new r(...nd(e.deps));else return oi(r)||sd(r)}return i}function Zi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function zA(e){return!!e.deps}function qA(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function KA(e){return typeof e=="function"||typeof e=="object"&&e instanceof D}function od(e,t){for(let n of e)Array.isArray(n)?od(n,t):n&&Ev(n)?od(n.\u0275providers,t):t(n)}function $v(e,t){e instanceof gs&&e.assertNotDestroyed();let n,i=En(e),r=Le(void 0);try{return t()}finally{En(i),Le(r)}}function Hv(){return wv()!==void 0||lA()!=null}function Gv(e){if(!Hv())throw new O(-203,!1)}function YA(e){return typeof e=="function"}var St=0,N=1,T=2,Ce=3,at=4,Ve=5,or=6,Pa=7,be=8,ar=9,Ct=10,oe=11,ms=12,Fy=13,mr=14,Ge=15,ai=16,Ji=17,Gt=18,cc=19,Wv=20,wn=21,Bu=22,Qe=23,ve=25,mf=1;var ci=7,Fa=8,cr=9,De=10,La=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(La||{});function bn(e){return Array.isArray(e)&&typeof e[mf]=="object"}function Qt(e){return Array.isArray(e)&&e[mf]===!0}function yf(e){return(e.flags&4)!==0}function lc(e){return e.componentOffset>-1}function uc(e){return(e.flags&1)===1}function Wt(e){return!!e.template}function ad(e){return(e[T]&512)!==0}var cd=class{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function zv(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}function gi(){return qv}function qv(e){return e.type.prototype.ngOnChanges&&(e.setInput=ZA),QA}gi.ngInherit=!0;function QA(){let e=Yv(this),t=e?.current;if(t){let n=e.previous;if(n===rr)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function ZA(e,t,n,i,r){let s=this.declaredInputs[i],o=Yv(e)||JA(e,{previous:rr,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[s];a[s]=new cd(l&&l.currentValue,n,c===rr),zv(e,t,r,n)}var Kv="__ngSimpleChanges__";function Yv(e){return e[Kv]||null}function JA(e,t){return e[Kv]=t}var Ly=null;var Et=function(e,t,n){Ly?.(e,t,n)},Qv="svg",XA="math";function xt(e){for(;Array.isArray(e);)e=e[St];return e}function eT(e){for(;Array.isArray(e);){if(typeof e[mf]=="object")return e;e=e[St]}return null}function Zv(e,t){return xt(t[e])}function Ze(e,t){return xt(t[e.index])}function vf(e,t){return e.data[t]}function _f(e,t){return e[t]}function Sn(e,t){let n=t[e];return bn(n)?n:n[St]}function tT(e){return(e[T]&4)===4}function If(e){return(e[T]&128)===128}function nT(e){return Qt(e[Ce])}function xn(e,t){return t==null?null:e[t]}function Jv(e){e[Ji]=0}function Xv(e){e[T]&1024||(e[T]|=1024,If(e)&&fc(e))}function iT(e,t){for(;e>0;)t=t[mr],e--;return t}function dc(e){return!!(e[T]&9216||e[Qe]?.dirty)}function ld(e){e[Ct].changeDetectionScheduler?.notify(8),e[T]&64&&(e[T]|=1024),dc(e)&&fc(e)}function fc(e){e[Ct].changeDetectionScheduler?.notify(0);let t=li(e);for(;t!==null&&!(t[T]&8192||(t[T]|=8192,!If(t)));)t=li(t)}function e_(e,t){if((e[T]&256)===256)throw new O(911,!1);e[wn]===null&&(e[wn]=[]),e[wn].push(t)}function rT(e,t){if(e[wn]===null)return;let n=e[wn].indexOf(t);n!==-1&&e[wn].splice(n,1)}function li(e){let t=e[Ce];return Qt(t)?t[Ce]:t}var V={lFrame:c_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var t_=!1;function sT(){return V.lFrame.elementDepthCount}function oT(){V.lFrame.elementDepthCount++}function aT(){V.lFrame.elementDepthCount--}function n_(){return V.bindingsEnabled}function i_(){return V.skipHydrationRootTNode!==null}function cT(e){return V.skipHydrationRootTNode===e}function lT(){V.skipHydrationRootTNode=null}function S(){return V.lFrame.lView}function re(){return V.lFrame.tView}function y8(e){return V.lFrame.contextLView=e,e[be]}function v8(e){return V.lFrame.contextLView=null,e}function Ie(){let e=r_();for(;e!==null&&e.type===64;)e=e.parent;return e}function r_(){return V.lFrame.currentTNode}function uT(){let e=V.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function mi(e,t){let n=V.lFrame;n.currentTNode=e,n.isParent=t}function Ef(){return V.lFrame.isParent}function wf(){V.lFrame.isParent=!1}function dT(){return V.lFrame.contextLView}function s_(){return t_}function jy(e){t_=e}function Es(){let e=V.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function fT(){return V.lFrame.bindingIndex}function hT(e){return V.lFrame.bindingIndex=e}function yi(){return V.lFrame.bindingIndex++}function bf(e){let t=V.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function pT(){return V.lFrame.inI18n}function gT(e,t){let n=V.lFrame;n.bindingIndex=n.bindingRootIndex=e,ud(t)}function mT(){return V.lFrame.currentDirectiveIndex}function ud(e){V.lFrame.currentDirectiveIndex=e}function Df(e){let t=V.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Cf(){return V.lFrame.currentQueryIndex}function hc(e){V.lFrame.currentQueryIndex=e}function yT(e){let t=e[N];return t.type===2?t.declTNode:t.type===1?e[Ve]:null}function o_(e,t,n){if(n&G.SkipSelf){let r=t,s=e;for(;r=r.parent,r===null&&!(n&G.Host);)if(r=yT(s),r===null||(s=s[mr],r.type&10))break;if(r===null)return!1;t=r,e=s}let i=V.lFrame=a_();return i.currentTNode=t,i.lView=e,!0}function xf(e){let t=a_(),n=e[N];V.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function a_(){let e=V.lFrame,t=e===null?null:e.child;return t===null?c_(e):t}function c_(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function l_(){let e=V.lFrame;return V.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var u_=l_;function Af(){let e=l_();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function vT(e){return(V.lFrame.contextLView=iT(e,V.lFrame.contextLView))[be]}function Zt(){return V.lFrame.selectedIndex}function ui(e){V.lFrame.selectedIndex=e}function ws(){let e=V.lFrame;return vf(e.tView,e.selectedIndex)}function _8(){V.lFrame.currentNamespace=Qv}function I8(){_T()}function _T(){V.lFrame.currentNamespace=null}function IT(){return V.lFrame.currentNamespace}var d_=!0;function pc(){return d_}function gc(e){d_=e}function ET(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){let o=qv(t);(n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o)}r&&(n.preOrderHooks??=[]).push(0-e,r),s&&((n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s))}function mc(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let s=e.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(e.contentHooks??=[]).push(-n,o),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function xa(e,t,n){f_(e,t,3,n)}function Aa(e,t,n,i){(e[T]&3)===n&&f_(e,t,n,i)}function Uu(e,t){let n=e[T];(n&3)===t&&(n&=16383,n+=1,e[T]=n)}function f_(e,t,n,i){let r=i!==void 0?e[Ji]&65535:0,s=i??-1,o=t.length-1,a=0;for(let c=r;c<o;c++)if(typeof t[c+1]=="number"){if(a=t[c],i!=null&&a>=i)break}else t[c]<0&&(e[Ji]+=65536),(a<s||s==-1)&&(wT(e,n,t,c),e[Ji]=(e[Ji]&4294901760)+c+2),c++}function Vy(e,t){Et(4,e,t);let n=$(null);try{t.call(e)}finally{$(n),Et(5,e,t)}}function wT(e,t,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=e[o];r?e[T]>>14<e[Ji]>>16&&(e[T]&3)===t&&(e[T]+=16384,Vy(a,s)):Vy(a,s)}var nr=-1,di=class{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function bT(e){return e instanceof di}function DT(e){return(e.flags&8)!==0}function CT(e){return(e.flags&16)!==0}var $u={},dd=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=oc(i);let r=this.injector.get(t,$u,i);return r!==$u||n===$u?r:this.parentInjector.get(t,n,i)}};function h_(e){return e!==nr}function ja(e){return e&32767}function xT(e){return e>>16}function Va(e,t){let n=xT(e),i=t;for(;n>0;)i=i[mr],n--;return i}var fd=!0;function Ba(e){let t=fd;return fd=e,t}var AT=256,p_=AT-1,g_=5,TT=0,wt={};function ST(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(ds)&&(i=n[ds]),i==null&&(i=n[ds]=TT++);let r=i&p_,s=1<<r;t.data[e+(r>>g_)]|=s}function Ua(e,t){let n=m_(e,t);if(n!==-1)return n;let i=t[N];i.firstCreatePass&&(e.injectorIndex=t.length,Hu(i.data,e),Hu(t,null),Hu(i.blueprint,null));let r=Tf(e,t),s=e.injectorIndex;if(h_(r)){let o=ja(r),a=Va(r,t),c=a[N].data;for(let l=0;l<8;l++)t[s+l]=a[o+l]|c[o+l]}return t[s+8]=r,s}function Hu(e,t){e.push(0,0,0,0,0,0,0,0,t)}function m_(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Tf(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=E_(r),i===null)return nr;if(n++,r=r[mr],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return nr}function hd(e,t,n){ST(e,t,n)}function MT(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let i=n.length,r=0;for(;r<i;){let s=n[r];if(Sv(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(s===t)return n[r+1];r=r+2}}}return null}function y_(e,t,n){if(n&G.Optional||e!==void 0)return e;uf(t,"NodeInjector")}function v_(e,t,n,i){if(n&G.Optional&&i===void 0&&(i=null),!(n&(G.Self|G.Host))){let r=e[ar],s=Le(void 0);try{return r?r.get(t,i,n&G.Optional):bv(t,i,n&G.Optional)}finally{Le(s)}}return y_(i,t,n)}function __(e,t,n,i=G.Default,r){if(e!==null){if(t[T]&2048&&!(i&G.Self)){let o=kT(e,t,n,i,wt);if(o!==wt)return o}let s=I_(e,t,n,i,wt);if(s!==wt)return s}return v_(t,n,i,r)}function I_(e,t,n,i,r){let s=RT(n);if(typeof s=="function"){if(!o_(t,e,i))return i&G.Host?y_(r,n,i):v_(t,n,i,r);try{let o;if(o=s(i),o==null&&!(i&G.Optional))uf(n);else return o}finally{u_()}}else if(typeof s=="number"){let o=null,a=m_(e,t),c=nr,l=i&G.Host?t[Ge][Ve]:null;for((a===-1||i&G.SkipSelf)&&(c=a===-1?Tf(e,t):t[a+8],c===nr||!Uy(i,!1)?a=-1:(o=t[N],a=ja(c),t=Va(c,t)));a!==-1;){let u=t[N];if(By(s,a,u.data)){let d=NT(a,t,n,o,i,l);if(d!==wt)return d}c=t[a+8],c!==nr&&Uy(i,t[N].data[a+8]===l)&&By(s,a,t)?(o=u,a=ja(c),t=Va(c,t)):a=-1}}return r}function NT(e,t,n,i,r,s){let o=t[N],a=o.data[e+8],c=i==null?lc(a)&&fd:i!=o&&(a.type&3)!==0,l=r&G.Host&&s===a,u=Ta(a,o,n,c,l);return u!==null?fi(t,o,u,a):wt}function Ta(e,t,n,i,r){let s=e.providerIndexes,o=t.data,a=s&1048575,c=e.directiveStart,l=e.directiveEnd,u=s>>20,d=i?a:a+u,f=r?a+u:l;for(let h=d;h<f;h++){let p=o[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(r){let h=o[c];if(h&&Wt(h)&&h.type===n)return c}return null}function fi(e,t,n,i){let r=e[n],s=t.data;if(bT(r)){let o=r;o.resolving&&rA(iA(s[n]));let a=Ba(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?Le(o.injectImpl):null,u=o_(e,i,G.Default);try{r=e[n]=o.factory(void 0,s,e,i),t.firstCreatePass&&n>=i.directiveStart&&ET(n,s[n],t)}finally{l!==null&&Le(l),Ba(a),o.resolving=!1,u_()}}return r}function RT(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(ds)?e[ds]:void 0;return typeof t=="number"?t>=0?t&p_:OT:t}function By(e,t,n){let i=1<<e;return!!(n[t+(e>>g_)]&i)}function Uy(e,t){return!(e&G.Self)&&!(e&G.Host&&t)}var si=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return __(this._tNode,this._lView,t,oc(i),n)}};function OT(){return new si(Ie(),S())}function ct(e){return _s(()=>{let t=e.prototype.constructor,n=t[Na]||pd(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let s=r[Na]||pd(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function pd(e){return vv(e)?()=>{let t=pd(Me(e));return t&&t()}:oi(e)}function kT(e,t,n,i,r){let s=e,o=t;for(;s!==null&&o!==null&&o[T]&2048&&!(o[T]&512);){let a=I_(s,o,n,i|G.Self,wt);if(a!==wt)return a;let c=s.parent;if(!c){let l=o[Wv];if(l){let u=l.get(n,wt,i);if(u!==wt)return u}c=E_(o),o=o[mr]}s=c}return r}function E_(e){let t=e[N],n=t.type;return n===2?t.declTNode:n===1?e[Ve]:null}function PT(e){return MT(Ie(),e)}function $y(e,t=null,n=null,i){let r=w_(e,t,n,i);return r.resolveInjectorInitializers(),r}function w_(e,t=null,n=null,i,r=new Set){let s=[n||Ne,jA(e)];return i=i||(typeof e=="object"?void 0:Re(e)),new gs(s,t||gf(),i||null,r)}var xe=class e{static{this.THROW_IF_NOT_FOUND=fs}static{this.NULL=new ka}static create(t,n){if(Array.isArray(t))return $y({name:""},n,t,"");{let i=t.name??"";return $y({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=E({token:e,providedIn:"any",factory:()=>y(xv)})}static{this.__NG_ELEMENT_ID__=-1}};var FT=new D("");FT.__NG_ELEMENT_ID__=e=>{let t=Ie();if(t===null)throw new O(204,!1);if(t.type&2)return t.value;if(e&G.Optional)return null;throw new O(204,!1)};var LT="ngOriginalError";function Gu(e){return e[LT]}var b_=!0,Sf=(()=>{class e{static{this.__NG_ELEMENT_ID__=jT}static{this.__NG_ENV_ID__=n=>n}}return e})(),gd=class extends Sf{constructor(t){super(),this._lView=t}onDestroy(t){return e_(this._lView,t),()=>rT(this._lView,t)}};function jT(){return new gd(S())}var yr=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ut(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e})}}return e})();var md=class extends ie{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,Hv()&&(this.destroyRef=b(Sf,{optional:!0})??void 0,this.pendingTasks=b(yr,{optional:!0})??void 0)}emit(t){let n=$(null);try{super.next(t)}finally{$(n)}}subscribe(t,n,i){let r=t,s=n||(()=>null),o=i;if(t&&typeof t=="object"){let c=t;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return t instanceof le&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},_e=md;function $a(...e){}function D_(e){let t,n;function i(){e=$a;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function Hy(e){return queueMicrotask(()=>e()),()=>{e=$a}}var Mf="isAngularZone",Ha=Mf+"_ID",VT=0,R=class e{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _e(!1),this.onMicrotaskEmpty=new _e(!1),this.onStable=new _e(!1),this.onError=new _e(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=b_}=t;if(typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,$T(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Mf)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new O(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,BT,$a,$a);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},BT={};function Nf(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function UT(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){D_(()=>{e.callbackScheduled=!1,yd(e),e.isCheckStableRunning=!0,Nf(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),yd(e)}function $T(e){let t=()=>{UT(e)},n=VT++;e._inner=e._inner.fork({name:"angular",properties:{[Mf]:!0,[Ha]:n,[Ha+n]:!0},onInvokeTask:(i,r,s,o,a,c)=>{if(HT(c))return i.invokeTask(s,o,a,c);try{return Gy(e),i.invokeTask(s,o,a,c)}finally{(e.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Wy(e)}},onInvoke:(i,r,s,o,a,c,l)=>{try{return Gy(e),i.invoke(s,o,a,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!GT(c)&&t(),Wy(e)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(e._hasPendingMicrotasks=o.microTask,yd(e),Nf(e)):o.change=="macroTask"&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}function yd(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Gy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Wy(e){e._nesting--,Nf(e)}var vd=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _e,this.onMicrotaskEmpty=new _e,this.onStable=new _e,this.onError=new _e}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function HT(e){return C_(e,"__ignore_ng_zone__")}function GT(e){return C_(e,"__scheduler_tick__")}function C_(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var zt=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Gu(t);for(;n&&Gu(n);)n=Gu(n);return n||null}},WT=new D("",{providedIn:"root",factory:()=>{let e=b(R),t=b(zt);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function zT(){return vr(Ie(),S())}function vr(e,t){return new J(Ze(e,t))}var J=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=zT}}return e})();function x_(e){return e instanceof J?e.nativeElement:e}function qT(){return this._results[Symbol.iterator]()}var Ga=class e{get changes(){return this._changes??=new _e}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=qT)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=mA(t);(this._changesDetected=!gA(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function A_(e){return(e.flags&128)===128}var T_=new Map,KT=0;function YT(){return KT++}function QT(e){T_.set(e[cc],e)}function _d(e){T_.delete(e[cc])}var zy="__ngContext__";function An(e,t){bn(t)?(e[zy]=t[cc],QT(t)):e[zy]=t}function S_(e){return N_(e[ms])}function M_(e){return N_(e[at])}function N_(e){for(;e!==null&&!Qt(e);)e=e[at];return e}var Id;function R_(e){Id=e}function ZT(){if(Id!==void 0)return Id;if(typeof document<"u")return document;throw new O(210,!1)}var yc=new D("",{providedIn:"root",factory:()=>JT}),JT="ng",Rf=new D(""),de=new D("",{providedIn:"platform",factory:()=>"unknown"});var Of=new D(""),vi=new D("",{providedIn:"root",factory:()=>ZT().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var XT="h",e0="b";var t0=()=>null;function kf(e,t,n=!1){return t0(e,t,n)}var O_=!1,n0=new D("",{providedIn:"root",factory:()=>O_});var _a;function i0(){if(_a===void 0&&(_a=null,Ht.trustedTypes))try{_a=Ht.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return _a}function vc(e){return i0()?.createHTML(e)||e}var Ia;function r0(){if(Ia===void 0&&(Ia=null,Ht.trustedTypes))try{Ia=Ht.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ia}function qy(e){return r0()?.createScriptURL(e)||e}var qt=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gv})`}},Ed=class extends qt{getTypeName(){return"HTML"}},wd=class extends qt{getTypeName(){return"Style"}},bd=class extends qt{getTypeName(){return"Script"}},Dd=class extends qt{getTypeName(){return"URL"}},Cd=class extends qt{getTypeName(){return"ResourceURL"}};function lt(e){return e instanceof qt?e.changingThisBreaksApplicationSecurity:e}function Mn(e,t){let n=s0(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${gv})`)}return n===t}function s0(e){return e instanceof qt&&e.getTypeName()||null}function k_(e){return new Ed(e)}function P_(e){return new wd(e)}function F_(e){return new bd(e)}function L_(e){return new Dd(e)}function j_(e){return new Cd(e)}function o0(e){let t=new Ad(e);return a0()?new xd(t):t}var xd=class{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(vc(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},Ad=class{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=vc(t),n}};function a0(){try{return!!new window.DOMParser().parseFromString(vc(""),"text/html")}catch{return!1}}var c0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _c(e){return e=String(e),e.match(c0)?e:"unsafe:"+e}function Jt(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function bs(...e){let t={};for(let n of e)for(let i in n)n.hasOwnProperty(i)&&(t[i]=!0);return t}var V_=Jt("area,br,col,hr,img,wbr"),B_=Jt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),U_=Jt("rp,rt"),l0=bs(U_,B_),u0=bs(B_,Jt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),d0=bs(U_,Jt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ky=bs(V_,u0,d0,l0),$_=Jt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),f0=Jt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),h0=Jt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),p0=bs($_,f0,h0),g0=Jt("script,style,template"),Td=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,i=!0,r=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?i=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,i&&n.firstChild){r.push(n),n=v0(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let s=y0(n);if(s){n=s;break}n=r.pop()}}return this.buf.join("")}startElement(t){let n=Yy(t).toLowerCase();if(!Ky.hasOwnProperty(n))return this.sanitizedSomething=!0,!g0.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let i=t.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!p0.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;$_[a]&&(c=_c(c)),this.buf.push(" ",o,'="',Qy(c),'"')}return this.buf.push(">"),!0}endElement(t){let n=Yy(t).toLowerCase();Ky.hasOwnProperty(n)&&!V_.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Qy(t))}};function m0(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function y0(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw H_(t);return t}function v0(e){let t=e.firstChild;if(t&&m0(e,t))throw H_(t);return t}function Yy(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function H_(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var _0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,I0=/([^\#-~ |!])/g;function Qy(e){return e.replace(/&/g,"&amp;").replace(_0,function(t){let n=t.charCodeAt(0),i=t.charCodeAt(1);return"&#"+((n-55296)*1024+(i-56320)+65536)+";"}).replace(I0,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Ea;function G_(e,t){let n=null;try{Ea=Ea||o0(e);let i=t?String(t):"";n=Ea.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=n.innerHTML,n=Ea.getInertBodyElement(i)}while(i!==s);let a=new Td().sanitizeChildren(Zy(n)||n);return vc(a)}finally{if(n){let i=Zy(n)||n;for(;i.firstChild;)i.firstChild.remove()}}}function Zy(e){return"content"in e&&E0(e)?e.content:null}function E0(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var Mt=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Mt||{});function w0(e){let t=W_();return t?t.sanitize(Mt.URL,e)||"":Mn(e,"URL")?lt(e):_c(ir(e))}function b0(e){let t=W_();if(t)return qy(t.sanitize(Mt.RESOURCE_URL,e)||"");if(Mn(e,"ResourceURL"))return qy(lt(e));throw new O(904,!1)}function D0(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?b0:w0}function E8(e,t,n){return D0(t,n)(e)}function W_(){let e=S();return e&&e[Ct].sanitizer}var C0=/^>|^->|<!--|-->|--!>|<!-$/g,x0=/(<|>)/g,A0="\u200B$1\u200B";function T0(e){return e.replace(C0,t=>t.replace(x0,A0))}function z_(e){return e instanceof Function?e():e}function q_(e){return(e??b(xe)).get(de)==="browser"}var Kt=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Kt||{}),S0;function Pf(e,t){return S0(e,t)}function Xi(e,t,n,i,r){if(i!=null){let s,o=!1;Qt(i)?s=i:bn(i)&&(o=!0,i=i[St]);let a=xt(i);e===0&&n!==null?r==null?J_(t,n,a):Wa(t,n,a,r||null,!0):e===1&&n!==null?Wa(t,n,a,r||null,!0):e===2?H0(t,a,o):e===3&&t.destroyNode(a),s!=null&&W0(t,e,s,n,r)}}function M0(e,t){return e.createText(t)}function N0(e,t,n){e.setValue(t,n)}function R0(e,t){return e.createComment(T0(t))}function K_(e,t,n){return e.createElement(t,n)}function O0(e,t){Y_(e,t),t[St]=null,t[Ve]=null}function k0(e,t,n,i,r,s){i[St]=r,i[Ve]=t,wc(e,i,n,1,r,s)}function Y_(e,t){t[Ct].changeDetectionScheduler?.notify(9),wc(e,t,t[oe],2,null,null)}function P0(e){let t=e[ms];if(!t)return Wu(e[N],e);for(;t;){let n=null;if(bn(t))n=t[ms];else{let i=t[De];i&&(n=i)}if(!n){for(;t&&!t[at]&&t!==e;)bn(t)&&Wu(t[N],t),t=t[Ce];t===null&&(t=e),bn(t)&&Wu(t[N],t),n=t&&t[at]}t=n}}function F0(e,t,n,i){let r=De+i,s=n.length;i>0&&(n[r-1][at]=t),i<s-De?(t[at]=n[r],Cv(n,De+i,t)):(n.push(t),t[at]=null),t[Ce]=n;let o=t[ai];o!==null&&n!==o&&Q_(o,t);let a=t[Gt];a!==null&&a.insertView(e),ld(t),t[T]|=128}function Q_(e,t){let n=e[cr],i=t[Ce];if(bn(i))e[T]|=La.HasTransplantedViews;else{let r=i[Ce][Ge];t[Ge]!==r&&(e[T]|=La.HasTransplantedViews)}n===null?e[cr]=[t]:n.push(t)}function Ff(e,t){let n=e[cr],i=n.indexOf(t);n.splice(i,1)}function ys(e,t){if(e.length<=De)return;let n=De+t,i=e[n];if(i){let r=i[ai];r!==null&&r!==e&&Ff(r,i),t>0&&(e[n-1][at]=i[at]);let s=Oa(e,De+t);O0(i[N],i);let o=s[Gt];o!==null&&o.detachView(s[N]),i[Ce]=null,i[at]=null,i[T]&=-129}return i}function Ic(e,t){if(!(t[T]&256)){let n=t[oe];n.destroyNode&&wc(e,t,n,3,null,null),P0(t)}}function Wu(e,t){if(t[T]&256)return;let n=$(null);try{t[T]&=-129,t[T]|=256,t[Qe]&&pu(t[Qe]),j0(e,t),L0(e,t),t[N].type===1&&t[oe].destroy();let i=t[ai];if(i!==null&&Qt(t[Ce])){i!==t[Ce]&&Ff(i,t);let r=t[Gt];r!==null&&r.detachView(e)}_d(t)}finally{$(n)}}function L0(e,t){let n=e.cleanup,i=t[Pa];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(t[Pa]=null);let r=t[wn];if(r!==null){t[wn]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function j0(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof di)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],c=s[o+1];Et(4,a,c);try{c.call(a)}finally{Et(5,a,c)}}else{Et(4,r,s);try{s.call(r)}finally{Et(5,r,s)}}}}}function Z_(e,t,n){return V0(e,t.parent,n)}function V0(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[St];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=e.data[i.directiveStart+r];if(s===bt.None||s===bt.Emulated)return null}return Ze(i,n)}}function Wa(e,t,n,i,r){e.insertBefore(t,n,i,r)}function J_(e,t,n){e.appendChild(t,n)}function Jy(e,t,n,i,r){i!==null?Wa(e,t,n,i,r):J_(e,t,n)}function X_(e,t){return e.parentNode(t)}function B0(e,t){return e.nextSibling(t)}function eI(e,t,n){return $0(e,t,n)}function U0(e,t,n){return e.type&40?Ze(e,n):null}var $0=U0,Xy;function Ec(e,t,n,i){let r=Z_(e,i,t),s=t[oe],o=i.parent||t[Ve],a=eI(o,i,t);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Jy(s,r,n[c],a,!1);else Jy(s,r,n,a,!1);Xy!==void 0&&Xy(s,i,t,n,r)}function us(e,t){if(t!==null){let n=t.type;if(n&3)return Ze(t,e);if(n&4)return Sd(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return us(e,i);{let r=e[t.index];return Qt(r)?Sd(-1,r):xt(r)}}else{if(n&128)return us(e,t.next);if(n&32)return Pf(t,e)()||xt(e[t.index]);{let i=tI(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=li(e[Ge]);return us(r,i)}else return us(e,t.next)}}}return null}function tI(e,t){if(t!==null){let i=e[Ge][Ve],r=t.projection;return i.projection[r]}return null}function Sd(e,t){let n=De+e+1;if(n<t.length){let i=t[n],r=i[N].firstChild;if(r!==null)return us(i,r)}return t[ci]}function H0(e,t,n){e.removeChild(null,t,n)}function Lf(e,t,n,i,r,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],c=n.type;if(o&&t===0&&(a&&An(xt(a),i),n.flags|=2),(n.flags&32)!==32)if(c&8)Lf(e,t,n.child,i,r,s,!1),Xi(t,e,r,a,s);else if(c&32){let l=Pf(n,i),u;for(;u=l();)Xi(t,e,r,u,s);Xi(t,e,r,a,s)}else c&16?nI(e,t,i,n,r,s):Xi(t,e,r,a,s);n=o?n.projectionNext:n.next}}function wc(e,t,n,i,r,s){Lf(n,i,e.firstChild,t,r,s,!1)}function G0(e,t,n){let i=t[oe],r=Z_(e,n,t),s=n.parent||t[Ve],o=eI(s,n,t);nI(i,0,t,n,r,o)}function nI(e,t,n,i,r,s){let o=n[Ge],c=o[Ve].projection[i.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Xi(t,e,r,u,s)}else{let l=c,u=o[Ce];A_(i)&&(l.flags|=128),Lf(e,t,l,u,r,s,!0)}}function W0(e,t,n,i,r){let s=n[ci],o=xt(n);s!==o&&Xi(t,e,i,s,r);for(let a=De;a<n.length;a++){let c=n[a];wc(c[N],c,e,t,i,s)}}function z0(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:Kt.DashCase;r==null?e.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Kt.Important),e.setStyle(n,i,r,s))}}function q0(e,t,n){e.setAttribute(t,"style",n)}function iI(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function rI(e,t,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&id(e,t,i),r!==null&&iI(e,t,r),s!==null&&q0(e,t,s)}var Be={};function K0(e=1){sI(re(),S(),Zt()+e,!1)}function sI(e,t,n,i){if(!i)if((t[T]&3)===3){let s=e.preOrderCheckHooks;s!==null&&xa(t,s,n)}else{let s=e.preOrderHooks;s!==null&&Aa(t,s,0,n)}ui(n)}function w(e,t=G.Default){let n=S();if(n===null)return y(e,t);let i=Ie();return __(i,n,Me(e),t)}function w8(){let e="invalid";throw new Error(e)}function oI(e,t,n,i,r,s){let o=$(null);try{let a=null;r&Dn.SignalBased&&(a=t[i][_t]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&Dn.HasDecoratorInputTransform&&(s=e.inputTransforms[i].call(t,s)),e.setInput!==null?e.setInput(t,a,s,n,i):zv(t,a,i,s)}finally{$(o)}}function Y0(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)ui(~r);else{let s=r,o=n[++i],a=n[++i];gT(o,s);let c=t[s];a(2,c)}}}finally{ui(-1)}}function bc(e,t,n,i,r,s,o,a,c,l,u){let d=t.blueprint.slice();return d[St]=r,d[T]=i|4|128|8|64,(l!==null||e&&e[T]&2048)&&(d[T]|=2048),Jv(d),d[Ce]=d[mr]=e,d[be]=n,d[Ct]=o||e&&e[Ct],d[oe]=a||e&&e[oe],d[ar]=c||e&&e[ar]||null,d[Ve]=s,d[cc]=YT(),d[or]=u,d[Wv]=l,d[Ge]=t.type==2?e[Ge]:d,d}function _r(e,t,n,i,r){let s=e.data[t];if(s===null)s=Q0(e,t,n,i,r),pT()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=uT();s.injectorIndex=o===null?-1:o.injectorIndex}return mi(s,!0),s}function Q0(e,t,n,i,r){let s=r_(),o=Ef(),a=o?s:s&&s.parent,c=e.data[t]=nS(e,a,n,t,i,r);return e.firstChild===null&&(e.firstChild=c),s!==null&&(o?s.child==null&&c.parent!==null&&(s.child=c):s.next===null&&(s.next=c,c.prev=s)),c}function aI(e,t,n,i){if(n===0)return-1;let r=t.length;for(let s=0;s<n;s++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function cI(e,t,n,i,r){let s=Zt(),o=i&2;try{ui(-1),o&&t.length>ve&&sI(e,t,ve,!1),Et(o?2:0,r),n(i,r)}finally{ui(s),Et(o?3:1,r)}}function jf(e,t,n){if(yf(t)){let i=$(null);try{let r=t.directiveStart,s=t.directiveEnd;for(let o=r;o<s;o++){let a=e.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{$(i)}}}function Vf(e,t,n){n_()&&(cS(e,t,n,Ze(n,t)),(n.flags&64)===64&&dI(e,t,n))}function Bf(e,t,n=Ze){let i=t.localNames;if(i!==null){let r=t.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(t,e):e[o];e[r++]=a}}}function lI(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Uf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Uf(e,t,n,i,r,s,o,a,c,l,u){let d=ve+i,f=d+r,h=Z0(d,f),p=typeof l=="function"?l():l;return h[N]={type:e,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:t,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function Z0(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:Be);return n}function J0(e,t,n,i){let s=i.get(n0,O_)||n===bt.ShadowDom,o=e.selectRootElement(t,s);return X0(o),o}function X0(e){eS(e)}var eS=()=>null;function tS(e,t,n,i){let r=pI(t);r.push(n),e.firstCreatePass&&gI(e).push(i,r.length-1)}function nS(e,t,n,i,r,s){let o=t?t.injectorIndex:-1,a=0;return i_()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ev(e,t,n,i,r){for(let s in t){if(!t.hasOwnProperty(s))continue;let o=t[s];if(o===void 0)continue;i??={};let a,c=Dn.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=s;if(r!==null){if(!r.hasOwnProperty(s))continue;l=r[s]}e===0?tv(i,n,l,a,c):tv(i,n,l,a)}return i}function tv(e,t,n,i,r){let s;e.hasOwnProperty(n)?(s=e[n]).push(t,i):s=e[n]=[t,i],r!==void 0&&s.push(r)}function iS(e,t,n){let i=t.directiveStart,r=t.directiveEnd,s=e.data,o=t.attrs,a=[],c=null,l=null;for(let u=i;u<r;u++){let d=s[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;c=ev(0,d.inputs,u,c,h),l=ev(1,d.outputs,u,l,p);let m=c!==null&&o!==null&&!hf(t)?_S(c,u,o):null;a.push(m)}c!==null&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}function rS(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Dc(e,t,n,i,r,s,o,a){let c=Ze(t,n),l=t.inputs,u;!a&&l!=null&&(u=l[i])?(Hf(e,n,u,i,r),lc(t)&&sS(n,t.index)):t.type&3?(i=rS(i),r=o!=null?o(r,t.value||"",i):r,s.setProperty(c,i,r)):t.type&12}function sS(e,t){let n=Sn(t,e);n[T]&16||(n[T]|=64)}function $f(e,t,n,i){if(n_()){let r=i===null?null:{"":-1},s=uS(e,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&uI(e,t,n,o,r,a),r&&dS(n,i,r)}n.mergedAttrs=ps(n.mergedAttrs,n.attrs)}function uI(e,t,n,i,r,s){for(let l=0;l<i.length;l++)hd(Ua(n,t),e,i[l].type);hS(n,e.data.length,i.length);for(let l=0;l<i.length;l++){let u=i[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=aI(e,t,i.length,null);for(let l=0;l<i.length;l++){let u=i[l];n.mergedAttrs=ps(n.mergedAttrs,u.hostAttrs),pS(e,n,t,c,u),fS(c,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}iS(e,n,s)}function oS(e,t,n,i,r){let s=r.hostBindings;if(s){let o=e.hostBindingOpCodes;o===null&&(o=e.hostBindingOpCodes=[]);let a=~t.index;aS(o)!=a&&o.push(a),o.push(n,i,s)}}function aS(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function cS(e,t,n,i){let r=n.directiveStart,s=n.directiveEnd;lc(n)&&gS(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Ua(n,t),An(i,t);let o=n.initialInputs;for(let a=r;a<s;a++){let c=e.data[a],l=fi(t,e,a,n);if(An(l,t),o!==null&&vS(t,a-r,l,c,n,o),Wt(c)){let u=Sn(n.index,t);u[be]=fi(t,e,a,n)}}}function dI(e,t,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=mT();try{ui(s);for(let a=i;a<r;a++){let c=e.data[a],l=t[a];ud(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&lS(c,l)}}finally{ui(-1),ud(o)}}function lS(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function uS(e,t){let n=e.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(Nv(t,o.selectors,!1))if(i||(i=[]),Wt(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let c=a.length;Md(e,t,c)}else i.unshift(o),Md(e,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function Md(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function dS(e,t,n){if(t){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let s=n[t[r+1]];if(s==null)throw new O(-301,!1);i.push(t[r],s)}}}function fS(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Wt(t)&&(n[""]=e)}}function hS(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function pS(e,t,n,i,r){e.data[i]=r;let s=r.factory||(r.factory=oi(r.type,!0)),o=new di(s,Wt(r),w);e.blueprint[i]=o,n[i]=o,oS(e,t,i,aI(e,n,r.hostVars,Be),r)}function gS(e,t,n){let i=Ze(t,e),r=lI(n),s=e[Ct].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Cc(e,bc(e,r,null,o,i,t,null,s.createRenderer(i,n),null,null,null));e[t.index]=a}function mS(e,t,n,i,r,s){let o=Ze(e,t);yS(t[oe],o,s,e.value,n,i,r)}function yS(e,t,n,i,r,s,o){if(s==null)e.removeAttribute(t,r,n);else{let a=o==null?ir(s):o(s,i||"",r);e.setAttribute(t,r,a,n)}}function vS(e,t,n,i,r,s){let o=s[t];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++],d=o[a++];oI(i,n,c,l,u,d)}}function _S(e,t,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(e.hasOwnProperty(s)){i===null&&(i=[]);let o=e[s];for(let a=0;a<o.length;a+=3)if(o[a]===t){i.push(s,o[a+1],o[a+2],n[r+1]);break}}r+=2}return i}function fI(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function hI(e,t){let n=e.contentQueries;if(n!==null){let i=$(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=e.data[o];hc(s),a.contentQueries(2,t[o],o)}}}finally{$(i)}}}function Cc(e,t){return e[ms]?e[Fy][at]=t:e[ms]=t,e[Fy]=t,t}function Nd(e,t,n){hc(0);let i=$(null);try{t(e,n)}finally{$(i)}}function pI(e){return e[Pa]??=[]}function gI(e){return e.cleanup??=[]}function mI(e,t,n){return(e===null||Wt(e))&&(n=eT(n[t.index])),n[oe]}function yI(e,t){let n=e[ar],i=n?n.get(zt,null):null;i&&i.handleError(t)}function Hf(e,t,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],c=n[s++],l=t[o],u=e.data[o];oI(u,l,i,a,c,r)}}function vI(e,t,n){let i=Zv(t,e);N0(e[oe],i,n)}function IS(e,t){let n=Sn(t,e),i=n[N];ES(i,n);let r=n[St];r!==null&&n[or]===null&&(n[or]=kf(r,n[ar])),Gf(i,n,n[be])}function ES(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Gf(e,t,n){xf(t);try{let i=e.viewQuery;i!==null&&Nd(1,i,n);let r=e.template;r!==null&&cI(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Gt]?.finishViewCreation(e),e.staticContentQueries&&hI(e,t),e.staticViewQueries&&Nd(2,e.viewQuery,n);let s=e.components;s!==null&&wS(t,s)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[T]&=-5,Af()}}function wS(e,t){for(let n=0;n<t.length;n++)IS(e,t[n])}function Ds(e,t,n,i){let r=$(null);try{let s=t.tView,a=e[T]&4096?4096:16,c=bc(e,s,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=e[t.index];c[ai]=l;let u=e[Gt];return u!==null&&(c[Gt]=u.createEmbeddedView(s)),Gf(s,c,n),c}finally{$(r)}}function _I(e,t){let n=De+t;if(n<e.length)return e[n]}function lr(e,t){return!t||t.firstChild===null||A_(e)}function Cs(e,t,n,i=!0){let r=t[N];if(F0(r,t,e,n),i){let o=Sd(n,e),a=t[oe],c=X_(a,e[ci]);c!==null&&k0(r,e[Ve],a,t,c,o)}let s=t[or];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function II(e,t){let n=ys(e,t);return n!==void 0&&Ic(n[N],n),n}function za(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let s=t[n.index];s!==null&&i.push(xt(s)),Qt(s)&&bS(s,i);let o=n.type;if(o&8)za(e,t,n.child,i);else if(o&32){let a=Pf(n,t),c;for(;c=a();)i.push(c)}else if(o&16){let a=tI(t,n);if(Array.isArray(a))i.push(...a);else{let c=li(t[Ge]);za(c[N],c,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function bS(e,t){for(let n=De;n<e.length;n++){let i=e[n],r=i[N].firstChild;r!==null&&za(i[N],i,r,t)}e[ci]!==e[St]&&t.push(e[ci])}var EI=[];function DS(e){return e[Qe]??CS(e)}function CS(e){let t=EI.pop()??Object.create(AS);return t.lView=e,t}function xS(e){e.lView[Qe]!==e&&(e.lView=null,EI.push(e))}var AS=Ee(L({},ns),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{fc(e.lView)},consumerOnSignalRead(){this.lView[Qe]=this}});function TS(e){let t=e[Qe]??Object.create(SS);return t.lView=e,t}var SS=Ee(L({},ns),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=li(e.lView);for(;t&&!wI(t[N]);)t=li(t);t&&Xv(t)},consumerOnSignalRead(){this.lView[Qe]=this}});function wI(e){return e.type!==2}var MS=100;function bI(e,t=!0,n=0){let i=e[Ct],r=i.rendererFactory,s=!1;s||r.begin?.();try{NS(e,n)}catch(o){throw t&&yI(e,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function NS(e,t){let n=s_();try{jy(!0),Rd(e,t);let i=0;for(;dc(e);){if(i===MS)throw new O(103,!1);i++,Rd(e,1)}}finally{jy(n)}}function RS(e,t,n,i){let r=t[T];if((r&256)===256)return;let s=!1,o=!1;!s&&t[Ct].inlineEffectRunner?.flush(),xf(t);let a=!0,c=null,l=null;s||(wI(e)?(l=DS(t),c=Ho(l)):jm()===null?(a=!1,l=TS(t),c=Ho(l)):t[Qe]&&(pu(t[Qe]),t[Qe]=null));try{Jv(t),hT(e.bindingStartIndex),n!==null&&cI(e,t,n,2,i);let u=(r&3)===3;if(!s)if(u){let h=e.preOrderCheckHooks;h!==null&&xa(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Aa(t,h,0,null),Uu(t,0)}if(o||OS(t),DI(t,0),e.contentQueries!==null&&hI(e,t),!s)if(u){let h=e.contentCheckHooks;h!==null&&xa(t,h)}else{let h=e.contentHooks;h!==null&&Aa(t,h,1),Uu(t,1)}Y0(e,t);let d=e.components;d!==null&&xI(t,d,0);let f=e.viewQuery;if(f!==null&&Nd(2,f,i),!s)if(u){let h=e.viewCheckHooks;h!==null&&xa(t,h)}else{let h=e.viewHooks;h!==null&&Aa(t,h,2),Uu(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Bu]){for(let h of t[Bu])h();t[Bu]=null}s||(t[T]&=-73)}catch(u){throw s||fc(t),u}finally{l!==null&&(fu(l,c),a&&xS(l)),Af()}}function DI(e,t){for(let n=S_(e);n!==null;n=M_(n))for(let i=De;i<n.length;i++){let r=n[i];CI(r,t)}}function OS(e){for(let t=S_(e);t!==null;t=M_(t)){if(!(t[T]&La.HasTransplantedViews))continue;let n=t[cr];for(let i=0;i<n.length;i++){let r=n[i];Xv(r)}}}function kS(e,t,n){let i=Sn(t,e);CI(i,n)}function CI(e,t){If(e)&&Rd(e,t)}function Rd(e,t){let i=e[N],r=e[T],s=e[Qe],o=!!(t===0&&r&16);if(o||=!!(r&64&&t===0),o||=!!(r&1024),o||=!!(s?.dirty&&hu(s)),o||=!1,s&&(s.dirty=!1),e[T]&=-9217,o)RS(i,e,i.template,e[be]);else if(r&8192){DI(e,1);let a=i.components;a!==null&&xI(e,a,1)}}function xI(e,t,n){for(let i=0;i<t.length;i++)kS(e,t[i],n)}function Wf(e,t){let n=s_()?64:1088;for(e[Ct].changeDetectionScheduler?.notify(t);e;){e[T]|=n;let i=li(e);if(ad(e)&&!i)return e;e=i}return null}var hi=class{get rootNodes(){let t=this._lView,n=t[N];return za(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[be]}set context(t){this._lView[be]=t}get destroyed(){return(this._lView[T]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ce];if(Qt(t)){let n=t[Fa],i=n?n.indexOf(this):-1;i>-1&&(ys(t,i),Oa(n,i))}this._attachedToViewContainer=!1}Ic(this._lView[N],this._lView)}onDestroy(t){e_(this._lView,t)}markForCheck(){Wf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[T]&=-129}reattach(){ld(this._lView),this._lView[T]|=128}detectChanges(){this._lView[T]|=1024,bI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=ad(this._lView),n=this._lView[ai];n!==null&&!t&&Ff(n,this._lView),Y_(this._lView[N],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=t;let n=ad(this._lView),i=this._lView[ai];i!==null&&!n&&Q_(i,this._lView),ld(this._lView)}},Yt=(()=>{class e{static{this.__NG_ELEMENT_ID__=LS}}return e})(),PS=Yt,FS=class extends PS{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){let r=Ds(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new hi(r)}};function LS(){return xc(Ie(),S())}function xc(e,t){return e.type&4?new FS(t,e,vr(e,t)):null}var D8=new RegExp(`^(\\d+)*(${e0}|${XT})*(.*)`);var jS=()=>null;function ur(e,t){return jS(e,t)}var dr=class{},Ac=new D("",{providedIn:"root",factory:()=>!1});var AI=new D(""),TI=new D(""),Od=class{},qa=class{};function VS(e){let t=Error(`No component factory found for ${Re(e)}.`);return t[BS]=e,t}var BS="ngComponent";var kd=class{resolveComponentFactory(t){throw VS(t)}},fr=class{static{this.NULL=new kd}},hr=class{},xs=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>US()}}return e})();function US(){let e=S(),t=Ie(),n=Sn(t.index,e);return(bn(n)?n:e)[oe]}var $S=(()=>{class e{static{this.\u0275prov=E({token:e,providedIn:"root",factory:()=>null})}}return e})();function Ka(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,s=0;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];if(typeof a=="number")s=a;else if(s==1)r=Xu(r,a);else if(s==2){let c=a,l=t[++o];i=Xu(i,c+": "+l+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var Ya=class extends fr{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Cn(t);return new pr(n,this.ngModule)}};function nv(e,t){let n=[];for(let i in e){if(!e.hasOwnProperty(i))continue;let r=e[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:Dn.None;t?n.push({propName:o,templateName:i,isSignal:(a&Dn.SignalBased)!==0}):n.push({propName:o,templateName:i})}return n}function HS(e){let t=e.toLowerCase();return t==="svg"?Qv:t==="math"?XA:null}var pr=class extends qa{get inputs(){let t=this.componentDef,n=t.inputTransforms,i=nv(t.inputs,!0);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return nv(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=NA(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let s=$(null);try{r=r||this.ngModule;let o=r instanceof Dt?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new dd(t,o):t,c=a.get(hr,null);if(c===null)throw new O(407,!1);let l=a.get($S,null),u=a.get(dr,null),d={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:u},f=c.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=i?J0(f,i,this.componentDef.encapsulation,a):K_(f,h,HS(h)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let _=null;p!==null&&(_=kf(p,a,!0));let I=Uf(0,null,null,1,0,null,null,null,null,null,null),C=bc(null,I,null,m,null,null,d,f,a,null,_);xf(C);let k,X,ue=null;try{let se=this.componentDef,qe,Xr=null;se.findHostDirectiveDefs?(qe=[],Xr=new Map,se.findHostDirectiveDefs(se,qe,Xr),qe.push(se)):qe=[se];let es=GS(C,p);ue=WS(es,p,se,qe,C,d,f),X=vf(I,ve),p&&KS(f,se,p,i),n!==void 0&&YS(X,this.ngContentSelectors,n),k=qS(ue,se,qe,Xr,C,[QS]),Gf(I,C,null)}catch(se){throw ue!==null&&_d(ue),_d(C),se}finally{Af()}return new Pd(this.componentType,k,vr(X,C),C,X)}finally{$(s)}}},Pd=class extends Od{constructor(t,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new hi(r,void 0,!1),this.componentType=t}setInput(t,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let s=this._rootLView;Hf(s[N],s,r,t,n),this.previousInputValues.set(t,n);let o=Sn(this._tNode.index,s);Wf(o,1)}}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function GS(e,t){let n=e[N],i=ve;return e[i]=t,_r(n,i,2,"#host",null)}function WS(e,t,n,i,r,s,o){let a=r[N];zS(i,e,t,o);let c=null;t!==null&&(c=kf(t,r[ar]));let l=s.rendererFactory.createRenderer(t,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=bc(r,lI(n),null,u,r[e.index],e,s,l,null,null,c);return a.firstCreatePass&&Md(a,e,i.length-1),Cc(r,d),r[e.index]=d}function zS(e,t,n,i){for(let r of e)t.mergedAttrs=ps(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(Ka(t,t.mergedAttrs,!0),n!==null&&rI(i,n,t))}function qS(e,t,n,i,r,s){let o=Ie(),a=r[N],c=Ze(o,r);uI(a,r,o,n,null,i);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,f=fi(r,a,d,o);An(f,r)}dI(a,r,o),c&&An(c,r);let l=fi(r,a,o.directiveStart+o.componentOffset,o);if(e[be]=r[be]=l,s!==null)for(let u of s)u(l,t);return jf(a,o,r),l}function KS(e,t,n,i){if(i)id(e,n,["ng-version","18.2.13"]);else{let{attrs:r,classes:s}=RA(t.selectors[0]);r&&id(e,n,r),s&&s.length>0&&iI(e,n,s.join(" "))}}function YS(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function QS(){let e=Ie();mc(S()[N],e)}var Xt=(()=>{class e{static{this.__NG_ELEMENT_ID__=ZS}}return e})();function ZS(){let e=Ie();return MI(e,S())}var JS=Xt,SI=class extends JS{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return vr(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){let t=Tf(this._hostTNode,this._hostLView);if(h_(t)){let n=Va(t,this._hostLView),i=ja(t),r=n[N].data[i+8];return new si(r,n)}else return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=iv(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-De}createEmbeddedView(t,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=ur(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,lr(this._hostTNode,o)),a}createComponent(t,n,i,r,s){let o=t&&!YA(t),a;if(o)a=n;else{let p=n||{};a=p.index,i=p.injector,r=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let c=o?t:new pr(Cn(t)),l=i||this.parentInjector;if(!s&&c.ngModule==null){let m=(o?l:this.parentInjector).get(Dt,null);m&&(s=m)}let u=Cn(c.componentType??{}),d=ur(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,r,f,s);return this.insertImpl(h.hostView,a,lr(this._hostTNode,d)),h}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(nT(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let c=r[Ce],l=new SI(c,c[Ve],c[Ce]);l.detach(l.indexOf(t))}}let s=this._adjustIndex(n),o=this._lContainer;return Cs(o,r,s,i),t.attachToViewContainerRef(),Cv(zu(o),s,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=iv(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=ys(this._lContainer,n);i&&(Oa(zu(this._lContainer),n),Ic(i[N],i))}detach(t){let n=this._adjustIndex(t,-1),i=ys(this._lContainer,n);return i&&Oa(zu(this._lContainer),n)!=null?new hi(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function iv(e){return e[Fa]}function zu(e){return e[Fa]||(e[Fa]=[])}function MI(e,t){let n,i=t[e.index];return Qt(i)?n=i:(n=fI(i,t,null,e),t[e.index]=n,Cc(t,n)),eM(n,t,e,i),new SI(n,e,t)}function XS(e,t){let n=e[oe],i=n.createComment(""),r=Ze(t,e),s=X_(n,r);return Wa(n,s,i,B0(n,r),!1),i}var eM=iM,tM=()=>!1;function nM(e,t,n){return tM(e,t,n)}function iM(e,t,n,i){if(e[ci])return;let r;n.type&8?r=xt(i):r=XS(t,n),e[ci]=r}var Fd=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},Ld=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let s=0;s<i;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)qf(t,n).matches!==null&&this.queries[n].setDirty()}},Qa=class{constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=lM(t):this.predicate=t}},jd=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,n!==null?n.push(s):n=[s])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},Vd=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(t,n,rM(n,s)),this.matchTNodeWithReadOption(t,n,Ta(n,t,s,!1,!1))}else i===Yt?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Ta(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===J||r===Xt||r===Yt&&n.type&4)this.addMatch(n.index,-2);else{let s=Ta(n,t,r,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function rM(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function sM(e,t){return e.type&11?vr(e,t):e.type&4?xc(e,t):null}function oM(e,t,n,i){return n===-1?sM(t,e):n===-2?aM(e,t,i):fi(e,e[N],n,t)}function aM(e,t,n){if(n===J)return vr(t,e);if(n===Yt)return xc(t,e);if(n===Xt)return MI(t,e)}function NI(e,t,n,i){let r=t[Gt].queries[i];if(r.matches===null){let s=e.data,o=n.matches,a=[];for(let c=0;o!==null&&c<o.length;c+=2){let l=o[c];if(l<0)a.push(null);else{let u=s[l];a.push(oM(t,u,o[c+1],n.metadata.read))}}r.matches=a}return r.matches}function Bd(e,t,n,i){let r=e.queries.getByIndex(n),s=r.matches;if(s!==null){let o=NI(e,t,r,n);for(let a=0;a<s.length;a+=2){let c=s[a];if(c>0)i.push(o[a/2]);else{let l=s[a+1],u=t[-c];for(let d=De;d<u.length;d++){let f=u[d];f[ai]===f[Ce]&&Bd(f[N],f,l,i)}if(u[cr]!==null){let d=u[cr];for(let f=0;f<d.length;f++){let h=d[f];Bd(h[N],h,l,i)}}}}}return i}function zf(e,t){return e[Gt].queries[t].queryList}function RI(e,t,n){let i=new Ga((n&4)===4);return tS(e,t,i,i.destroy),(t[Gt]??=new Ld).queries.push(new Fd(i))-1}function cM(e,t,n){let i=re();return i.firstCreatePass&&(kI(i,new Qa(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),RI(i,S(),t)}function OI(e,t,n,i){let r=re();if(r.firstCreatePass){let s=Ie();kI(r,new Qa(t,n,i),s.index),uM(r,e),(n&2)===2&&(r.staticContentQueries=!0)}return RI(r,S(),n)}function lM(e){return e.split(",").map(t=>t.trim())}function kI(e,t,n){e.queries===null&&(e.queries=new jd),e.queries.track(new Vd(t,n))}function uM(e,t){let n=e.contentQueries||(e.contentQueries=[]),i=n.length?n[n.length-1]:-1;t!==i&&n.push(e.queries.length-1,t)}function qf(e,t){return e.queries.getByIndex(t)}function PI(e,t){let n=e[N],i=qf(n,t);return i.crossesNgTemplate?Bd(n,e,t,[]):NI(n,e,i,t)}var rv=new Set;function Nt(e){rv.has(e)||(rv.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function FI(e,t){Nt("NgSignals");let n=Km(e),i=n[_t];return t?.equal&&(i.equal=t.equal),n.set=r=>mu(i,r),n.update=r=>Ym(i,r),n.asReadonly=dM.bind(n),n}function dM(){let e=this[_t];if(e.readonlyFn===void 0){let t=()=>this();t[_t]=e,e.readonlyFn=t}return e.readonlyFn}function LI(e,t){let n,i=gu(()=>{n._dirtyCounter();let r=gM(n,e);if(t&&r===void 0)throw new O(-951,!1);return r});return n=i[_t],n._dirtyCounter=FI(0),n._flatValue=void 0,i}function fM(){return LI(!0,!1)}function hM(){return LI(!0,!0)}function pM(e,t){let n=e[_t];n._lView=S(),n._queryIndex=t,n._queryList=zf(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(i=>i+1))}function gM(e,t){let n=e._lView,i=e._queryIndex;if(n===void 0||i===void 0||n[T]&4)return t?void 0:Ne;let r=zf(n,i),s=PI(n,i);return r.reset(s,x_),t?r.first:r._changesDetected||e._flatValue===void 0?e._flatValue=r.toArray():e._flatValue}function sv(e,t){return fM()}function mM(e,t){return hM()}var x8=(sv.required=mM,sv);function yM(e){return Object.getPrototypeOf(e.prototype).constructor}function Oe(e){let t=yM(e.type),n=!0,i=[e];for(;t;){let r;if(Wt(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new O(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);let o=e;o.inputs=wa(e.inputs),o.inputTransforms=wa(e.inputTransforms),o.declaredInputs=wa(e.declaredInputs),o.outputs=wa(e.outputs);let a=r.hostBindings;a&&wM(e,a);let c=r.viewQuery,l=r.contentQueries;if(c&&IM(e,c),l&&EM(e,l),vM(e,r),Yx(e.outputs,r.outputs),Wt(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(e),a===Oe&&(n=!1)}}t=Object.getPrototypeOf(t)}_M(i)}function vM(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];if(i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=t.inputTransforms[r]}}}function _M(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=ps(r.hostAttrs,n=ps(n,r.hostAttrs))}}function wa(e){return e===rr?{}:e===Ne?[]:e}function IM(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r)}:e.viewQuery=t}function EM(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,s)=>{t(i,r,s),n(i,r,s)}:e.contentQueries=t}function wM(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r)}:e.hostBindings=t}function As(e){let t=e.inputConfig,n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}e.inputTransforms=n}var Tn=class{},Ud=class{};var $d=class extends Tn{constructor(t,n,i,r=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ya(this);let s=Pv(t);this._bootstrapComponents=z_(s.bootstrap),this._r3Injector=w_(t,n,[{provide:Tn,useValue:this},{provide:fr,useValue:this.componentFactoryResolver},...i],Re(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Hd=class extends Ud{constructor(t){super(),this.moduleType=t}create(t){return new $d(this.moduleType,t,[])}};var Za=class extends Tn{constructor(t){super(),this.componentFactoryResolver=new Ya(this),this.instance=null;let n=new gs([...t.providers,{provide:Tn,useValue:this},{provide:fr,useValue:this.componentFactoryResolver}],t.parent||gf(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function bM(e,t,n=null){return new Za({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function jI(e){return CM(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function DM(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),i;for(;!(i=n.next()).done;)t(i.value)}}function CM(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function Tc(e,t,n){return e[t]=n}function xM(e,t){return e[t]}function We(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function Kf(e,t,n,i){let r=We(e,t,n);return We(e,t+1,i)||r}function AM(e,t,n,i,r){let s=Kf(e,t,n,i);return We(e,t+2,r)||s}function TM(e){return(e.flags&32)===32}function SM(e,t,n,i,r,s,o,a,c){let l=t.consts,u=_r(t,e,4,o||null,a||null);$f(t,n,u,xn(l,c)),mc(t,u);let d=u.tView=Uf(2,u,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function Ja(e,t,n,i,r,s,o,a,c,l){let u=n+ve,d=t.firstCreatePass?SM(u,t,e,i,r,s,o,a,c):t.data[u];mi(d,!1);let f=MM(t,e,d,n);pc()&&Ec(t,e,f,d),An(f,e);let h=fI(f,e,f,d);return e[u]=h,Cc(e,h),nM(h,d,e),uc(d)&&Vf(t,e,d),c!=null&&Bf(e,d,l),d}function VI(e,t,n,i,r,s,o,a){let c=S(),l=re(),u=xn(l.consts,s);return Ja(c,l,e,t,n,i,r,u,o,a),VI}var MM=NM;function NM(e,t,n,i){return gc(!0),t[oe].createComment("")}var er=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(er||{}),BI=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e})}}return e})(),Gd=class e{constructor(){this.ngZone=b(R),this.scheduler=b(dr),this.errorHandler=b(zt,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[er.EarlyRead,er.Write,er.MixedReadWrite,er.Read]}execute(){this.executing=!0;for(let t of e.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[t]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(i){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e})}},Wd=class{constructor(t,n,i,r){this.impl=t,this.hooks=n,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function RM(e,t){!t?.injector&&Gv(RM);let n=t?.injector??b(xe);return q_(n)?(Nt("NgAfterRender"),UI(e,n,t,!1)):$I}function Yf(e,t){!t?.injector&&Gv(Yf);let n=t?.injector??b(xe);return q_(n)?(Nt("NgAfterNextRender"),UI(e,n,t,!0)):$I}function OM(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function UI(e,t,n,i){let r=t.get(BI);r.impl??=t.get(Gd);let s=n?.phase??er.MixedReadWrite,o=n?.manualCleanup!==!0?t.get(Sf):null,a=new Wd(r.impl,OM(e,s),i,o);return r.impl.register(a),a}var $I={destroy(){}};function Qf(e,t,n,i){let r=S(),s=yi();if(We(r,s,t)){let o=re(),a=ws();mS(a,r,e,t,n,i)}return Qf}function HI(e,t,n,i){return We(e,yi(),n)?t+ir(n)+i:Be}function kM(e,t,n,i,r,s){let o=fT(),a=Kf(e,o,n,r);return bf(2),a?t+ir(n)+i+ir(r)+s:Be}function ba(e,t){return e<<17|t<<2}function pi(e){return e>>17&32767}function PM(e){return(e&2)==2}function FM(e,t){return e&131071|t<<17}function zd(e){return e|2}function gr(e){return(e&131068)>>2}function qu(e,t){return e&-131069|t<<2}function LM(e){return(e&1)===1}function qd(e){return e|1}function jM(e,t,n,i,r,s){let o=s?t.classBindings:t.styleBindings,a=pi(o),c=gr(o);e[i]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Is(d,u)>0)&&(l=!0)}else u=n;if(r)if(c!==0){let f=pi(e[a+1]);e[i+1]=ba(f,a),f!==0&&(e[f+1]=qu(e[f+1],i)),e[a+1]=FM(e[a+1],i)}else e[i+1]=ba(a,0),a!==0&&(e[a+1]=qu(e[a+1],i)),a=i;else e[i+1]=ba(c,0),a===0?a=i:e[c+1]=qu(e[c+1],i),c=i;l&&(e[i+1]=zd(e[i+1])),ov(e,u,i,!0),ov(e,u,i,!1),VM(t,u,e,i,s),o=ba(a,c),s?t.classBindings=o:t.styleBindings=o}function VM(e,t,n,i,r){let s=r?e.residualClasses:e.residualStyles;s!=null&&typeof t=="string"&&Is(s,t)>=0&&(n[i+1]=qd(n[i+1]))}function ov(e,t,n,i){let r=e[n+1],s=t===null,o=i?pi(r):gr(r),a=!1;for(;o!==0&&(a===!1||s);){let c=e[o],l=e[o+1];BM(c,t)&&(a=!0,e[o+1]=i?qd(l):zd(l)),o=i?pi(l):gr(l)}a&&(e[n+1]=i?zd(r):qd(r))}function BM(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Is(e,t)>=0:!1}var ot={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function UM(e){return e.substring(ot.key,ot.keyEnd)}function $M(e){return HM(e),GI(e,WI(e,0,ot.textEnd))}function GI(e,t){let n=ot.textEnd;return n===t?-1:(t=ot.keyEnd=GM(e,ot.key=t,n),WI(e,t,n))}function HM(e){ot.key=0,ot.keyEnd=0,ot.value=0,ot.valueEnd=0,ot.textEnd=e.length}function WI(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function GM(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function zI(e,t,n){let i=S(),r=yi();if(We(i,r,t)){let s=re(),o=ws();Dc(s,o,i,e,t,i[oe],n,!1)}return zI}function Kd(e,t,n,i,r){let s=t.inputs,o=r?"class":"style";Hf(e,n,s[o],o,i)}function qI(e,t,n){return KI(e,t,n,!1),qI}function Zf(e,t){return KI(e,t,null,!0),Zf}function A8(e){zM(JM,WM,e,!0)}function WM(e,t){for(let n=$M(t);n>=0;n=GI(t,n))ff(e,UM(t),!0)}function KI(e,t,n,i){let r=S(),s=re(),o=bf(2);if(s.firstUpdatePass&&QI(s,e,o,i),t!==Be&&We(r,o,t)){let a=s.data[Zt()];ZI(s,a,r,r[oe],e,r[o+1]=eN(t,n),i,o)}}function zM(e,t,n,i){let r=re(),s=bf(2);r.firstUpdatePass&&QI(r,null,s,i);let o=S();if(n!==Be&&We(o,s,n)){let a=r.data[Zt()];if(JI(a,i)&&!YI(r,s)){let c=i?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(n=Xu(c,n||"")),Kd(r,a,o,n,i)}else XM(r,a,o,o[oe],o[s+1],o[s+1]=ZM(e,t,n),i,s)}}function YI(e,t){return t>=e.expandoStartIndex}function QI(e,t,n,i){let r=e.data;if(r[n+1]===null){let s=r[Zt()],o=YI(e,n);JI(s,i)&&t===null&&!o&&(t=!1),t=qM(r,s,t,i),jM(r,s,t,n,o,i)}}function qM(e,t,n,i){let r=Df(e),s=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=Ku(null,e,t,n,i),n=vs(n,t.attrs,i),s=null);else{let o=t.directiveStylingLast;if(o===-1||e[o]!==r)if(n=Ku(r,e,t,n,i),s===null){let c=KM(e,t,i);c!==void 0&&Array.isArray(c)&&(c=Ku(null,e,t,c[1],i),c=vs(c,t.attrs,i),YM(e,t,i,c))}else s=QM(e,t,i)}return s!==void 0&&(i?t.residualClasses=s:t.residualStyles=s),n}function KM(e,t,n){let i=n?t.classBindings:t.styleBindings;if(gr(i)!==0)return e[pi(i)]}function YM(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[pi(r)]=i}function QM(e,t,n){let i,r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++){let o=e[s].hostAttrs;i=vs(i,o,n)}return vs(i,t.attrs,n)}function Ku(e,t,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=t[a],i=vs(i,s.hostAttrs,r),s!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function vs(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let s=0;s<t.length;s++){let o=t[s];typeof o=="number"?r=o:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),ff(e,o,n?!0:t[++s]))}return e===void 0?null:e}function ZM(e,t,n){if(n==null||n==="")return Ne;let i=[],r=lt(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)e(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&e(i,s,r[s]);else typeof r=="string"&&t(i,r);return i}function JM(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&ff(e,i,n)}function XM(e,t,n,i,r,s,o,a){r===Be&&(r=Ne);let c=0,l=0,u=0<r.length?r[0]:null,d=0<s.length?s[0]:null;for(;u!==null||d!==null;){let f=c<r.length?r[c+1]:void 0,h=l<s.length?s[l+1]:void 0,p=null,m;u===d?(c+=2,l+=2,f!==h&&(p=d,m=h)):d===null||u!==null&&u<d?(c+=2,p=u):(l+=2,p=d,m=h),p!==null&&ZI(e,t,n,i,p,m,o,a),u=c<r.length?r[c]:null,d=l<s.length?s[l]:null}}function ZI(e,t,n,i,r,s,o,a){if(!(t.type&3))return;let c=e.data,l=c[a+1],u=LM(l)?av(c,t,n,r,gr(l),o):void 0;if(!Xa(u)){Xa(s)||PM(l)&&(s=av(c,null,n,r,a,o));let d=Zv(Zt(),n);z0(i,o,d,r,s)}}function av(e,t,n,i,r,s){let o=t===null,a;for(;r>0;){let c=e[r],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[r+1];f===Be&&(f=d?Ne:void 0);let h=d?ju(f,i):u===i?f:void 0;if(l&&!Xa(h)&&(h=ju(c,i)),Xa(h)&&(a=h,o))return a;let p=e[r+1];r=o?pi(p):gr(p)}if(t!==null){let c=s?t.residualClasses:t.residualStyles;c!=null&&(a=ju(c,i))}return a}function Xa(e){return e!==void 0}function eN(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Re(lt(e)))),e}function JI(e,t){return(e.flags&(t?8:16))!==0}var Yd=class{destroy(t){}updateValue(t,n){}swap(t,n){let i=Math.min(t,n),r=Math.max(t,n),s=this.detach(r);if(r-i>1){let o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(t,n){this.attach(n,this.detach(t))}};function Yu(e,t,n,i,r){return e===n&&Object.is(t,i)?1:Object.is(r(e,t),r(n,i))?-1:0}function tN(e,t,n){let i,r,s=0,o=e.length-1,a=void 0;if(Array.isArray(t)){let c=t.length-1;for(;s<=o&&s<=c;){let l=e.at(s),u=t[s],d=Yu(s,l,s,u,n);if(d!==0){d<0&&e.updateValue(s,u),s++;continue}let f=e.at(o),h=t[c],p=Yu(o,f,c,h,n);if(p!==0){p<0&&e.updateValue(o,h),o--,c--;continue}let m=n(s,l),_=n(o,f),I=n(s,u);if(Object.is(I,_)){let C=n(c,h);Object.is(C,m)?(e.swap(s,o),e.updateValue(o,h),c--,o--):e.move(o,s),e.updateValue(s,u),s++;continue}if(i??=new ec,r??=lv(e,s,o,n),Qd(e,i,s,I))e.updateValue(s,u),s++,o++;else if(r.has(I))i.set(m,e.detach(s)),o--;else{let C=e.create(s,t[s]);e.attach(s,C),s++,o++}}for(;s<=c;)cv(e,i,n,s,t[s]),s++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&s<=o;){let u=e.at(s),d=l.value,f=Yu(s,u,s,d,n);if(f!==0)f<0&&e.updateValue(s,d),s++,l=c.next();else{i??=new ec,r??=lv(e,s,o,n);let h=n(s,d);if(Qd(e,i,s,h))e.updateValue(s,d),s++,o++,l=c.next();else if(!r.has(h))e.attach(s,e.create(s,d)),s++,o++,l=c.next();else{let p=n(s,u);i.set(p,e.detach(s)),o--}}}for(;!l.done;)cv(e,i,n,e.length,l.value),l=c.next()}for(;s<=o;)e.destroy(e.detach(o--));i?.forEach(c=>{e.destroy(c)})}function Qd(e,t,n,i){return t!==void 0&&t.has(i)?(e.attach(n,t.get(i)),t.delete(i),!0):!1}function cv(e,t,n,i,r){if(Qd(e,t,i,n(i,r)))e.updateValue(i,r);else{let s=e.create(i,r);e.attach(i,s)}}function lv(e,t,n,i){let r=new Set;for(let s=t;s<=n;s++)r.add(i(s,e.at(s)));return r}var ec=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let i=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,i]of this.kvMap)if(t(i,n),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),t(i,n)}}};function nN(e,t){Nt("NgControlFlow");let n=S(),i=yi(),r=n[i]!==Be?n[i]:-1,s=r!==-1?tc(n,ve+r):void 0,o=0;if(We(n,i,e)){let a=$(null);try{if(s!==void 0&&II(s,o),e!==-1){let c=ve+e,l=tc(n,c),u=ef(n[N],c),d=ur(l,u.tView.ssrId),f=Ds(n,u,t,{dehydratedView:d});Cs(l,f,o,lr(u,d))}}finally{$(a)}}else if(s!==void 0){let a=_I(s,o);a!==void 0&&(a[be]=t)}}var Zd=class{constructor(t,n,i){this.lContainer=t,this.$implicit=n,this.$index=i}get $count(){return this.lContainer.length-De}};function T8(e){return e}var Jd=class{constructor(t,n,i){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=i}};function S8(e,t,n,i,r,s,o,a,c,l,u,d,f){Nt("NgControlFlow");let h=S(),p=re(),m=c!==void 0,_=S(),I=a?o.bind(_[Ge][be]):o,C=new Jd(m,I);_[ve+e]=C,Ja(h,p,e+1,t,n,i,r,xn(p.consts,s)),m&&Ja(h,p,e+2,c,l,u,d,xn(p.consts,f))}var Xd=class extends Yd{constructor(t,n,i){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-De}at(t){return this.getLView(t)[be].$implicit}attach(t,n){let i=n[or];this.needsIndexUpdate||=t!==this.length,Cs(this.lContainer,n,t,lr(this.templateTNode,i))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,iN(this.lContainer,t)}create(t,n){let i=ur(this.lContainer,this.templateTNode.tView.ssrId),r=Ds(this.hostLView,this.templateTNode,new Zd(this.lContainer,n,t),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(t){Ic(t[N],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[be].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[be].$index=t}getLView(t){return rN(this.lContainer,t)}};function M8(e){let t=$(null),n=Zt();try{let i=S(),r=i[N],s=i[n],o=n+1,a=tc(i,o);if(s.liveCollection===void 0){let l=ef(r,o);s.liveCollection=new Xd(a,i,l)}else s.liveCollection.reset();let c=s.liveCollection;if(tN(c,e,s.trackByFn),c.updateIndexes(),s.hasEmptyBlock){let l=yi(),u=c.length===0;if(We(i,l,u)){let d=n+2,f=tc(i,d);if(u){let h=ef(r,d),p=ur(f,h.tView.ssrId),m=Ds(i,h,void 0,{dehydratedView:p});Cs(f,m,0,lr(h,p))}else II(f,0)}}}finally{$(t)}}function tc(e,t){return e[t]}function iN(e,t){return ys(e,t)}function rN(e,t){return _I(e,t)}function ef(e,t){return vf(e,t)}function sN(e,t,n,i,r,s){let o=t.consts,a=xn(o,r),c=_r(t,e,2,i,a);return $f(t,n,c,xn(o,s)),c.attrs!==null&&Ka(c,c.attrs,!1),c.mergedAttrs!==null&&Ka(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function Jf(e,t,n,i){let r=S(),s=re(),o=ve+e,a=r[oe],c=s.firstCreatePass?sN(o,s,r,t,n,i):s.data[o],l=oN(s,r,c,a,t,e);r[o]=l;let u=uc(c);return mi(c,!0),rI(a,l,c),!TM(c)&&pc()&&Ec(s,r,l,c),sT()===0&&An(l,r),oT(),u&&(Vf(s,r,c),jf(s,c,r)),i!==null&&Bf(r,c),Jf}function Xf(){let e=Ie();Ef()?wf():(e=e.parent,mi(e,!1));let t=e;cT(t)&&lT(),aT();let n=re();return n.firstCreatePass&&(mc(n,e),yf(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&DT(t)&&Kd(n,t,S(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&CT(t)&&Kd(n,t,S(),t.stylesWithoutHost,!1),Xf}function XI(e,t,n,i){return Jf(e,t,n,i),Xf(),XI}var oN=(e,t,n,i,r,s)=>(gc(!0),K_(i,r,IT()));function aN(e,t,n,i,r){let s=t.consts,o=xn(s,i),a=_r(t,e,8,"ng-container",o);o!==null&&Ka(a,o,!0);let c=xn(s,r);return $f(t,n,a,c),t.queries!==null&&t.queries.elementStart(t,a),a}function eE(e,t,n){let i=S(),r=re(),s=e+ve,o=r.firstCreatePass?aN(s,r,i,t,n):r.data[s];mi(o,!0);let a=lN(r,i,o,e);return i[s]=a,pc()&&Ec(r,i,a,o),An(a,i),uc(o)&&(Vf(r,i,o),jf(r,o,i)),n!=null&&Bf(i,o),eE}function tE(){let e=Ie(),t=re();return Ef()?wf():(e=e.parent,mi(e,!1)),t.firstCreatePass&&(mc(t,e),yf(e)&&t.queries.elementEnd(e)),tE}function cN(e,t,n){return eE(e,t,n),tE(),cN}var lN=(e,t,n,i)=>(gc(!0),R0(t[oe],""));function N8(){return S()}function nE(e,t,n){let i=S(),r=yi();if(We(i,r,t)){let s=re(),o=ws();Dc(s,o,i,e,t,i[oe],n,!0)}return nE}function uN(e,t,n){let i=S(),r=yi();if(We(i,r,t)){let s=re(),o=ws(),a=Df(s.data),c=mI(a,o,i);Dc(s,o,i,e,t,c,n,!0)}return uN}var ri=void 0;function dN(e){let t=e,n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5}var fN=["en",[["a","p"],["AM","PM"],ri],[["AM","PM"],ri,ri],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ri,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ri,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ri,"{1} 'at' {0}",ri],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",dN],Qu={};function eh(e){let t=hN(e),n=uv(t);if(n)return n;let i=t.split("-")[0];if(n=uv(i),n)return n;if(i==="en")return fN;throw new O(701,!1)}function uv(e){return e in Qu||(Qu[e]=Ht.ng&&Ht.ng.common&&Ht.ng.common.locales&&Ht.ng.common.locales[e]),Qu[e]}var Ir=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Ir||{});function hN(e){return e.toLowerCase().replace(/_/g,"-")}var nc="en-US";var pN=nc;function gN(e){typeof e=="string"&&(pN=e.toLowerCase().replace(/_/g,"-"))}var mN=(e,t,n)=>{};function iE(e,t,n,i){let r=S(),s=re(),o=Ie();return rE(s,r,r[oe],o,e,t,i),iE}function yN(e,t){let n=Ie(),i=S(),r=re(),s=Df(r.data),o=mI(s,n,i);return rE(r,i,o,n,e,t),yN}function vN(e,t,n,i){let r=e.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=t[Pa],c=r[s+2];return a.length>c?a[c]:null}typeof o=="string"&&(s+=2)}return null}function rE(e,t,n,i,r,s,o){let a=uc(i),l=e.firstCreatePass&&gI(e),u=t[be],d=pI(t),f=!0;if(i.type&3||o){let m=Ze(i,t),_=o?o(m):m,I=d.length,C=o?X=>o(xt(X[i.index])):i.index,k=null;if(!o&&a&&(k=vN(e,t,r,i.index)),k!==null){let X=k.__ngLastListenerFn__||k;X.__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,f=!1}else{s=fv(i,t,u,s),mN(m,r,s);let X=n.listen(_,r,s);d.push(s,X),l&&l.push(r,C,I,I+1)}}else s=fv(i,t,u,s);let h=i.outputs,p;if(f&&h!==null&&(p=h[r])){let m=p.length;if(m)for(let _=0;_<m;_+=2){let I=p[_],C=p[_+1],ue=t[I][C].subscribe(s),se=d.length;d.push(s,ue),l&&l.push(r,i.index,se,-(se+1))}}}function dv(e,t,n,i){let r=$(null);try{return Et(6,t,n),n(i)!==!1}catch(s){return yI(e,s),!1}finally{Et(7,t,n),$(r)}}function fv(e,t,n,i){return function r(s){if(s===Function)return i;let o=e.componentOffset>-1?Sn(e.index,t):t;Wf(o,5);let a=dv(t,n,i,s),c=r.__ngNextListenerFn__;for(;c;)a=dv(t,n,c,s)&&a,c=c.__ngNextListenerFn__;return a}}function _N(e=1){return vT(e)}function IN(e,t){let n=null,i=xA(e);for(let r=0;r<t.length;r++){let s=t[r];if(s==="*"){n=r;continue}if(i===null?Nv(e,s,!0):SA(i,s))return r}return n}function EN(e){let t=S()[Ge][Ve];if(!t.projection){let n=e?e.length:1,i=t.projection=yA(n,null),r=i.slice(),s=t.child;for(;s!==null;){if(s.type!==128){let o=e?IN(s,e):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function wN(e,t=0,n,i,r,s){let o=S(),a=re(),c=i?e+1:null;c!==null&&Ja(o,a,c,i,r,s,null,n);let l=_r(a,ve+e,16,null,n||null);l.projection===null&&(l.projection=t),wf();let d=!o[or]||i_();o[Ge][Ve].projection[l.projection]===null&&c!==null?bN(o,a,c):d&&(l.flags&32)!==32&&G0(a,o,l)}function bN(e,t,n){let i=ve+n,r=t.data[i],s=e[i],o=ur(s,r.tView.ssrId),a=Ds(e,r,void 0,{dehydratedView:o});Cs(s,a,0,lr(r,o))}function DN(e,t,n){return sE(e,"",t,"",n),DN}function sE(e,t,n,i,r){let s=S(),o=HI(s,t,n,i);if(o!==Be){let a=re(),c=ws();Dc(a,c,s,e,o,s[oe],r,!1)}return sE}function R8(e,t,n,i){OI(e,t,n,i)}function CN(e,t,n){cM(e,t,n)}function xN(e){let t=S(),n=re(),i=Cf();hc(i+1);let r=qf(n,i);if(e.dirty&&tT(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let s=PI(t,i);e.reset(s,x_),e.notifyOnChanges()}return!0}return!1}function AN(){return zf(S(),Cf())}function O8(e,t,n,i,r){pM(t,OI(e,n,i,r))}function k8(e=1){hc(Cf()+e)}function TN(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}function P8(e){let t=dT();return _f(t,ve+e)}function SN(e,t=""){let n=S(),i=re(),r=e+ve,s=i.firstCreatePass?_r(i,r,1,t,null):i.data[r],o=MN(i,n,s,t,e);n[r]=o,pc()&&Ec(i,n,o,s),mi(s,!1)}var MN=(e,t,n,i,r)=>(gc(!0),M0(t[oe],i));function NN(e){return th("",e,""),NN}function th(e,t,n){let i=S(),r=HI(i,e,t,n);return r!==Be&&vI(i,Zt(),r),th}function RN(e,t,n,i,r){let s=S(),o=kM(s,e,t,n,i,r);return o!==Be&&vI(s,Zt(),o),RN}function ON(e,t,n){let i=re();if(i.firstCreatePass){let r=Wt(e);tf(n,i.data,i.blueprint,r,!0),tf(t,i.data,i.blueprint,r,!1)}}function tf(e,t,n,i,r){if(e=Me(e),Array.isArray(e))for(let s=0;s<e.length;s++)tf(e[s],t,n,i,r);else{let s=re(),o=S(),a=Ie(),c=sr(e)?e:Me(e.provide),l=Uv(e),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(sr(e)||!e.multi){let h=new di(l,r,w),p=Ju(c,t,r?u:u+f,d);p===-1?(hd(Ua(a,o),s,c),Zu(s,e,t.length),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{let h=Ju(c,t,u+f,d),p=Ju(c,t,u,u+f),m=h>=0&&n[h],_=p>=0&&n[p];if(r&&!_||!r&&!m){hd(Ua(a,o),s,c);let I=FN(r?PN:kN,n.length,r,i,l);!r&&_&&(n[p].providerFactory=I),Zu(s,e,t.length,0),t.push(c),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(I),o.push(I)}else{let I=oE(n[r?p:h],l,!r&&i);Zu(s,e,h>-1?h:p,I)}!r&&i&&_&&n[p].componentProviders++}}}function Zu(e,t,n,i){let r=sr(t),s=$A(t);if(r||s){let c=(s?Me(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let u=l.indexOf(n);u===-1?l.push(n,[i,c]):l[u+1].push(i,c)}else l.push(n,c)}}}function oE(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Ju(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function kN(e,t,n,i){return nf(this.multi,[])}function PN(e,t,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=fi(n,n[N],this.providerFactory.index,i);s=a.slice(0,o),nf(r,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],nf(r,s);return s}function nf(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i())}return t}function FN(e,t,n,i,r){let s=new di(e,n,w);return s.multi=[],s.index=t,s.componentProviders=0,oE(s,r,i&&!n),s}function aE(e,t=[]){return n=>{n.providersResolver=(i,r)=>ON(i,r?r(e):e,t)}}var LN=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=jv(!1,n.type),r=i.length>0?bM([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=E({token:e,providedIn:"environment",factory:()=>new e(y(Dt))})}}return e})();function jN(e){Nt("NgStandalone"),e.getStandaloneInjector=t=>t.get(LN).getOrCreateStandaloneInjector(e)}function F8(e,t,n){let i=Es()+e,r=S();return r[i]===Be?Tc(r,i,n?t.call(n):t()):xM(r,i)}function L8(e,t,n,i,r){return cE(S(),Es(),e,t,n,i,r)}function j8(e,t,n,i,r,s){return BN(S(),Es(),e,t,n,i,r,s)}function nh(e,t){let n=e[t];return n===Be?void 0:n}function VN(e,t,n,i,r,s){let o=t+n;return We(e,o,r)?Tc(e,o+1,s?i.call(s,r):i(r)):nh(e,o+1)}function cE(e,t,n,i,r,s,o){let a=t+n;return Kf(e,a,r,s)?Tc(e,a+2,o?i.call(o,r,s):i(r,s)):nh(e,a+2)}function BN(e,t,n,i,r,s,o,a){let c=t+n;return AM(e,c,r,s,o)?Tc(e,c+3,a?i.call(a,r,s,o):i(r,s,o)):nh(e,c+3)}function V8(e,t){let n=re(),i,r=e+ve;n.firstCreatePass?(i=UN(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=oi(i.type,!0)),o,a=Le(w);try{let c=Ba(!1),l=s();return Ba(c),TN(n,S(),r,l),l}finally{Le(a)}}function UN(e,t){if(t)for(let n=t.length-1;n>=0;n--){let i=t[n];if(e===i.name)return i}}function B8(e,t,n){let i=e+ve,r=S(),s=_f(r,i);return lE(r,i)?VN(r,Es(),t,s.transform,n,s):s.transform(n)}function U8(e,t,n,i){let r=e+ve,s=S(),o=_f(s,r);return lE(s,r)?cE(s,Es(),t,o.transform,n,i,o):o.transform(n,i)}function lE(e,t){return e[N].data[t].pure}function $8(e,t){return xc(e,t)}var At=class{constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},uE=new At("18.2.13");var dE=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var fE=new D("");function ih(e){return!!e&&typeof e.then=="function"}function hE(e){return!!e&&typeof e.subscribe=="function"}var $N=new D(""),pE=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=b($N,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let s=r();if(ih(s))n.push(s);else if(hE(s)){let o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});n.push(o)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Sc=new D("");function HN(){qm(()=>{throw new O(600,!1)})}function GN(e){return e.isBoundToModule}var WN=10;function zN(e,t,n){try{let i=n();return ih(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}var Er=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=b(WT),this.afterRenderManager=b(BI),this.zonelessEnabled=b(Ac),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ie,this.afterTick=new ie,this.componentTypes=[],this.components=[],this.isStable=b(yr).hasPendingTasks.pipe(ce(n=>!n)),this._injector=b(Dt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,i){let r=n instanceof qa;if(!this._injector.get(pE).done){let f=!r&&FA(n),h=!1;throw new O(405,h)}let o;r?o=n:o=this._injector.get(fr).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=GN(o)?void 0:this._injector.get(Tn),c=i||o.selector,l=o.create(xe.NULL,[],c,a),u=l.location.nativeElement,d=l.injector.get(fE,null);return d?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),Sa(this.components,l),d?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new O(101,!1);let n=$(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,$(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(hr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<WN;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:s}of this._views)qN(r,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>dc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Sa(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(Sc,[]);[...this._bootstrapListeners,...i].forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Sa(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new O(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Sa(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function qN(e,t,n,i){if(!n&&!dc(e))return;bI(e,t,n&&!i?0:1)}var rf=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},H8=(()=>{class e{compileModuleSync(n){return new Hd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=Pv(n),s=z_(r.declarations).reduce((o,a)=>{let c=Cn(a);return c&&o.push(new pr(c)),o},[]);return new rf(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var KN=(()=>{class e{constructor(){this.zone=b(R),this.changeDetectionScheduler=b(dr),this.applicationRef=b(Er)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),YN=new D("",{factory:()=>!1});function gE({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new R(Ee(L({},mE()),{scheduleInRootZone:n})),[{provide:R,useFactory:e},{provide:hs,multi:!0,useFactory:()=>{let i=b(KN,{optional:!0});return()=>i.initialize()}},{provide:hs,multi:!0,useFactory:()=>{let i=b(QN);return()=>{i.initialize()}}},t===!0?{provide:AI,useValue:!0}:[],{provide:TI,useValue:n??b_}]}function G8(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,i=gE({ngZoneFactory:()=>{let r=mE(e);return r.scheduleInRootZone=n,r.shouldCoalesceEventChangeDetection&&Nt("NgZone_CoalesceEvent"),new R(r)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return Tt([{provide:YN,useValue:!0},{provide:Ac,useValue:!1},i])}function mE(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var QN=(()=>{class e{constructor(){this.subscription=new le,this.initialized=!1,this.zone=b(R),this.pendingTasks=b(yr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{R.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{R.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var ZN=(()=>{class e{constructor(){this.appRef=b(Er),this.taskService=b(yr),this.ngZone=b(R),this.zonelessEnabled=b(Ac),this.disableScheduling=b(AI,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new le,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ha):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(TI,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vd||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Hy:D_;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ha+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Hy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function JN(){return typeof $localize<"u"&&$localize.locale||nc}var Ts=new D("",{providedIn:"root",factory:()=>b(Ts,G.Optional|G.SkipSelf)||JN()});var sf=new D("");function Da(e){return!e.moduleRef}function XN(e){let t=Da(e)?e.r3Injector:e.moduleRef.injector,n=t.get(R);return n.run(()=>{Da(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(zt,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:s=>{i.handleError(s)}})}),Da(e)){let s=()=>t.destroy(),o=e.platformInjector.get(sf);o.add(s),t.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else{let s=()=>e.moduleRef.destroy(),o=e.platformInjector.get(sf);o.add(s),e.moduleRef.onDestroy(()=>{Sa(e.allPlatformModules,e.moduleRef),r.unsubscribe(),o.delete(s)})}return zN(i,n,()=>{let s=t.get(pE);return s.runInitializers(),s.donePromise.then(()=>{let o=t.get(Ts,nc);if(gN(o||nc),Da(e)){let a=t.get(Er);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return eR(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function eR(e,t){let n=e.injector.get(Er);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new O(-403,!1);t.push(e)}var Ma=null;function tR(e=[],t){return xe.create({name:t,providers:[{provide:ac,useValue:"platform"},{provide:sf,useValue:new Set([()=>Ma=null])},...e]})}function nR(e=[]){if(Ma)return Ma;let t=tR(e);return Ma=t,HN(),iR(t),t}function iR(e){e.get(Rf,null)?.forEach(n=>n())}var rh=(()=>{class e{static{this.__NG_ELEMENT_ID__=rR}}return e})();function rR(e){return sR(Ie(),S(),(e&16)===16)}function sR(e,t,n){if(lc(e)&&!n){let i=Sn(e.index,t);return new hi(i,i)}else if(e.type&175){let i=t[Ge];return new hi(i,t)}return null}var of=class{constructor(){}supports(t){return jI(t)}create(t){return new af(t)}},oR=(e,t)=>t,af=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||oR}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<hv(i,r,s)?n:i,a=hv(o,r,s),c=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let l=a-r,u=c-r;if(l!=u){for(let f=0;f<l;f++){let h=f<s.length?s[f]:s[f]=0,p=h+f;u<=p&&p<l&&(s[f]=h+1)}let d=o.previousIndex;s[d]=u-l}}a!==c&&t(o,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!jI(t))throw new O(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,DM(t,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let s;return t===null?s=this._itTail:(s=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,s,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,s,r)):t=this._addAfter(new cf(n,i),s,r)),t}_verifyReinsertion(t,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,s=t._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){let r=n===null?this._itHead:n._next;return t._next=r,t._prev=n,r===null?this._itTail=t:r._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new ic),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,i=t._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ic),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},cf=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},lf=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let n=t._prevDup,i=t._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},ic=class{constructor(){this.map=new Map}put(t){let n=t.trackById,i=this.map.get(n);i||(i=new lf,this.map.set(n,i)),i.add(t)}get(t,n){let i=t,r=this.map.get(i);return r?r.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function hv(e,t,n){let i=e.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}function pv(){return new sh([new of])}var sh=(()=>{class e{static{this.\u0275prov=E({token:e,providedIn:"root",factory:pv})}constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||pv()),deps:[[e,new pA,new je]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new O(901,!1)}}return e})();function yE(e){try{let{rootComponent:t,appProviders:n,platformProviders:i}=e,r=nR(i),s=[gE({}),{provide:dr,useExisting:ZN},...n||[]],o=new Za({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return XN({r3Injector:o.injector,platformInjector:r,rootComponent:t})}catch(t){return Promise.reject(t)}}function Ss(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function aR(e,t=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):t}function W8(e,t){Nt("NgSignals");let n=gu(e);return t?.equal&&(n[_t].equal=t.equal),n}function cR(e){let t=$(null);try{return e()}finally{$(t)}}function z8(e){let t=Cn(e);if(!t)return null;let n=new pr(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var DE=null;function wr(){return DE}function CE(e){DE??=e}var Mc=class{};var K=new D(""),hh=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=E({token:e,factory:()=>b(dR),providedIn:"platform"})}}return e})(),f3=new D(""),dR=(()=>{class e extends hh{constructor(){super(),this._doc=b(K),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wr().getBaseHref(this._doc)}onPopState(n){let i=wr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=wr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function ph(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function vE(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,i=n-(e[n-1]==="/"?1:0);return e.slice(0,i)+e.slice(n)}function en(e){return e&&e[0]!=="?"?"?"+e:e}var Oc=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=E({token:e,factory:()=>b(fR),providedIn:"root"})}}return e})(),xE=new D(""),fR=(()=>{class e extends Oc{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??b(K).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ph(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+en(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,s){let o=this.prepareExternalUrl(r+en(s));this._platformLocation.pushState(n,i,o)}replaceState(n,i,r,s){let o=this.prepareExternalUrl(r+en(s));this._platformLocation.replaceState(n,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(y(hh),y(xE,8))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),h3=(()=>{class e extends Oc{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=ph(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,s){let o=this.prepareExternalUrl(r+en(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,i,o)}replaceState(n,i,r,s){let o=this.prepareExternalUrl(r+en(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(y(hh),y(xE,8))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})(),hR=(()=>{class e{constructor(n){this._subject=new _e,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=mR(vE(_E(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+en(i))}normalize(n){return e.stripTrailingSlash(gR(this._basePath,_E(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+en(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+en(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}static{this.normalizeQueryParams=en}static{this.joinWithSlash=ph}static{this.stripTrailingSlash=vE}static{this.\u0275fac=function(i){return new(i||e)(y(Oc))}}static{this.\u0275prov=E({token:e,factory:()=>pR(),providedIn:"root"})}}return e})();function pR(){return new hR(y(Oc))}function gR(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function _E(e){return e.replace(/\/index.html$/,"")}function mR(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var AE=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(AE||{});var tn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Ms(e,t){let n=eh(e),i=n[Ir.NumberSymbols][t];if(typeof i>"u"){if(t===tn.CurrencyDecimal)return n[Ir.NumberSymbols][tn.Decimal];if(t===tn.CurrencyGroup)return n[Ir.NumberSymbols][tn.Group]}return i}function yR(e,t){return eh(e)[Ir.NumberFormats][t]}var vR=/^(\d+)?\.((\d+)(-(\d+))?)?$/,IE=22,Nc=".",Ns="0",_R=";",IR=",",oh="#";function ER(e,t,n,i,r,s,o=!1){let a="",c=!1;if(!isFinite(e))a=Ms(n,tn.Infinity);else{let l=CR(e);o&&(l=DR(l));let u=t.minInt,d=t.minFrac,f=t.maxFrac;if(s){let C=s.match(vR);if(C===null)throw new Error(`${s} is not a valid digit info`);let k=C[1],X=C[3],ue=C[5];k!=null&&(u=ah(k)),X!=null&&(d=ah(X)),ue!=null?f=ah(ue):X!=null&&d>f&&(f=d)}xR(l,d,f);let h=l.digits,p=l.integerLen,m=l.exponent,_=[];for(c=h.every(C=>!C);p<u;p++)h.unshift(0);for(;p<0;p++)h.unshift(0);p>0?_=h.splice(p,h.length):(_=h,h=[0]);let I=[];for(h.length>=t.lgSize&&I.unshift(h.splice(-t.lgSize,h.length).join(""));h.length>t.gSize;)I.unshift(h.splice(-t.gSize,h.length).join(""));h.length&&I.unshift(h.join("")),a=I.join(Ms(n,i)),_.length&&(a+=Ms(n,r)+_.join("")),m&&(a+=Ms(n,tn.Exponential)+"+"+m)}return e<0&&!c?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function wR(e,t,n){let i=yR(t,AE.Decimal),r=bR(i,Ms(t,tn.MinusSign));return ER(e,r,t,tn.Group,tn.Decimal,n)}function bR(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(_R),r=i[0],s=i[1],o=r.indexOf(Nc)!==-1?r.split(Nc):[r.substring(0,r.lastIndexOf(Ns)+1),r.substring(r.lastIndexOf(Ns)+1)],a=o[0],c=o[1]||"";n.posPre=a.substring(0,a.indexOf(oh));for(let u=0;u<c.length;u++){let d=c.charAt(u);d===Ns?n.minFrac=n.maxFrac=u+1:d===oh?n.maxFrac=u+1:n.posSuf+=d}let l=a.split(IR);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){let u=r.length-n.posPre.length-n.posSuf.length,d=s.indexOf(oh);n.negPre=s.substring(0,d).replace(/'/g,""),n.negSuf=s.slice(d+u).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function DR(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function CR(e){let t=Math.abs(e)+"",n=0,i,r,s,o,a;for((r=t.indexOf(Nc))>-1&&(t=t.replace(Nc,"")),(s=t.search(/e/i))>0?(r<0&&(r=s),r+=+t.slice(s+1),t=t.substring(0,s)):r<0&&(r=t.length),s=0;t.charAt(s)===Ns;s++);if(s===(a=t.length))i=[0],r=1;else{for(a--;t.charAt(a)===Ns;)a--;for(r-=s,i=[],o=0;s<=a;s++,o++)i[o]=Number(t.charAt(s))}return r>IE&&(i=i.splice(0,IE-1),n=r-1,r=1),{digits:i,exponent:n,integerLen:r}}function xR(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let i=e.digits,r=i.length-e.integerLen,s=Math.min(Math.max(t,r),n),o=s+e.integerLen,a=i[o];if(o>0){i.splice(Math.max(e.integerLen,o));for(let d=o;d<i.length;d++)i[d]=0}else{r=Math.max(0,r),e.integerLen=1,i.length=Math.max(1,o=s+1),i[0]=0;for(let d=1;d<o;d++)i[d]=0}if(a>=5)if(o-1<0){for(let d=0;d>o;d--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[o-1]++;for(;r<Math.max(0,s);r++)i.push(0);let c=s!==0,l=t+e.integerLen,u=i.reduceRight(function(d,f,h,p){return f=f+d,p[h]=f<10?f:f-10,c&&(p[h]===0&&h>=l?p.pop():c=!1),f>=10?1:0},0);u&&(i.unshift(u),e.integerLen++)}function ah(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}function kc(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}var ch=/\s+/,EE=[],Pc=(()=>{class e{constructor(n,i){this._ngEl=n,this._renderer=i,this.initialClasses=EE,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(ch):EE}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(ch):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(ch).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||e)(w(J),w(xs))}}static{this.\u0275dir=z({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();var lh=class{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},p3=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,s,o)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new lh(r.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)i.remove(s===null?void 0:s);else if(s!==null){let a=i.get(s);i.move(a,o),wE(a,r)}});for(let r=0,s=i.length;r<s;r++){let a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let s=i.get(r.currentIndex);wE(s,r)})}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(w(Xt),w(Yt),w(sh))}}static{this.\u0275dir=z({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function wE(e,t){e.context.$implicit=t.item}var g3=(()=>{class e{constructor(n,i){this._viewContainer=n,this._context=new uh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){bE("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){bE("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(w(Xt),w(Yt))}}static{this.\u0275dir=z({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),uh=class{constructor(){this.$implicit=null,this.ngIf=null}};function bE(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${Re(t)}'.`)}var Rc=class{constructor(t,n){this._viewContainerRef=t,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}},TE=(()=>{class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(n){this._ngSwitch=n,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(n){this._defaultViews.push(n)}_matchCase(n){let i=n===this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(n){if(this._defaultViews.length>0&&n!==this._defaultUsed){this._defaultUsed=n;for(let i of this._defaultViews)i.enforceState(n)}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=z({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}}return e})(),m3=(()=>{class e{constructor(n,i,r){this.ngSwitch=r,r._addCase(),this._view=new Rc(n,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static{this.\u0275fac=function(i){return new(i||e)(w(Xt),w(Yt),w(TE,9))}}static{this.\u0275dir=z({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}}return e})(),y3=(()=>{class e{constructor(n,i,r){r._addDefault(new Rc(n,i))}static{this.\u0275fac=function(i){return new(i||e)(w(Xt),w(Yt),w(TE,9))}}static{this.\u0275dir=z({type:e,selectors:[["","ngSwitchDefault",""]],standalone:!0})}}return e})();var v3=(()=>{class e{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(this._shouldRecreateView(n)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(n,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static{this.\u0275fac=function(i){return new(i||e)(w(Xt))}}static{this.\u0275dir=z({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[gi]})}}return e})();function AR(e,t){return new O(2100,!1)}var _3=(()=>{class e{constructor(n){this._locale=n}transform(n,i,r){if(!TR(n))return null;r||=this._locale;try{let s=SR(n);return wR(s,r,i)}catch(s){throw AR(e,s.message)}}static{this.\u0275fac=function(i){return new(i||e)(w(Ts,16))}}static{this.\u0275pipe=Rv({name:"number",type:e,pure:!0,standalone:!0})}}return e})();function TR(e){return!(e==null||e===""||e!==e)}function SR(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var MR=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ne({type:e})}static{this.\u0275inj=te({})}}return e})(),gh="browser",NR="server";function Rt(e){return e===gh}function nn(e){return e===NR}var I3=(()=>{class e{static{this.\u0275prov=E({token:e,providedIn:"root",factory:()=>Rt(b(de))?new dh(b(K),window):new fh})}}return e})(),dh=class{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=RR(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function RR(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}var fh=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},br=class{};var Os=class{},Lc=class{},rn=class e{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),s=r.toLowerCase(),o=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(t.name,n);let r=(t.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let s=t.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(t,n){let i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var yh=class{encodeKey(t){return ME(t)}encodeValue(t){return ME(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function OR(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var kR=/%(\d[a-f0-9])/gi,PR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ME(e){return encodeURIComponent(e).replace(kR,(t,n)=>PR[n]??t)}function Fc(e){return`${e}`}var Rn=class e{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new yh,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=OR(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let i=t.fromObject[n],r=Array.isArray(i)?i.map(Fc):[Fc(i)];this.map.set(n,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(i=>{let r=t[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(Fc(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let i=this.map.get(t.param)||[],r=i.indexOf(Fc(t.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var vh=class{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function FR(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function NE(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function RE(e){return typeof Blob<"u"&&e instanceof Blob}function OE(e){return typeof FormData<"u"&&e instanceof FormData}function LR(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Rs=class e{constructor(t,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let s;if(FR(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new rn,this.context??=new vh,!this.params)this.params=new Rn,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||NE(this.body)||RE(this.body)||OE(this.body)||LR(this.body)?this.body:this.body instanceof Rn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||OE(this.body)?null:RE(this.body)?this.body.type||null:NE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Rn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let n=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,a=t.withCredentials??this.withCredentials,c=t.reportProgress??this.reportProgress,l=t.headers||this.headers,u=t.params||this.params,d=t.context??this.context;return t.setHeaders!==void 0&&(l=Object.keys(t.setHeaders).reduce((f,h)=>f.set(h,t.setHeaders[h]),l)),t.setParams&&(u=Object.keys(t.setParams).reduce((f,h)=>f.set(h,t.setParams[h]),u)),new e(n,i,o,{params:u,headers:l,context:d,reportProgress:c,responseType:r,withCredentials:a,transferCache:s})}},On=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(On||{}),ks=class{constructor(t,n=200,i="OK"){this.headers=t.headers||new rn,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}},jc=class e extends ks{constructor(t={}){super(t),this.type=On.ResponseHeader}clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Ps=class e extends ks{constructor(t={}){super(t),this.type=On.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Nn=class extends ks{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},LE=200,jR=204;function mh(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var VR=(()=>{class e{constructor(n){this.handler=n}request(n,i,r={}){let s;if(n instanceof Rs)s=n;else{let c;r.headers instanceof rn?c=r.headers:c=new rn(r.headers);let l;r.params&&(r.params instanceof Rn?l=r.params:l=new Rn({fromObject:r.params})),s=new Rs(n,i,r.body!==void 0?r.body:null,{headers:c,context:r.context,params:l,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let o=Xn(s).pipe(Ru(c=>this.handler.handle(c)));if(n instanceof Rs||r.observe==="events")return o;let a=o.pipe(we(c=>c instanceof Ps));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(ce(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(ce(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(ce(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(ce(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:new Rn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,r={}){return this.request("PATCH",n,mh(r,i))}post(n,i,r={}){return this.request("POST",n,mh(r,i))}put(n,i,r={}){return this.request("PUT",n,mh(r,i))}static{this.\u0275fac=function(i){return new(i||e)(y(Os))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})(),BR=/^\)\]\}',?\n/,UR="X-Request-URL";function kE(e){if(e.url)return e.url;let t=UR.toLocaleLowerCase();return e.headers.get(t)}var $R=(()=>{class e{constructor(){this.fetchImpl=b(_h,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=b(R)}handle(n){return new A(i=>{let r=new AbortController;return this.doRequest(n,r.signal,i).then(Ih,s=>i.error(new Nn({error:s}))),()=>r.abort()})}doRequest(n,i,r){return g(this,null,function*(){let s=this.createRequestInit(n),o;try{let h=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,L({signal:i},s)));HR(h),r.next({type:On.Sent}),o=yield h}catch(h){r.error(new Nn({error:h,status:h.status??0,statusText:h.statusText,url:n.urlWithParams,headers:h.headers}));return}let a=new rn(o.headers),c=o.statusText,l=kE(o)??n.urlWithParams,u=o.status,d=null;if(n.reportProgress&&r.next(new jc({headers:a,status:u,statusText:c,url:l})),o.body){let h=o.headers.get("content-length"),p=[],m=o.body.getReader(),_=0,I,C,k=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>g(this,null,function*(){for(;;){let{done:ue,value:se}=yield m.read();if(ue)break;if(p.push(se),_+=se.length,n.reportProgress){C=n.responseType==="text"?(C??"")+(I??=new TextDecoder).decode(se,{stream:!0}):void 0;let qe=()=>r.next({type:On.DownloadProgress,total:h?+h:void 0,loaded:_,partialText:C});k?k.run(qe):qe()}}}));let X=this.concatChunks(p,_);try{let ue=o.headers.get("Content-Type")??"";d=this.parseBody(n,X,ue)}catch(ue){r.error(new Nn({error:ue,headers:new rn(o.headers),status:o.status,statusText:o.statusText,url:kE(o)??n.urlWithParams}));return}}u===0&&(u=d?LE:0),u>=200&&u<300?(r.next(new Ps({body:d,headers:a,status:u,statusText:c,url:l})),r.complete()):r.error(new Nn({error:d,headers:a,status:u,statusText:c,url:l}))})}parseBody(n,i,r){switch(n.responseType){case"json":let s=new TextDecoder().decode(i).replace(BR,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(i);case"blob":return new Blob([i],{type:r});case"arraybuffer":return i.buffer}}createRequestInit(n){let i={},r=n.withCredentials?"include":void 0;if(n.headers.forEach((s,o)=>i[s]=o.join(",")),n.headers.has("Accept")||(i.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(i["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:i,credentials:r}}concatChunks(n,i){let r=new Uint8Array(i),s=0;for(let o of n)r.set(o,s),s+=o.length;return r}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})(),_h=class{};function Ih(){}function HR(e){e.then(Ih,Ih)}function GR(e,t){return t(e)}function WR(e,t,n){return(i,r)=>$v(n,()=>t(i,s=>e(s,r)))}var jE=new D(""),zR=new D(""),qR=new D("",{providedIn:"root",factory:()=>!0});var PE=(()=>{class e extends Os{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=b(yr),this.contributeToStability=b(qR)}handle(n){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(jE),...this.injector.get(zR,[])]));this.chain=i.reduceRight((r,s)=>WR(r,s,this.injector),GR)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(Ou(()=>this.pendingTasks.remove(i)))}else return this.chain(n,i=>this.backend.handle(i))}static{this.\u0275fac=function(i){return new(i||e)(y(Lc),y(Dt))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})();var KR=/^\)\]\}',?\n/;function YR(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var FE=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new O(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Ke(i.\u0275loadImpl()):Xn(null)).pipe(ls(()=>new A(s=>{let o=i.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((m,_)=>o.setRequestHeader(m,_.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let m=n.detectContentTypeHeader();m!==null&&o.setRequestHeader("Content-Type",m)}if(n.responseType){let m=n.responseType.toLowerCase();o.responseType=m!=="json"?m:"text"}let a=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let m=o.statusText||"OK",_=new rn(o.getAllResponseHeaders()),I=YR(o)||n.url;return c=new jc({headers:_,status:o.status,statusText:m,url:I}),c},u=()=>{let{headers:m,status:_,statusText:I,url:C}=l(),k=null;_!==jR&&(k=typeof o.response>"u"?o.responseText:o.response),_===0&&(_=k?LE:0);let X=_>=200&&_<300;if(n.responseType==="json"&&typeof k=="string"){let ue=k;k=k.replace(KR,"");try{k=k!==""?JSON.parse(k):null}catch(se){k=ue,X&&(X=!1,k={error:se,text:k})}}X?(s.next(new Ps({body:k,headers:m,status:_,statusText:I,url:C||void 0})),s.complete()):s.error(new Nn({error:k,headers:m,status:_,statusText:I,url:C||void 0}))},d=m=>{let{url:_}=l(),I=new Nn({error:m,status:o.status||0,statusText:o.statusText||"Unknown Error",url:_||void 0});s.error(I)},f=!1,h=m=>{f||(s.next(l()),f=!0);let _={type:On.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(_.total=m.total),n.responseType==="text"&&o.responseText&&(_.partialText=o.responseText),s.next(_)},p=m=>{let _={type:On.UploadProgress,loaded:m.loaded};m.lengthComputable&&(_.total=m.total),s.next(_)};return o.addEventListener("load",u),o.addEventListener("error",d),o.addEventListener("timeout",d),o.addEventListener("abort",d),n.reportProgress&&(o.addEventListener("progress",h),a!==null&&o.upload&&o.upload.addEventListener("progress",p)),o.send(a),s.next({type:On.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",u),o.removeEventListener("timeout",d),n.reportProgress&&(o.removeEventListener("progress",h),a!==null&&o.upload&&o.upload.removeEventListener("progress",p)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(i){return new(i||e)(y(br))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})(),VE=new D(""),QR="XSRF-TOKEN",ZR=new D("",{providedIn:"root",factory:()=>QR}),JR="X-XSRF-TOKEN",XR=new D("",{providedIn:"root",factory:()=>JR}),Vc=class{},eO=(()=>{class e{constructor(n,i,r){this.doc=n,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=kc(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(i){return new(i||e)(y(K),y(de),y(ZR))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})();function tO(e,t){let n=e.url.toLowerCase();if(!b(VE)||e.method==="GET"||e.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return t(e);let i=b(Vc).getToken(),r=b(XR);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),t(e)}function O3(...e){let t=[VR,FE,PE,{provide:Os,useExisting:PE},{provide:Lc,useFactory:()=>b($R,{optional:!0})??b(FE)},{provide:jE,useValue:tO,multi:!0},{provide:VE,useValue:!0},{provide:Vc,useClass:eO}];for(let n of e)t.push(...n.\u0275providers);return Tt(t)}var bh=class extends Mc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Dh=class e extends bh{static makeCurrent(){CE(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=nO();return n==null?null:iO(n)}resetBaseElement(){Fs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return kc(document.cookie,t)}},Fs=null;function nO(){return Fs=Fs||document.querySelector("base"),Fs?Fs.getAttribute("href"):null}function iO(e){return new URL(e,document.baseURI).pathname}var rO=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})(),Ch=new D(""),HE=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new O(5101,!1);return this._eventNameToPlugin.set(n,i),i}static{this.\u0275fac=function(i){return new(i||e)(y(Ch),y(R))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})(),Bc=class{constructor(t){this._doc=t}},Eh="ng-app-id",GE=(()=>{class e{constructor(n,i,r,s={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=nn(s),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Eh}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){let r=this.styleRef;if(r.has(n)){let s=r.get(n);return s.usage+=i,s.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===n)return r.delete(i),s.removeAttribute(Eh),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(Eh,this.appId),n.appendChild(o),o}}addStyleToHost(n,i){let r=this.getStyleElement(n,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||e)(y(K),y(yc),y(vi,8),y(de))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})(),wh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ah=/%COMP%/g,WE="%COMP%",sO=`_nghost-${WE}`,oO=`_ngcontent-${WE}`,aO=!0,cO=new D("",{providedIn:"root",factory:()=>aO});function lO(e){return oO.replace(Ah,e)}function uO(e){return sO.replace(Ah,e)}function zE(e,t){return t.map(n=>n.replace(Ah,e))}var BE=(()=>{class e{constructor(n,i,r,s,o,a,c,l=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=nn(a),this.defaultRenderer=new Ls(n,o,c,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===bt.ShadowDom&&(i=Ee(L({},i),{encapsulation:bt.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof Uc?r.applyToHost(n):r instanceof js&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,s=r.get(i.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case bt.Emulated:s=new Uc(c,l,i,this.appId,u,o,a,d);break;case bt.ShadowDom:return new xh(c,l,n,i,o,a,this.nonce,d);default:s=new js(c,l,i,u,o,a,d);break}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||e)(y(HE),y(GE),y(yc),y(cO),y(K),y(de),y(R),y(vi))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})(),Ls=class{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(wh[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(UE(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(UE(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new O(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let s=wh[r];s?t.setAttributeNS(s,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=wh[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(Kt.DashCase|Kt.Important)?t.style.setProperty(n,i,r&Kt.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&Kt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=wr().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function UE(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var xh=class extends Ls{constructor(t,n,i,r,s,o,a,c){super(t,s,o,c),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=zE(r.id,r.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},js=class extends Ls{constructor(t,n,i,r,s,o,a,c){super(t,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?zE(c,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Uc=class extends js{constructor(t,n,i,r,s,o,a,c){let l=r+"-"+i.id;super(t,n,i,s,o,a,c,l),this.contentAttr=lO(l),this.hostAttr=uO(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},dO=(()=>{class e extends Bc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||e)(y(K))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})(),$E=["alt","control","meta","shift"],fO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hO={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},pO=(()=>{class e extends Bc{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r){let s=e.parseEventName(i),o=e.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let s=e._normalizeKey(i.pop()),o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),$E.forEach(l=>{let u=i.indexOf(l);u>-1&&(i.splice(u,1),o+=l+".")}),o+=s,i.length!=0||s.length===0)return null;let c={};return c.domEventName=r,c.fullKey=o,c}static matchEventFullKeyCode(n,i){let r=fO[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(r=n.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),$E.forEach(o=>{if(o!==r){let a=hO[o];a(n)&&(s+=o+".")}}),s+=r,s===i)}static eventCallback(n,i,r){return s=>{e.matchEventFullKeyCode(s,n)&&r.runGuarded(()=>i(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(i){return new(i||e)(y(K))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac})}}return e})();function X3(e,t){return yE(L({rootComponent:e},gO(t)))}function gO(e){return{appProviders:[...IO,...e?.providers??[]],platformProviders:_O}}function mO(){Dh.makeCurrent()}function yO(){return new zt}function vO(){return R_(document),document}var _O=[{provide:de,useValue:gh},{provide:Rf,useValue:mO,multi:!0},{provide:K,useFactory:vO,deps:[]}];var IO=[{provide:ac,useValue:"root"},{provide:zt,useFactory:yO,deps:[]},{provide:Ch,useClass:dO,multi:!0,deps:[K,R,de]},{provide:Ch,useClass:pO,multi:!0,deps:[K]},BE,GE,HE,{provide:hr,useExisting:BE},{provide:br,useClass:rO,deps:[]},[]];var eq=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(i){return new(i||e)(y(K))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var EO=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=E({token:e,factory:function(i){let r=null;return i?r=new(i||e):r=y(wO),r},providedIn:"root"})}}return e})(),wO=(()=>{class e extends EO{constructor(n){super(),this._doc=n}sanitize(n,i){if(i==null)return null;switch(n){case Mt.NONE:return i;case Mt.HTML:return Mn(i,"HTML")?lt(i):G_(this._doc,String(i)).toString();case Mt.STYLE:return Mn(i,"Style")?lt(i):i;case Mt.SCRIPT:if(Mn(i,"Script"))return lt(i);throw new O(5200,!1);case Mt.URL:return Mn(i,"URL")?lt(i):_c(String(i));case Mt.RESOURCE_URL:if(Mn(i,"ResourceURL"))return lt(i);throw new O(5201,!1);default:throw new O(5202,!1)}}bypassSecurityTrustHtml(n){return k_(n)}bypassSecurityTrustStyle(n){return P_(n)}bypassSecurityTrustScript(n){return F_(n)}bypassSecurityTrustUrl(n){return L_(n)}bypassSecurityTrustResourceUrl(n){return j_(n)}static{this.\u0275fac=function(i){return new(i||e)(y(K))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var bO=new D("cdk-dir-doc",{providedIn:"root",factory:DO});function DO(){return b(K)}var CO=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function xO(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?CO.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var qE=(()=>{class e{constructor(n){if(this.value="ltr",this.change=new _e,n){let i=n.body?n.body.dir:null,r=n.documentElement?n.documentElement.dir:null;this.value=xO(i||r||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(i){return new(i||e)(y(bO,8))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Vs=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ne({type:e})}static{this.\u0275inj=te({})}}return e})();function Sh(e){for(let t in e){let n=e[t]??"";switch(t){case"display":n==="flex"?e.display=["-webkit-flex","flex"]:n==="inline-flex"?e.display=["-webkit-inline-flex","inline-flex"]:e.display=n;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":e["-webkit-"+t]=n;break;case"flex-direction":e["-webkit-flex-direction"]=n,e["flex-direction"]=n;break;case"order":e.order=e["-webkit-"+t]=isNaN(+n)?"0":n;break}}return e}var Th="inline",Bs=["row","column","row-reverse","column-reverse"];function $c(e){let[t,n,i]=KE(e);return SO(t,n,i)}function KE(e){e=e?.toLowerCase()??"";let[t,n,i]=e.split(" ");return Bs.find(r=>r===t)||(t=Bs[0]),n===Th&&(n=i!==Th?i:"",i=Th),[t,TO(n),!!i]}function Us(e){let[t]=KE(e);return t.indexOf("row")>-1}function TO(e){if(e)switch(e.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":e="wrap-reverse";break;case"no":case"none":case"nowrap":e="nowrap";break;default:e="wrap";break}return e}function SO(e,t=null,n=!1){return{display:n?"inline-flex":"flex","box-sizing":"border-box","flex-direction":e,"flex-wrap":t||null}}function ut(e,...t){if(e==null)throw TypeError("Cannot convert undefined or null to object");for(let n of t)if(n!=null)for(let i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);return e}function MO(e,t){return()=>{if(Rt(t)){let n=Array.from(e.querySelectorAll(`[class*=${YE}]`)),i=/\bflex-layout-.+?\b/g;n.forEach(r=>{r.classList.contains(`${YE}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}}var NO={provide:Sc,useFactory:MO,deps:[K,de],multi:!0},YE="flex-layout-";var Cr=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ne({type:e})}static{this.\u0275inj=te({providers:[NO]})}}return e})(),_i=class e{constructor(t=!1,n="all",i="",r="",s=0){this.matches=t,this.mediaQuery=n,this.mqAlias=i,this.suffix=r,this.priority=s,this.property=""}clone(){return new e(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}};var RO=(()=>{class e{constructor(){this.stylesheet=new Map}addStyleToElement(n,i,r){let s=this.stylesheet.get(n);s?s.set(i,r):this.stylesheet.set(n,new Map([[i,r]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(n,i){let r=this.stylesheet.get(n),s="";if(r){let o=r.get(i);(typeof o=="number"||typeof o=="string")&&(s=o+"")}return s}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Hc={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Je=new D("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>Hc});var Hs=new D("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1});var Gc=new D("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function ow(e,t){return e=e?.clone()??new _i,t&&(e.mqAlias=t.alias,e.mediaQuery=t.mediaQuery,e.suffix=t.suffix,e.priority=t.priority),e}var dt=class{constructor(){this.shouldCache=!0}sideEffect(t,n,i){}};var Ot=(()=>{class e{constructor(n,i,r,s){this._serverStylesheet=n,this._serverModuleLoaded=i,this._platformId=r,this.layoutConfig=s}applyStyleToElement(n,i,r=null){let s={};typeof i=="string"&&(s[i]=r,i=s),s=this.layoutConfig.disableVendorPrefixes?i:Sh(i),this._applyMultiValueStyleToElement(s,n)}applyStyleToElements(n,i=[]){let r=this.layoutConfig.disableVendorPrefixes?n:Sh(n);i.forEach(s=>{this._applyMultiValueStyleToElement(r,s)})}getFlowDirection(n){let i="flex-direction",r=this.lookupStyle(n,i),s=this.lookupInlineStyle(n,i)||nn(this._platformId)&&this._serverModuleLoaded?r:"";return[r||"row",s]}hasWrap(n){return this.lookupStyle(n,"flex-wrap")==="wrap"}lookupAttributeValue(n,i){return n.getAttribute(i)??""}lookupInlineStyle(n,i){return Rt(this._platformId)?n.style.getPropertyValue(i):OO(n,i)}lookupStyle(n,i,r=!1){let s="";return n&&((s=this.lookupInlineStyle(n,i))||(Rt(this._platformId)?r||(s=getComputedStyle(n).getPropertyValue(i)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(n,i)))),s?s.trim():""}_applyMultiValueStyleToElement(n,i){Object.keys(n).sort().forEach(r=>{let s=n[r],o=Array.isArray(s)?s:[s];o.sort();for(let a of o)a=a?a+"":"",Rt(this._platformId)||!this._serverModuleLoaded?Rt(this._platformId)?i.style.setProperty(r,a):kO(i,r,a):this._serverStylesheet.addStyleToElement(i,r,a)})}static{this.\u0275fac=function(i){return new(i||e)(y(RO),y(Hs),y(de),y(Je))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function OO(e,t){return aw(e)[t]??""}function kO(e,t,n){t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();let i=aw(e);i[t]=n??"",PO(e,i)}function PO(e,t){let n="";for(let i in t)t[i]&&(n+=`${i}:${t[i]};`);e.setAttribute("style",n)}function aw(e){let t={},n=e.getAttribute("style");if(n){let i=n.split(/;+/g);for(let r=0;r<i.length;r++){let s=i[r].trim();if(s.length>0){let o=s.indexOf(":");if(o===-1)throw new Error(`Invalid CSS style: ${s}`);let a=s.substr(0,o).trim();t[a]=s.substr(o+1).trim()}}}return t}function $s(e,t){let n=e&&e.priority||0;return(t&&t.priority||0)-n}function FO(e,t){let n=e.priority||0,i=t.priority||0;return n-i}var LO=(()=>{class e{constructor(n,i,r,s){this._zone=n,this._platformId=i,this._document=r,this._nonce=s,this.source=new Ut(new _i(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){let n=[];return this.registry.forEach((i,r)=>{i.matches&&n.push(r)}),n}isActive(n){return this.registry.get(n)?.matches??this.registerQuery(n).some(r=>r.matches)}observe(n,i=!1){if(n&&n.length){let r=this._observable$.pipe(we(o=>i?n.indexOf(o.mediaQuery)>-1:!0)),s=new A(o=>{let a=this.registerQuery(n);if(a.length){let c=a.pop();a.forEach(l=>{o.next(l)}),this.source.next(c)}o.complete()});return ga(s,r)}return this._observable$}registerQuery(n){let i=Array.isArray(n)?n:[n],r=[];return jO(i,this._document,this._nonce),i.forEach(s=>{let o=c=>{this._zone.run(()=>this.source.next(new _i(c.matches,s)))},a=this.registry.get(s);a||(a=this.buildMQL(s),a.addListener(o),this.pendingRemoveListenerFns.push(()=>a.removeListener(o)),this.registry.set(s,a)),a.matches&&r.push(new _i(!0,s))}),r}ngOnDestroy(){let n;for(;n=this.pendingRemoveListenerFns.pop();)n()}buildMQL(n){return BO(n,Rt(this._platformId))}static{this.\u0275fac=function(i){return new(i||e)(y(R),y(de),y(K),y(vi,8))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),QE={};function jO(e,t,n){let i=e.filter(r=>!QE[r]);if(i.length>0){let r=i.join(", ");try{let s=t.createElement("style");if(s.setAttribute("type","text/css"),n&&s.setAttribute("nonce",n),!s.styleSheet){let o=`
/*
  @ngbracket/ngx-layout - workaround for possible browser quirk with mediaQuery listeners
  see http://bit.ly/2sd4HMP
*/
@media ${r} {.fx-query-test{ }}
`;s.appendChild(t.createTextNode(o))}t.head.appendChild(s),i.forEach(o=>QE[o]=s)}catch(s){console.error(s)}}}function VO(e){let t=new EventTarget;return t.matches=e==="all"||e==="",t.media=e,t.addListener=()=>{},t.removeListener=()=>{},t.addEventListener=()=>{},t.dispatchEvent=()=>!1,t.onchange=null,t}function BO(e,t){return t&&!!window.matchMedia("all").addListener?window.matchMedia(e):VO(e)}var UO=/(\.|-|_)/g;function $O(e){let t=e.length>0?e.charAt(0):"",n=e.length>1?e.slice(1):"";return t.toUpperCase()+n}function HO(e){return e.replace(UO,"|").split("|").map($O).join("")}function GO(e){return e.forEach(t=>{t.suffix||(t.suffix=HO(t.alias),t.overlapping=!!t.overlapping)}),e}function WO(e,t=[]){let n={};return e.forEach(i=>{n[i.alias]=i}),t.forEach(i=>{n[i.alias]?ut(n[i.alias],i):n[i.alias]=i}),GO(Object.keys(n).map(i=>n[i]))}var zO=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}];var ZE="(orientation: portrait) and (max-width: 599.98px)",JE="(orientation: landscape) and (max-width: 959.98px)",XE="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",ew="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",tw="(orientation: portrait) and (min-width: 840px)",nw="(orientation: landscape) and (min-width: 1280px)",sn={HANDSET:`${ZE}, ${JE}`,TABLET:`${XE} , ${ew}`,WEB:`${tw}, ${nw} `,HANDSET_PORTRAIT:`${ZE}`,TABLET_PORTRAIT:`${XE} `,WEB_PORTRAIT:`${tw}`,HANDSET_LANDSCAPE:`${JE}`,TABLET_LANDSCAPE:`${ew}`,WEB_LANDSCAPE:`${nw}`},qO=[{alias:"handset",priority:2e3,mediaQuery:sn.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:sn.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:sn.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:sn.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:sn.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:sn.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:sn.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:sn.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:sn.WEB_PORTRAIT,overlapping:!0}];var KO=new D("Token (@ngbracket/ngx-layout) Breakpoints",{providedIn:"root",factory:()=>{let e=b(Gc),t=b(Je),n=[].concat.apply([],(e||[]).map(r=>Array.isArray(r)?r:[r])),i=(t.disableDefaultBps?[]:zO).concat(t.addOrientationBps?qO:[]);return WO(i,n)}});var cw=(()=>{class e{constructor(n){this.findByMap=new Map,this.items=[...n].sort(FO)}findByAlias(n){return n?this.findWithPredicate(n,i=>i.alias===n):null}findByQuery(n){return this.findWithPredicate(n,i=>i.mediaQuery===n)}get overlappings(){return this.items.filter(n=>n.overlapping)}get aliases(){return this.items.map(n=>n.alias)}get suffixes(){return this.items.map(n=>n?.suffix??"")}findWithPredicate(n,i){let r=this.findByMap.get(n);return r||(r=this.items.find(i)??null,this.findByMap.set(n,r)),r??null}static{this.\u0275fac=function(i){return new(i||e)(y(KO))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Dr="print",YO={alias:Dr,mediaQuery:Dr,priority:1e3},QO=(()=>{class e{constructor(n,i,r){this.breakpoints=n,this.layoutConfig=i,this._document=r,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new Mh,this.deactivations=[]}withPrintQuery(n){return[...n,Dr]}isPrintEvent(n){return n.mediaQuery.startsWith(Dr)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(n=>this.breakpoints.findByAlias(n)).filter(n=>n!==null)}getEventBreakpoints({mediaQuery:n}){let i=this.breakpoints.findByQuery(n);return(i?[...this.printBreakPoints,i]:this.printBreakPoints).sort($s)}updateEvent(n){let i=this.breakpoints.findByQuery(n.mediaQuery);return this.isPrintEvent(n)&&(i=this.getEventBreakpoints(n)[0],n.mediaQuery=i?.mediaQuery??""),ow(n,i)}registerBeforeAfterPrintHooks(n){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;let i=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(n,this.getEventBreakpoints(new _i(!0,Dr))),n.updateStyles())},r=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(n),n.updateStyles())};this._document.defaultView.addEventListener("beforeprint",i),this._document.defaultView.addEventListener("afterprint",r),this.beforePrintEventListeners.push(i),this.afterPrintEventListeners.push(r)}interceptEvents(n){return i=>{if(this.isPrintEvent(i)){i.matches&&!this.isPrinting?(this.startPrinting(n,this.getEventBreakpoints(i)),n.updateStyles()):!i.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(n),n.updateStyles());return}this.collectActivations(n,i)}}blockPropagation(){return n=>!(this.isPrinting||this.isPrintEvent(n))}startPrinting(n,i){this.isPrinting=!0,this.formerActivations=n.activatedBreakpoints,n.activatedBreakpoints=this.queue.addPrintBreakpoints(i)}stopPrinting(n){n.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(n,i){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent){this.deactivations=[];return}if(!i.matches){let r=this.breakpoints.findByQuery(i.mediaQuery);if(r){let s=this.formerActivations&&this.formerActivations.includes(r),o=!this.formerActivations&&n.activatedBreakpoints.includes(r);(s||o)&&(this.deactivations.push(r),this.deactivations.sort($s))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(n=>this._document.defaultView.removeEventListener("beforeprint",n)),this.afterPrintEventListeners.forEach(n=>this._document.defaultView.removeEventListener("afterprint",n)))}static{this.\u0275fac=function(i){return new(i||e)(y(cw),y(Je),y(K))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Mh=class{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(t){return t.push(YO),t.sort($s),t.forEach(n=>this.addBreakpoint(n)),this.printBreakpoints}addBreakpoint(t){t&&this.printBreakpoints.find(i=>i.mediaQuery===t.mediaQuery)===void 0&&(this.printBreakpoints=ZO(t)?[t,...this.printBreakpoints]:[...this.printBreakpoints,t])}clear(){this.printBreakpoints=[]}};function ZO(e){return e?.mediaQuery.startsWith(Dr)??!1}var on=(()=>{class e{get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(n){this._activatedBreakpoints=[...n]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(n){this._useFallbacks=n}constructor(n,i,r){this.matchMedia=n,this.breakpoints=i,this.hook=r,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new ie,this.observeActivations()}onMediaChange(n){let i=this.findByQuery(n.mediaQuery);if(i){n=ow(n,i);let r=this.activatedBreakpoints.indexOf(i);n.matches&&r===-1?(this._activatedBreakpoints.push(i),this._activatedBreakpoints.sort($s),this.updateStyles()):!n.matches&&r!==-1&&(this._activatedBreakpoints.splice(r,1),this._activatedBreakpoints.sort($s),this.updateStyles())}}init(n,i,r,s,o=[]){iw(this.updateMap,n,i,r),iw(this.clearMap,n,i,s),this.buildElementKeyMap(n,i),this.watchExtraTriggers(n,i,o)}getValue(n,i,r){let s=this.elementMap.get(n);if(s){let o=r!==void 0?s.get(r):this.getActivatedValues(s,i);if(o)return o.get(i)}}hasValue(n,i){let r=this.elementMap.get(n);if(r){let s=this.getActivatedValues(r,i);if(s)return s.get(i)!==void 0||!1}return!1}setValue(n,i,r,s){let o=this.elementMap.get(n);if(!o)o=new Map().set(s,new Map().set(i,r)),this.elementMap.set(n,o);else{let c=(o.get(s)??new Map).set(i,r);o.set(s,c),this.elementMap.set(n,o)}let a=this.getValue(n,i);a!==void 0&&this.updateElement(n,i,a)}trackValue(n,i){return this.subject.asObservable().pipe(we(r=>r.element===n&&r.key===i))}updateStyles(){this.elementMap.forEach((n,i)=>{let r=new Set(this.elementKeyMap.get(i)),s=this.getActivatedValues(n);s&&s.forEach((o,a)=>{this.updateElement(i,a,o),r.delete(a)}),r.forEach(o=>{if(s=this.getActivatedValues(n,o),s){let a=s.get(o);this.updateElement(i,o,a)}else this.clearElement(i,o)})})}clearElement(n,i){let r=this.clearMap.get(n);if(r){let s=r.get(i);s&&(s(),this.subject.next({element:n,key:i,value:""}))}}updateElement(n,i,r){let s=this.updateMap.get(n);if(s){let o=s.get(i);o&&(o(r),this.subject.next({element:n,key:i,value:r}))}}releaseElement(n){let i=this.watcherMap.get(n);i&&(i.forEach(s=>s.unsubscribe()),this.watcherMap.delete(n));let r=this.elementMap.get(n);r&&(r.forEach((s,o)=>r.delete(o)),this.elementMap.delete(n))}triggerUpdate(n,i){let r=this.elementMap.get(n);if(r){let s=this.getActivatedValues(r,i);s&&(i?this.updateElement(n,i,s.get(i)):s.forEach((o,a)=>this.updateElement(n,a,o)))}}buildElementKeyMap(n,i){let r=this.elementKeyMap.get(n);r||(r=new Set,this.elementKeyMap.set(n,r)),r.add(i)}watchExtraTriggers(n,i,r){if(r&&r.length){let s=this.watcherMap.get(n);if(s||(s=new Map,this.watcherMap.set(n,s)),!s.get(i)){let a=ga(...r).subscribe(()=>{let c=this.getValue(n,i);this.updateElement(n,i,c)});s.set(i,a)}}}findByQuery(n){return this.breakpoints.findByQuery(n)}getActivatedValues(n,i){for(let s=0;s<this.activatedBreakpoints.length;s++){let o=this.activatedBreakpoints[s],a=n.get(o.alias);if(a&&(i===void 0||a.has(i)&&a.get(i)!=null))return a}if(!this._useFallbacks)return;let r=n.get("");return i===void 0||r&&r.has(i)?r:void 0}observeActivations(){let n=this.breakpoints.items.map(i=>i.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(n)).pipe(ii(this.hook.interceptEvents(this)),we(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}static{this.\u0275fac=function(i){return new(i||e)(y(LO),y(cw),y(QO))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function iw(e,t,n,i){if(i!==void 0){let r=e.get(t)??new Map;r.set(n,i),e.set(t,r)}}var an=(()=>{class e{get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(n){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,n,this.marshal.activatedAlias)}constructor(n,i,r,s){this.elementRef=n,this.styleBuilder=i,this.styler=r,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new ie,this.styleCache=new Map}ngOnChanges(n){Object.keys(n).forEach(i=>{if(this.inputs.indexOf(i)!==-1){let r=i.split(".").slice(1).join("."),s=n[i].currentValue;this.setValue(s,r)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(n=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),n)}addStyles(n,i){let r=this.styleBuilder,s=r.shouldCache,o=this.styleCache.get(n);(!o||!s)&&(o=r.buildStyles(n,i),s&&this.styleCache.set(n,o)),this.mru=L({},o),this.applyStyleToElement(o),r.sideEffect(n,o,i)}clearStyles(){Object.keys(this.mru).forEach(n=>{this.mru[n]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(n,i=!1){if(n){let[r,s]=this.styler.getFlowDirection(n);if(!s&&i){let o=$c(r),a=[n];this.styler.applyStyleToElements(o,a)}return r.trim()}return"row"}hasWrap(n){return this.styler.hasWrap(n)}applyStyleToElement(n,i,r=this.nativeElement){this.styler.applyStyleToElement(r,n,i)}setValue(n,i){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,n,i)}updateWithValue(n){this.currentValue!==n&&(this.addStyles(n),this.currentValue=n)}static{this.\u0275fac=function(i){return new(i||e)(w(J),w(dt),w(Ot),w(on))}}static{this.\u0275dir=z({type:e,features:[gi]})}}return e})();function Nh(e,t="1",n="1"){let i=[t,n,e],r=e.indexOf("calc");if(r>0){i[2]=rw(e.substring(r).trim());let s=e.substr(0,r).trim().split(" ");s.length==2&&(i[0]=s[0],i[1]=s[1])}else if(r==0)i[2]=rw(e.trim());else{let s=e.split(" ");i=s.length===3?s:[t,n,e]}return i}function rw(e){return e.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}var sw="x";function Wc(e,t){if(t===void 0)return e;let n=i=>{let r=+i.slice(0,-sw.length);return e.endsWith(sw)&&!isNaN(r)?`${r*t.value}${t.unit}`:e};return e.includes(" ")?e.split(" ").map(n).join(" "):n(e)}var JO={margin:0,width:"100%",height:"100%","min-width":"100%","min-height":"100%"},XO=(()=>{class e extends dt{buildStyles(n){return JO}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=ct(e)))(r||e)}})()}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Mq=(()=>{class e extends an{constructor(n,i,r,s){super(n,r,i,s),this.styleCache=ek,this.addStyles("")}static{this.\u0275fac=function(i){return new(i||e)(w(J),w(Ot),w(XO),w(on))}}static{this.\u0275dir=z({type:e,selectors:[["","fxFill",""],["","fxFlexFill",""]],features:[Oe]})}}return e})(),ek=new Map;var tk=(()=>{class e extends dt{constructor(n){super(),this.layoutConfig=n}buildStyles(n,i){let[r,s,...o]=n.split(" "),a=o.join(" "),c=i.direction.indexOf("column")>-1?"column":"row",l=Us(c)?"max-width":"max-height",u=Us(c)?"min-width":"min-height",d=String(a).indexOf("calc")>-1,f=d||a==="auto",h=String(a).indexOf("%")>-1&&!d,p=String(a).indexOf("px")>-1||String(a).indexOf("rem")>-1||String(a).indexOf("em")>-1||String(a).indexOf("vw")>-1||String(a).indexOf("vh")>-1,m=d||p;r=r=="0"?0:r,s=s=="0"?0:s;let _=!r&&!s,I={},C={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(a||""){case"":let k=this.layoutConfig.useColumnBasisZero!==!1;a=c==="row"?"0%":k?"0.000000001px":"auto";break;case"initial":case"nogrow":r=0,a="auto";break;case"grow":a="100%";break;case"noshrink":s=0,a="auto";break;case"auto":break;case"none":r=0,s=0,a="auto";break;default:!m&&!h&&!isNaN(a)&&(a=a+"%"),a==="0%"&&(m=!0),a==="0px"&&(a="0%"),d?I=ut(C,{"flex-grow":r,"flex-shrink":s,"flex-basis":m?a:"100%"}):I=ut(C,{flex:`${r} ${s} ${m?a:"100%"}`});break}return I.flex||I["flex-grow"]||(d?I=ut(C,{"flex-grow":r,"flex-shrink":s,"flex-basis":a}):I=ut(C,{flex:`${r} ${s} ${a}`})),a!=="0%"&&a!=="0px"&&a!=="0.000000001px"&&a!=="auto"&&(I[u]=_||m&&r?a:null,I[l]=_||!f&&s?a:null),!I[u]&&!I[l]?d?I=ut(C,{"flex-grow":r,"flex-shrink":s,"flex-basis":a}):I=ut(C,{flex:`${r} ${s} ${a}`}):i.hasWrap&&(I[d?"flex-basis":"flex"]=I[l]?d?I[l]:`${r} ${s} ${I[l]}`:d?I[u]:`${r} ${s} ${I[u]}`),ut(I,{"box-sizing":"border-box"})}static{this.\u0275fac=function(i){return new(i||e)(y(Je))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),nk=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];var ik=(()=>{class e extends an{get shrink(){return this.flexShrink}set shrink(n){this.flexShrink=n||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(n){this.flexGrow=n||"1",this.triggerReflow()}constructor(n,i,r,s,o){super(n,s,i,o),this.layoutConfig=r,this.marshal=o,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Ye(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Ye(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(n){let r=n.value.split(" ");this.direction=r[0],this.wrap=r[1]!==void 0&&r[1]==="wrap",this.triggerUpdate()}updateWithValue(n){let i=this.layoutConfig.addFlexToParent!==!1;this.direction===void 0&&(this.direction=this.getFlexFlowDirection(this.parentElement,i)),this.wrap===void 0&&(this.wrap=this.hasWrap(this.parentElement));let r=this.direction,s=r.startsWith("row"),o=this.wrap;s&&o?this.styleCache=ok:s&&!o?this.styleCache=rk:!s&&o?this.styleCache=ak:!s&&!o&&(this.styleCache=sk);let a=String(n).replace(";",""),c=Nh(a,this.flexGrow,this.flexShrink);this.addStyles(c.join(" "),{direction:r,hasWrap:o})}triggerReflow(){let n=this.activatedValue;if(n!==void 0){let i=Nh(n+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,i.join(" "))}}static{this.\u0275fac=function(i){return new(i||e)(w(J),w(Ot),w(Je),w(tk),w(on))}}static{this.\u0275dir=z({type:e,inputs:{shrink:[0,"fxShrink","shrink"],grow:[0,"fxGrow","grow"]},features:[Oe]})}}return e})(),Nq=(()=>{class e extends ik{constructor(){super(...arguments),this.inputs=nk}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=ct(e)))(r||e)}})()}static{this.\u0275dir=z({type:e,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[Oe]})}}return e})(),rk=new Map,sk=new Map,ok=new Map,ak=new Map;var ck=(()=>{class e extends dt{buildStyles(n,i){let r={},[s,o]=n.split(" ");switch(s){case"center":r["justify-content"]="center";break;case"space-around":r["justify-content"]="space-around";break;case"space-between":r["justify-content"]="space-between";break;case"space-evenly":r["justify-content"]="space-evenly";break;case"end":case"flex-end":r["justify-content"]="flex-end";break;case"start":case"flex-start":default:r["justify-content"]="flex-start";break}switch(o){case"start":case"flex-start":r["align-items"]=r["align-content"]="flex-start";break;case"center":r["align-items"]=r["align-content"]="center";break;case"end":case"flex-end":r["align-items"]=r["align-content"]="flex-end";break;case"space-between":r["align-content"]="space-between",r["align-items"]="stretch";break;case"space-around":r["align-content"]="space-around",r["align-items"]="stretch";break;case"baseline":r["align-content"]="stretch",r["align-items"]="baseline";break;case"stretch":default:r["align-items"]=r["align-content"]="stretch";break}return ut(r,{display:i.inline?"inline-flex":"flex","flex-direction":i.layout,"box-sizing":"border-box","max-width":o==="stretch"?Us(i.layout)?null:"100%":null,"max-height":o==="stretch"&&Us(i.layout)?"100%":null})}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=ct(e)))(r||e)}})()}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),lk=["fxLayoutAlign","fxLayoutAlign.xs","fxLayoutAlign.sm","fxLayoutAlign.md","fxLayoutAlign.lg","fxLayoutAlign.xl","fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg"];var uk=(()=>{class e extends an{constructor(n,i,r,s){super(n,r,i,s),this.DIRECTIVE_KEY="layout-align",this.layout="row",this.inline=!1,this.init(),this.marshal.trackValue(this.nativeElement,"layout").pipe(Ye(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}updateWithValue(n){let i=this.layout||"row",r=this.inline;i==="row"&&r?this.styleCache=gk:i==="row"&&!r?this.styleCache=dk:i==="row-reverse"&&r?this.styleCache=yk:i==="row-reverse"&&!r?this.styleCache=hk:i==="column"&&r?this.styleCache=mk:i==="column"&&!r?this.styleCache=fk:i==="column-reverse"&&r?this.styleCache=vk:i==="column-reverse"&&!r&&(this.styleCache=pk),this.addStyles(n,{layout:i,inline:r})}onLayoutChange(n){let i=n.value.split(" ");this.layout=i[0],this.inline=n.value.includes("inline"),Bs.find(r=>r===this.layout)||(this.layout="row"),this.triggerUpdate()}static{this.\u0275fac=function(i){return new(i||e)(w(J),w(Ot),w(ck),w(on))}}static{this.\u0275dir=z({type:e,features:[Oe]})}}return e})(),Rq=(()=>{class e extends uk{constructor(){super(...arguments),this.inputs=lk}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=ct(e)))(r||e)}})()}static{this.\u0275dir=z({type:e,selectors:[["","fxLayoutAlign",""],["","fxLayoutAlign.xs",""],["","fxLayoutAlign.sm",""],["","fxLayoutAlign.md",""],["","fxLayoutAlign.lg",""],["","fxLayoutAlign.xl",""],["","fxLayoutAlign.lt-sm",""],["","fxLayoutAlign.lt-md",""],["","fxLayoutAlign.lt-lg",""],["","fxLayoutAlign.lt-xl",""],["","fxLayoutAlign.gt-xs",""],["","fxLayoutAlign.gt-sm",""],["","fxLayoutAlign.gt-md",""],["","fxLayoutAlign.gt-lg",""]],inputs:{fxLayoutAlign:"fxLayoutAlign","fxLayoutAlign.xs":"fxLayoutAlign.xs","fxLayoutAlign.sm":"fxLayoutAlign.sm","fxLayoutAlign.md":"fxLayoutAlign.md","fxLayoutAlign.lg":"fxLayoutAlign.lg","fxLayoutAlign.xl":"fxLayoutAlign.xl","fxLayoutAlign.lt-sm":"fxLayoutAlign.lt-sm","fxLayoutAlign.lt-md":"fxLayoutAlign.lt-md","fxLayoutAlign.lt-lg":"fxLayoutAlign.lt-lg","fxLayoutAlign.lt-xl":"fxLayoutAlign.lt-xl","fxLayoutAlign.gt-xs":"fxLayoutAlign.gt-xs","fxLayoutAlign.gt-sm":"fxLayoutAlign.gt-sm","fxLayoutAlign.gt-md":"fxLayoutAlign.gt-md","fxLayoutAlign.gt-lg":"fxLayoutAlign.gt-lg"},features:[Oe]})}}return e})(),dk=new Map,fk=new Map,hk=new Map,pk=new Map,gk=new Map,mk=new Map,yk=new Map,vk=new Map,dw={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null},_k=(()=>{class e extends dt{constructor(n,i){super(),this._styler=n,this._config=i}buildStyles(n,i){return n.endsWith(zc)?(n=n.slice(0,n.indexOf(zc)),n=Wc(n,this._config.multiplier),Ak(n,i.directionality)):{}}sideEffect(n,i,r){let s=r.items;if(n.endsWith(zc)){n=n.slice(0,n.indexOf(zc)),n=Wc(n,this._config.multiplier);let o=xk(n,r.directionality);this._styler.applyStyleToElements(o,r.items)}else{n=Wc(n,this._config.multiplier),n=this.addFallbackUnit(n);let o=s.pop(),a=Tk(n,r);this._styler.applyStyleToElements(a,s),this._styler.applyStyleToElements(dw,[o])}}addFallbackUnit(n){return isNaN(+n)?n:`${n}${this._config.defaultUnit}`}static{this.\u0275fac=function(i){return new(i||e)(y(Ot),y(Je))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ik=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];var Ek=(()=>{class e extends an{get childrenNodes(){let n=this.nativeElement.children,i=[];for(let r=n.length;r--;)i[r]=n[r];return i}constructor(n,i,r,s,o,a){super(n,o,s,a),this.zone=i,this.directionality=r,this.styleUtils=s,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new ie;let c=[this.directionality.change,this.observerSubject.asObservable()];this.init(c),this.marshal.trackValue(this.nativeElement,"layout").pipe(Ye(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(n){let r=n.value.split(" ")[0];Bs.find(s=>s===r)||(r="row"),this.layout&&this.layout!==r&&this.clearStyles(),this.layout=r,this.triggerUpdate()}updateWithValue(n){let i=this.childrenNodes.filter(r=>r.nodeType===1&&this.willDisplay(r)).sort((r,s)=>{let o=+this.styler.lookupStyle(r,"order"),a=+this.styler.lookupStyle(s,"order");return isNaN(o)||isNaN(a)||o===a?0:o>a?1:-1});if(i.length>0){let r=this.directionality.value,s=this.layout;s==="row"&&r==="rtl"?this.styleCache=wk:s==="row"&&r!=="rtl"?this.styleCache=Dk:s==="column"&&r==="rtl"?this.styleCache=bk:s==="column"&&r!=="rtl"&&(this.styleCache=Ck),this.addStyles(n,{directionality:r,items:i,layout:s})}}clearStyles(){let n=Object.keys(this.mru).length>0,i=n?"padding":fw(this.directionality.value,this.layout);n&&super.clearStyles(),this.styleUtils.applyStyleToElements({[i]:""},this.childrenNodes)}willDisplay(n){let i=this.marshal.getValue(n,"show-hide");return i===!0||i===void 0&&this.styleUtils.lookupStyle(n,"display")!=="none"}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(n=>{let i=r=>r.addedNodes&&r.addedNodes.length>0||r.removedNodes&&r.removedNodes.length>0;n.some(i)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}static{this.\u0275fac=function(i){return new(i||e)(w(J),w(R),w(qE),w(Ot),w(_k),w(on))}}static{this.\u0275dir=z({type:e,features:[Oe]})}}return e})(),Oq=(()=>{class e extends Ek{constructor(){super(...arguments),this.inputs=Ik}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=ct(e)))(r||e)}})()}static{this.\u0275dir=z({type:e,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[Oe]})}}return e})(),wk=new Map,bk=new Map,Dk=new Map,Ck=new Map,zc=" grid";function xk(e,t){let[n,i]=e.split(" "),r=i??n,s="0px",o=r,a="0px";return t==="rtl"?a=n:s=n,{padding:`0px ${s} ${o} ${a}`}}function Ak(e,t){let[n,i]=e.split(" "),r=i??n,s=l=>`-${l}`,o="0px",a=s(r),c="0px";return t==="rtl"?c=s(n):o=s(n),{margin:`0px ${o} ${a} ${c}`}}function fw(e,t){switch(t){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":return e==="rtl"?"margin-left":"margin-right";case"row-reverse":return e==="rtl"?"margin-right":"margin-left";default:return e==="rtl"?"margin-left":"margin-right"}}function Tk(e,t){let n=fw(t.directionality,t.layout),i=L({},dw);return i[n]=e,i}var Sk=(()=>{class e extends dt{buildStyles(n,{display:i}){let r=$c(n);return Ee(L({},r),{display:i==="none"?i:r.display})}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=ct(e)))(r||e)}})()}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Mk=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];var Nk=(()=>{class e extends an{constructor(n,i,r,s,o){super(n,r,i,s),this._config=o,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(n){let r=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=uw.get(r)??new Map,uw.set(r,this.styleCache),this.currentValue!==n&&(this.addStyles(n,{display:r}),this.currentValue=n)}static{this.\u0275fac=function(i){return new(i||e)(w(J),w(Ot),w(Sk),w(on),w(Je))}}static{this.\u0275dir=z({type:e,features:[Oe]})}}return e})(),kq=(()=>{class e extends Nk{constructor(){super(...arguments),this.inputs=Mk}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=ct(e)))(r||e)}})()}static{this.\u0275dir=z({type:e,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[Oe]})}}return e})(),uw=new Map;var Rh=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ne({type:e})}static{this.\u0275inj=te({imports:[Cr,Vs]})}}return e})();function Rk(e){return e!=null&&`${e}`!="false"}function Oh(e,t=0){return Ok(e)?Number(e):arguments.length===2?t:0}function Ok(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function kh(e){return Array.isArray(e)?e:[e]}function cn(e){return e instanceof J?e.nativeElement:e}var Pk=(()=>{class e extends an{set klass(n){this.ngClassInstance.klass=n,this.setValue(n,"")}constructor(n,i,r,s,o){super(n,null,i,r),this.ngClassInstance=o,this.DIRECTIVE_KEY="ngClass",this.ngClassInstance||(this.ngClassInstance=new Pc(n,s)),this.init(),this.setValue("","")}updateWithValue(n){this.ngClassInstance.ngClass=n,this.ngClassInstance.ngDoCheck()}ngDoCheck(){this.ngClassInstance.ngDoCheck()}static{this.\u0275fac=function(i){return new(i||e)(w(J),w(Ot),w(on),w(xs),w(Pc,10))}}static{this.\u0275dir=z({type:e,inputs:{klass:[0,"class","klass"]},features:[Oe]})}}return e})(),Fk=["ngClass","ngClass.xs","ngClass.sm","ngClass.md","ngClass.lg","ngClass.xl","ngClass.lt-sm","ngClass.lt-md","ngClass.lt-lg","ngClass.lt-xl","ngClass.gt-xs","ngClass.gt-sm","ngClass.gt-md","ngClass.gt-lg"];var Uq=(()=>{class e extends Pk{constructor(){super(...arguments),this.inputs=Fk}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=ct(e)))(r||e)}})()}static{this.\u0275dir=z({type:e,selectors:[["","ngClass",""],["","ngClass.xs",""],["","ngClass.sm",""],["","ngClass.md",""],["","ngClass.lg",""],["","ngClass.xl",""],["","ngClass.lt-sm",""],["","ngClass.lt-md",""],["","ngClass.lt-lg",""],["","ngClass.lt-xl",""],["","ngClass.gt-xs",""],["","ngClass.gt-sm",""],["","ngClass.gt-md",""],["","ngClass.gt-lg",""]],inputs:{ngClass:"ngClass","ngClass.xs":"ngClass.xs","ngClass.sm":"ngClass.sm","ngClass.md":"ngClass.md","ngClass.lg":"ngClass.lg","ngClass.xl":"ngClass.xl","ngClass.lt-sm":"ngClass.lt-sm","ngClass.lt-md":"ngClass.lt-md","ngClass.lt-lg":"ngClass.lt-lg","ngClass.lt-xl":"ngClass.lt-xl","ngClass.gt-xs":"ngClass.gt-xs","ngClass.gt-sm":"ngClass.gt-sm","ngClass.gt-md":"ngClass.gt-md","ngClass.gt-lg":"ngClass.gt-lg"},features:[Oe]})}}return e})();var Ph=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ne({type:e})}static{this.\u0275inj=te({imports:[Cr]})}}return e})();var Fh=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ne({type:e})}static{this.\u0275inj=te({imports:[Cr]})}}return e})();var e4=(()=>{class e{static withConfig(n,i=[]){return{ngModule:e,providers:n.serverLoaded?[{provide:Je,useValue:L(L({},Hc),n)},{provide:Gc,useValue:i,multi:!0},{provide:Hs,useValue:!0}]:[{provide:Je,useValue:L(L({},Hc),n)},{provide:Gc,useValue:i,multi:!0}]}}constructor(n,i){nn(i)&&!n&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static{this.\u0275fac=function(i){return new(i||e)(y(Hs),y(de))}}static{this.\u0275mod=ne({type:e})}static{this.\u0275inj=te({imports:[Rh,Ph,Fh,Rh,Ph,Fh]})}}return e})();var t4=new At("18.0.0");var jh={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var v=function(e,t){if(!e)throw Ii(t)},Ii=function(e){return new Error("Firebase Database ("+jh.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};var pw=function(e){let t=[],n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},Lk=function(e){let t=[],n=0,i=0;for(;n<e.length;){let r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=e[n++],o=e[n++],a=e[n++],c=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(c>>10)),t[i++]=String.fromCharCode(56320+(c&1023))}else{let s=e[n++],o=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Kc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){let s=e[r],o=r+1<e.length,a=o?e[r+1]:0,c=r+2<e.length,l=c?e[r+2]:0,u=s>>2,d=(s&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,o||(f=64)),i.push(n[u],n[d],n[f],n[h])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Lk(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){let s=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;let l=r<e.length?n[e.charAt(r)]:64;++r;let d=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||a==null||l==null||d==null)throw new Vh;let f=s<<2|a>>4;if(i.push(f),l!==64){let h=a<<4&240|l>>2;if(i.push(h),d!==64){let p=l<<6&192|d;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Vh=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Uh=function(e){let t=pw(e);return Kc.encodeByteArray(t,!0)},Gs=function(e){return Uh(e).replace(/\./g,"")},Ws=function(e){try{return Kc.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function gw(e){return mw(void 0,e)}function mw(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:let n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(let n in t)!t.hasOwnProperty(n)||!jk(n)||(e[n]=mw(e[n],t[n]));return e}function jk(e){return e!=="__proto__"}function Vk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Bk=()=>Vk().__FIREBASE_DEFAULTS__,Uk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},$k=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Ws(e[1]);return t&&JSON.parse(t)},$h=()=>{try{return Bk()||Uk()||$k()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Hh=e=>{var t,n;return(n=(t=$h())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},yw=e=>{let t=Hh(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Gh=()=>{var e;return(e=$h())===null||e===void 0?void 0:e.config},Wh=e=>{var t;return(t=$h())===null||t===void 0?void 0:t[`_${e}`]};var ln=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}};function vw(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Gs(JSON.stringify(n)),Gs(JSON.stringify(o)),""].join(".")}function Ae(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zs(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ae())}function _w(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Iw(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Yc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ew(){let e=Ae();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function kt(){return jh.NODE_CLIENT===!0||jh.NODE_ADMIN===!0}function ww(){try{return typeof indexedDB=="object"}catch{return!1}}function bw(){return new Promise((e,t)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}var Hk="FirebaseError",ft=class e extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=Hk,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,un.prototype.create)}},un=class{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){let i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?Gk(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new ft(r,a,i)}};function Gk(e,t){return e.replace(Wk,(n,i)=>{let r=t[i];return r!=null?String(r):`<${i}?>`})}var Wk=/\{\$([^}]+)}/g;function xr(e){return JSON.parse(e)}function fe(e){return JSON.stringify(e)}var Dw=function(e){let t={},n={},i={},r="";try{let s=e.split(".");t=xr(Ws(s[0])||""),n=xr(Ws(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:i,signature:r}};var Cw=function(e){let t=Dw(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},xw=function(e){let t=Dw(e).claims;return typeof t=="object"&&t.admin===!0};function Xe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function kn(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function qs(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ks(e,t,n){let i={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function Ar(e,t){if(e===t)return!0;let n=Object.keys(e),i=Object.keys(t);for(let r of n){if(!i.includes(r))return!1;let s=e[r],o=t[r];if(hw(s)&&hw(o)){if(!Ar(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function hw(e){return e!==null&&typeof e=="object"}function Ei(e){let t=[];for(let[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Tr(e){let t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function Sr(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var qc=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);let i=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)i[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)i[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){let f=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=(f<<1|f>>>31)&4294967295}let r=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^s&(o^a),u=1518500249):(l=s^o^a,u=1859775393):d<60?(l=s&o|a&(s|o),u=2400959708):(l=s^o^a,u=3395469782);let f=(r<<5|r>>>27)+l+c+u+i[d]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=r,r=f}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);let i=n-this.blockSize,r=0,s=this.buf_,o=this.inbuf_;for(;r<n;){if(o===0)for(;r<=i;)this.compress_(t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<n;)if(s[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}else for(;r<n;)if(s[o]=t[r],++o,++r,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let t=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let s=24;s>=0;s-=8)t[i]=this.chain_[r]>>s&255,++i;return t}};function Aw(e,t){let n=new Bh(e,t);return n.subscribe.bind(n)}var Bh=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");zk(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Lh),r.error===void 0&&(r.error=Lh),r.complete===void 0&&(r.complete=Lh);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function zk(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Lh(){}function Qc(e,t){return`${e} failed: ${t} argument `}var Tw=function(e){let t=[],n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){let s=r-55296;i++,v(i<e.length,"Surrogate pair missing trail surrogate.");let o=e.charCodeAt(i)-56320;r=65536+(s<<10)+o}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},Ys=function(e){let t=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};var c4=4*60*60*1e3;function pe(e){return e&&e._delegate?e._delegate:e}var et=class{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var wi="[DEFAULT]";var Zc=class{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){let i=new ln;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;let i=this.normalizeInstanceIdentifier(t?.identifier),r=(n=t?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Kk(t))try{this.getOrInitializeService({instanceIdentifier:wi})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=wi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return g(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=wi){return this.instances.has(t)}getOptions(t=wi){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(t,n){var i;let r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(t),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:qk(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=wi){return this.component?this.component.multipleInstances?t:wi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function qk(e){return e===wi?void 0:e}function Kk(e){return e.instantiationMode==="EAGER"}var Qs=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let n=new Zc(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}};var Yk=[],Y=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(Y||{}),Qk={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},Zk=Y.INFO,Jk={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},Xk=(e,t,...n)=>{if(t<e.logLevel)return;let i=new Date().toISOString(),r=Jk[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Pn=class{constructor(t){this.name=t,this._logLevel=Zk,this._logHandler=Xk,this._userLogHandler=null,Yk.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Y))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Qk[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...t),this._logHandler(this,Y.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...t),this._logHandler(this,Y.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...t),this._logHandler(this,Y.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...t),this._logHandler(this,Y.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...t),this._logHandler(this,Y.ERROR,...t)}};var eP=(e,t)=>t.some(n=>e instanceof n),Sw,Mw;function tP(){return Sw||(Sw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nP(){return Mw||(Mw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Nw=new WeakMap,qh=new WeakMap,Rw=new WeakMap,zh=new WeakMap,Yh=new WeakMap;function iP(e){let t=new Promise((n,i)=>{let r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(Pt(e.result)),r()},o=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Nw.set(n,e)}).catch(()=>{}),Yh.set(t,e),t}function rP(e){if(qh.has(e))return;let t=new Promise((n,i)=>{let r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});qh.set(e,t)}var Kh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return qh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Rw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pt(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Ow(e){Kh=e(Kh)}function sP(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){let i=e.call(Jc(this),t,...n);return Rw.set(i,t.sort?t.sort():[t]),Pt(i)}:nP().includes(e)?function(...t){return e.apply(Jc(this),t),Pt(Nw.get(this))}:function(...t){return Pt(e.apply(Jc(this),t))}}function oP(e){return typeof e=="function"?sP(e):(e instanceof IDBTransaction&&rP(e),eP(e,tP())?new Proxy(e,Kh):e)}function Pt(e){if(e instanceof IDBRequest)return iP(e);if(zh.has(e))return zh.get(e);let t=oP(e);return t!==e&&(zh.set(e,t),Yh.set(t,e)),t}var Jc=e=>Yh.get(e);function Pw(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(e,t),a=Pt(o);return i&&o.addEventListener("upgradeneeded",c=>{i(Pt(o.result),c.oldVersion,c.newVersion,Pt(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var aP=["get","getKey","getAll","getAllKeys","count"],cP=["put","add","delete","clear"],Qh=new Map;function kw(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Qh.get(t))return Qh.get(t);let n=t.replace(/FromIndex$/,""),i=t!==n,r=cP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||aP.includes(n)))return;let s=function(o,...a){return g(this,null,function*(){let c=this.transaction(o,r?"readwrite":"readonly"),l=c.store;return i&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),r&&c.done]))[0]})};return Qh.set(t,s),s}Ow(e=>Ee(L({},e),{get:(t,n,i)=>kw(t,n)||e.get(t,n,i),has:(t,n)=>!!kw(t,n)||e.has(t,n)}));var Jh=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lP(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function lP(e){let t=e.getComponent();return t?.type==="VERSION"}var Xh="@firebase/app",Fw="0.10.13";var dn=new Pn("@firebase/app"),uP="@firebase/app-compat",dP="@firebase/analytics-compat",fP="@firebase/analytics",hP="@firebase/app-check-compat",pP="@firebase/app-check",gP="@firebase/auth",mP="@firebase/auth-compat",yP="@firebase/database",vP="@firebase/data-connect",_P="@firebase/database-compat",IP="@firebase/functions",EP="@firebase/functions-compat",wP="@firebase/installations",bP="@firebase/installations-compat",DP="@firebase/messaging",CP="@firebase/messaging-compat",xP="@firebase/performance",AP="@firebase/performance-compat",TP="@firebase/remote-config",SP="@firebase/remote-config-compat",MP="@firebase/storage",NP="@firebase/storage-compat",RP="@firebase/firestore",OP="@firebase/vertexai-preview",kP="@firebase/firestore-compat",PP="firebase",FP="10.14.1";var ep="[DEFAULT]",LP={[Xh]:"fire-core",[uP]:"fire-core-compat",[fP]:"fire-analytics",[dP]:"fire-analytics-compat",[pP]:"fire-app-check",[hP]:"fire-app-check-compat",[gP]:"fire-auth",[mP]:"fire-auth-compat",[yP]:"fire-rtdb",[vP]:"fire-data-connect",[_P]:"fire-rtdb-compat",[IP]:"fire-fn",[EP]:"fire-fn-compat",[wP]:"fire-iid",[bP]:"fire-iid-compat",[DP]:"fire-fcm",[CP]:"fire-fcm-compat",[xP]:"fire-perf",[AP]:"fire-perf-compat",[TP]:"fire-rc",[SP]:"fire-rc-compat",[MP]:"fire-gcs",[NP]:"fire-gcs-compat",[RP]:"fire-fst",[kP]:"fire-fst-compat",[OP]:"fire-vertex","fire-js":"fire-js",[PP]:"fire-js-all"};var Zs=new Map,jP=new Map,tp=new Map;function Lw(e,t){try{e.container.addComponent(t)}catch(n){dn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ln(e){let t=e.name;if(tp.has(t))return dn.debug(`There were multiple attempts to register component ${t}.`),!1;tp.set(t,e);for(let n of Zs.values())Lw(n,e);for(let n of jP.values())Lw(n,e);return!0}function Xs(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ht(e){return e.settings!==void 0}var VP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fn=new un("app","Firebase",VP);var np=class{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new et("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}};var jn=FP;function sp(e,t={}){let n=e;typeof t!="object"&&(t={name:t});let i=Object.assign({name:ep,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw Fn.create("bad-app-name",{appName:String(r)});if(n||(n=Gh()),!n)throw Fn.create("no-options");let s=Zs.get(r);if(s){if(Ar(n,s.options)&&Ar(i,s.config))return s;throw Fn.create("duplicate-app",{appName:r})}let o=new Qs(r);for(let c of tp.values())o.addComponent(c);let a=new np(n,i,o);return Zs.set(r,a),a}function Mr(e=ep){let t=Zs.get(e);if(!t&&e===ep&&Gh())return sp();if(!t)throw Fn.create("no-app",{appName:e});return t}function Xc(){return Array.from(Zs.values())}function ge(e,t,n){var i;let r=(i=LP[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);let s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),dn.warn(a.join(" "));return}Ln(new et(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var BP="firebase-heartbeat-database",UP=1,Js="firebase-heartbeat-store",Zh=null;function Uw(){return Zh||(Zh=Pw(BP,UP,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Js)}catch(n){console.warn(n)}}}}).catch(e=>{throw Fn.create("idb-open",{originalErrorMessage:e.message})})),Zh}function $P(e){return g(this,null,function*(){try{let n=(yield Uw()).transaction(Js),i=yield n.objectStore(Js).get($w(e));return yield n.done,i}catch(t){if(t instanceof ft)dn.warn(t.message);else{let n=Fn.create("idb-get",{originalErrorMessage:t?.message});dn.warn(n.message)}}})}function jw(e,t){return g(this,null,function*(){try{let i=(yield Uw()).transaction(Js,"readwrite");yield i.objectStore(Js).put(t,$w(e)),yield i.done}catch(n){if(n instanceof ft)dn.warn(n.message);else{let i=Fn.create("idb-set",{originalErrorMessage:n?.message});dn.warn(i.message)}}})}function $w(e){return`${e.name}!${e.options.appId}`}var HP=1024,GP=30*24*60*60*1e3,ip=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new rp(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return g(this,null,function*(){var t,n;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Vw();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=GP}),this._storage.overwrite(this._heartbeatsCache))}catch(i){dn.warn(i)}})}getHeartbeatsHeader(){return g(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Vw(),{heartbeatsToSend:i,unsentEntries:r}=WP(this._heartbeatsCache.heartbeats),s=Gs(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return dn.warn(n),""}})}};function Vw(){return new Date().toISOString().substring(0,10)}function WP(e,t=HP){let n=[],i=e.slice();for(let r of e){let s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Bw(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Bw(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var rp=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(this,null,function*(){return ww()?bw().then(()=>!0).catch(()=>!1):!1})}read(){return g(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield $P(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return jw(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return g(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return jw(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function Bw(e){return Gs(JSON.stringify({version:2,heartbeats:e})).length}function zP(e){Ln(new et("platform-logger",t=>new Jh(t),"PRIVATE")),Ln(new et("heartbeat",t=>new ip(t),"PRIVATE")),ge(Xh,Fw,e),ge(Xh,Fw,"esm2017"),ge("fire-js","")}zP("");var qP="firebase",KP="10.14.1";ge(qP,KP,"app");var Di=new At("ANGULARFIRE2_VERSION");function tl(e,t,n){if(t){if(t.length===1)return t[0];let s=t.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var eo=(e,t)=>{let n=t?[t]:Xc(),i=[];return n.forEach(r=>{r.container.getProvider(e).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Rr=class{constructor(){return eo(YP)}},YP="app-check";function Nr(){}var el=class{zone;delegate;constructor(t,n=Tu){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{t.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},op=class{zone;task=null;constructor(t){this.zone=t}call(t,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nr,{},Nr,Nr)),n.pipe(ii({next:i,complete:i,error:i})).subscribe(t).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Or=(()=>{class e{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new el(Zone.current)),this.insideAngular=n.run(()=>new el(Zone.current,vn)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||e)(y(R))};static \u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nl(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function QP(e){return nl().ngZone.runOutsideAngular(()=>e())}function bi(e){return nl().ngZone.run(()=>e())}function ZP(e){return JP(nl())(e)}function JP(e){return function(n){return n=n.lift(new op(e.ngZone)),n.pipe(In(e.outsideAngular),_n(e.insideAngular))}}var XP=(e,t)=>function(){let i=arguments;return t&&setTimeout(()=>{t.state==="scheduled"&&t.invoke()},10),bi(()=>e.apply(void 0,i))},ze=(e,t)=>function(){let n,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(t&&(n||=bi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Nr,{},Nr,Nr))),i[s]=XP(i[s],n));let r=QP(()=>e.apply(this,i));if(!t)if(r instanceof A){let s=nl();return r.pipe(In(s.outsideAngular),_n(s.insideAngular))}else return bi(()=>r);return r instanceof A?r.pipe(ZP):r instanceof Promise?bi(()=>new Promise((s,o)=>r.then(a=>bi(()=>s(a)),a=>bi(()=>o(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:bi(()=>r)};var fn=class{constructor(t){return t}},Ci=class{constructor(){return Xc()}};function eF(e){return e&&e.length===1?e[0]:new fn(Mr())}var ap=new D("angularfire2._apps"),tF={provide:fn,useFactory:eF,deps:[[new je,ap]]},nF={provide:Ci,deps:[[new je,ap]]};function iF(e){return(t,n)=>{let i=n.get(de);ge("angularfire",Di.full,"core"),ge("angularfire",Di.full,"app"),ge("angular",uE.full,i.toString());let r=t.runOutsideAngular(()=>e(n));return new fn(r)}}function K4(e,...t){return Tt([tF,nF,{provide:ap,useFactory:iF(e),multi:!0,deps:[R,xe,Or,...t]}])}var Y4=ze(sp,!0);function sb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ob=sb,ab=new un("auth","Firebase",sb());var cl=new Pn("@firebase/auth");function rF(e,...t){cl.logLevel<=Y.WARN&&cl.warn(`Auth (${jn}): ${e}`,...t)}function rl(e,...t){cl.logLevel<=Y.ERROR&&cl.error(`Auth (${jn}): ${e}`,...t)}function Lt(e,...t){throw Mp(e,...t)}function xi(e,...t){return Mp(e,...t)}function cb(e,t,n){let i=Object.assign(Object.assign({},ob()),{[t]:n});return new un("auth","Firebase",i).create(t,{appName:e.name})}function gn(e){return cb(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mp(e,...t){if(typeof e!="string"){let n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return ab.create(e,...t)}function M(e,t,...n){if(!e)throw Mp(t,...n)}function hn(e){let t="INTERNAL ASSERTION FAILED: "+e;throw rl(t),new Error(t)}function Bn(e,t){e||hn(t)}function dp(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function sF(){return Hw()==="http:"||Hw()==="https:"}function Hw(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function oF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sF()||Iw()||"connection"in navigator)?navigator.onLine:!0}function aF(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Ai=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,Bn(n>t,"Short delay should be less than long delay!"),this.isMobile=zs()||Yc()}get(){return oF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Np(e,t){Bn(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var ll=class{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var cF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var lF=new Ai(3e4,6e4);function Un(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function $n(s,o,a,c){return g(this,arguments,function*(e,t,n,i,r={}){return lb(e,r,()=>g(this,null,function*(){let l={},u={};i&&(t==="GET"?u=i:l={body:JSON.stringify(i)});let d=Ei(Object.assign({key:e.config.apiKey},u)).slice(1),f=yield e._getAdditionalHeaders();f["Content-Type"]="application/json",e.languageCode&&(f["X-Firebase-Locale"]=e.languageCode);let h=Object.assign({method:t,headers:f},l);return _w()||(h.referrerPolicy="no-referrer"),ll.fetch()(ub(e,e.config.apiHost,n,d),h)}))})}function lb(e,t,n){return g(this,null,function*(){e._canInitEmulator=!1;let i=Object.assign(Object.assign({},cF),t);try{let r=new fp(e),s=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw il(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw il(e,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw il(e,"email-already-in-use",o);if(c==="USER_DISABLED")throw il(e,"user-disabled",o);let u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw cb(e,u,l);Lt(e,u)}}catch(r){if(r instanceof ft)throw r;Lt(e,"network-request-failed",{message:String(r)})}})}function co(s,o,a,c){return g(this,arguments,function*(e,t,n,i,r={}){let l=yield $n(e,t,n,i,r);return"mfaPendingCredential"in l&&Lt(e,"multi-factor-auth-required",{_serverResponse:l}),l})}function ub(e,t,n,i){let r=`${t}${n}?${i}`;return e.config.emulator?Np(e.config,r):`${e.config.apiScheme}://${r}`}function uF(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var fp=class{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(xi(this.auth,"network-request-failed")),lF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function il(e,t,n){let i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=xi(e,t,i);return r.customData._tokenResponse=n,r}function Gw(e){return e!==void 0&&e.enterprise!==void 0}var hp=class{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return uF(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}};function dF(e,t){return g(this,null,function*(){return $n(e,"GET","/v2/recaptchaConfig",Un(e,t))})}function fF(e,t){return g(this,null,function*(){return $n(e,"POST","/v1/accounts:delete",t)})}function db(e,t){return g(this,null,function*(){return $n(e,"POST","/v1/accounts:lookup",t)})}function to(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Rp(e,t=!1){return g(this,null,function*(){let n=pe(e),i=yield n.getIdToken(t),r=Op(i);M(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:to(cp(r.auth_time)),issuedAtTime:to(cp(r.iat)),expirationTime:to(cp(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function cp(e){return Number(e)*1e3}function Op(e){let[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return rl("JWT malformed, contained fewer than 3 sections"),null;try{let r=Ws(n);return r?JSON.parse(r):(rl("Failed to decode base64 JWT payload"),null)}catch(r){return rl("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Ww(e){let t=Op(e);return M(t,"internal-error"),M(typeof t.exp<"u","internal-error"),M(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function io(e,t,n=!1){return g(this,null,function*(){if(n)return t;try{return yield t}catch(i){throw i instanceof ft&&hF(i)&&e.auth.currentUser===e&&(yield e.auth.signOut()),i}})}function hF({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var pp=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>g(this,null,function*(){yield this.iteration()}),n)}iteration(){return g(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ro=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=to(this.lastLoginAt),this.creationTime=to(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ul(e){return g(this,null,function*(){var t;let n=e.auth,i=yield e.getIdToken(),r=yield io(e,db(n,{idToken:i}));M(r?.users.length,n,"internal-error");let s=r.users[0];e._notifyReloadListener(s);let o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?fb(s.providerUserInfo):[],a=pF(e.providerData,o),c=e.isAnonymous,l=!(e.email&&s.passwordHash)&&!a?.length,u=c?l:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ro(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(e,d)})}function kp(e){return g(this,null,function*(){let t=pe(e);yield ul(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function pF(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function fb(e){return e.map(t=>{var{providerId:n}=t,i=Mu(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function gF(e,t){return g(this,null,function*(){let n=yield lb(e,{},()=>g(this,null,function*(){let i=Ei({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,o=ub(e,r,"/v1/token",`key=${s}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ll.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function mF(e,t){return g(this,null,function*(){return $n(e,"POST","/v2/accounts:revokeToken",Un(e,t))})}var no=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){M(t.idToken,"internal-error"),M(typeof t.idToken<"u","internal-error"),M(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Ww(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){M(t.length!==0,"internal-error");let n=Ww(t);this.updateTokensAndExpiration(t,null,n)}getToken(t,n=!1){return g(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(M(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return g(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield gF(t,n);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){let{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new e;return i&&(M(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),r&&(M(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(M(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return hn("not implemented")}};function Vn(e,t){M(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var kr=class e{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,s=Mu(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ro(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){return g(this,null,function*(){let n=yield io(this,this.stsTokenManager.getToken(this.auth,t));return M(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return Rp(this,t)}reload(){return kp(this)}_assign(t){this!==t&&(M(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return g(this,null,function*(){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&(yield ul(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return g(this,null,function*(){if(ht(this.auth.app))return Promise.reject(gn(this.auth));let t=yield this.getIdToken();return yield io(this,fF(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,s,o,a,c,l,u;let d=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,h=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,I=(l=n.createdAt)!==null&&l!==void 0?l:void 0,C=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:k,emailVerified:X,isAnonymous:ue,providerData:se,stsTokenManager:qe}=n;M(k&&qe,t,"internal-error");let Xr=no.fromJSON(this.name,qe);M(typeof k=="string",t,"internal-error"),Vn(d,t.name),Vn(f,t.name),M(typeof X=="boolean",t,"internal-error"),M(typeof ue=="boolean",t,"internal-error"),Vn(h,t.name),Vn(p,t.name),Vn(m,t.name),Vn(_,t.name),Vn(I,t.name),Vn(C,t.name);let es=new e({uid:k,auth:t,email:f,emailVerified:X,displayName:d,isAnonymous:ue,photoURL:p,phoneNumber:h,tenantId:m,stsTokenManager:Xr,createdAt:I,lastLoginAt:C});return se&&Array.isArray(se)&&(es.providerData=se.map(JC=>Object.assign({},JC))),_&&(es._redirectEventId=_),es}static _fromIdTokenResponse(t,n,i=!1){return g(this,null,function*(){let r=new no;r.updateFromServerResponse(n);let s=new e({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield ul(s),s})}static _fromGetAccountInfoResponse(t,n,i){return g(this,null,function*(){let r=n.users[0];M(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?fb(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new no;a.updateFromIdToken(i);let c=new e({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new ro(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(c,l),c})}};var zw=new Map;function pn(e){Bn(e instanceof Function,"Expected a class definition");let t=zw.get(e);return t?(Bn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,zw.set(e,t),t)}var yF=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(this,null,function*(){return!0})}_set(n,i){return g(this,null,function*(){this.storage[n]=i})}_get(n){return g(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return g(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return e.type="NONE",e})(),gp=yF;function sl(e,t,n){return`firebase:${e}:${t}:${n}`}var dl=class e{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=sl(this.userKey,r.apiKey,s),this.fullPersistenceKey=sl("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return g(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);return t?kr._fromJSON(this.auth,t):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return g(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,i="authUser"){return g(this,null,function*(){if(!n.length)return new e(pn(gp),t,i);let r=(yield Promise.all(n.map(l=>g(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=r[0]||pn(gp),o=sl(i,t.config.apiKey,t.name),a=null;for(let l of n)try{let u=yield l._get(o);if(u){let d=kr._fromJSON(t,u);l!==s&&(a=d),s=l;break}}catch{}let c=r.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new e(s,t,i):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>g(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new e(s,t,i))})}};function qw(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(mb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(hb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vb(t))return"Blackberry";if(_b(t))return"Webos";if(pb(t))return"Safari";if((t.includes("chrome/")||gb(t))&&!t.includes("edge/"))return"Chrome";if(yb(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if(i?.length===2)return i[1]}return"Other"}function hb(e=Ae()){return/firefox\//i.test(e)}function pb(e=Ae()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gb(e=Ae()){return/crios\//i.test(e)}function mb(e=Ae()){return/iemobile/i.test(e)}function yb(e=Ae()){return/android/i.test(e)}function vb(e=Ae()){return/blackberry/i.test(e)}function _b(e=Ae()){return/webos/i.test(e)}function Pp(e=Ae()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vF(e=Ae()){var t;return Pp(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function _F(){return Ew()&&document.documentMode===10}function Ib(e=Ae()){return Pp(e)||yb(e)||_b(e)||vb(e)||/windows phone/i.test(e)||mb(e)}function Eb(e,t=[]){let n;switch(e){case"Browser":n=qw(Ae());break;case"Worker":n=`${qw(Ae())}-${e}`;break;default:n=e}let i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${jn}/${i}`}var mp=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let i=s=>new Promise((o,a)=>{try{let c=t(s);o(c)}catch(c){a(c)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return g(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let i of this.queue)yield i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function IF(n){return g(this,arguments,function*(e,t={}){return $n(e,"GET","/v2/passwordPolicy",Un(e,t))})}var EF=6,yp=class{constructor(t){var n,i,r,s;let o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:EF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(i=c.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(t,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}};var vp=class{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fl(this),this.idTokenSubscription=new fl(this),this.beforeStateQueue=new mp(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ab,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=pn(n)),this._initializationPromise=this.queue(()=>g(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield dl.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return g(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return g(this,null,function*(){try{let n=yield db(this,{idToken:t}),i=yield kr._fromGetAccountInfoResponse(this,n,t);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return g(this,null,function*(){var n;if(ht(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,c=yield this.tryRedirectSignIn(t);(!o||o===a)&&c?.user&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return M(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return g(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return g(this,null,function*(){try{yield ul(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=aF()}_delete(){return g(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return g(this,null,function*(){if(ht(this.app))return Promise.reject(gn(this));let n=t?pe(t):null;return n&&M(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return g(this,null,function*(){if(!this._deleted)return t&&M(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>g(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return g(this,null,function*(){return ht(this.app)?Promise.reject(gn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return ht(this.app)?Promise.reject(gn(this)):this.queue(()=>g(this,null,function*(){yield this.assertedPersistence.setPersistence(pn(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return g(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return g(this,null,function*(){let t=yield IF(this),n=new yp(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new un("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let i=this.onAuthStateChanged(()=>{i(),t()},n)}})}revokeAccessToken(t){return g(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield mF(this,i)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,n){return g(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return g(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&pn(t)||this._popupRedirectResolver;M(n,this,"argument-error"),this.redirectPersistenceManager=yield dl.create(this,[pn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return g(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>g(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return g(this,null,function*(){if(t===this.currentUser)return this.queue(()=>g(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(M(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=t.addObserver(n,i,r);return()=>{o=!0,c()}}else{let c=t.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(t){return g(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Eb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return g(this,null,function*(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return g(this,null,function*(){var t;let n=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return n?.error&&rF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Si(e){return pe(e)}var fl=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=Aw(n=>this.observer=n)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var _l={loadJS(){return g(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wF(e){_l=e}function wb(e){return _l.loadJS(e)}function bF(){return _l.recaptchaEnterpriseScript}function DF(){return _l.gapiScript}function bb(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var CF="recaptcha-enterprise",xF="NO_RECAPTCHA",_p=class{constructor(t){this.type=CF,this.auth=Si(t)}verify(t="verify",n=!1){return g(this,null,function*(){function i(s){return g(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>g(this,null,function*(){dF(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new hp(c);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(c=>{a(c)})}))})}function r(s,o,a){let c=window.grecaptcha;Gw(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:t}).then(l=>{o(l)}).catch(()=>{o(xF)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&Gw(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=bF();c.length!==0&&(c+=a),wb(c).then(()=>{r(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function Kw(e,t,n,i=!1){return g(this,null,function*(){let r=new _p(e),s;try{s=yield r.verify(n)}catch{s=yield r.verify(n,!0)}let o=Object.assign({},t);return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Ip(e,t,n,i){return g(this,null,function*(){var r;if(!((r=e._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield Kw(e,t,n,n==="getOobCode");return i(e,s)}else return i(e,t).catch(s=>g(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield Kw(e,t,n,n==="getOobCode");return i(e,o)}else return Promise.reject(s)}))})}function Fp(e,t){let n=Xs(e,"auth");if(n.isInitialized()){let r=n.getImmediate(),s=n.getOptions();if(Ar(s,t??{}))return r;Lt(r,"already-initialized")}return n.initialize({options:t})}function AF(e,t){let n=t?.persistence||[],i=(Array.isArray(n)?n:[n]).map(pn);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t?.popupRedirectResolver)}function Lp(e,t,n){let i=Si(e);M(i._canInitEmulator,i,"emulator-config-failed"),M(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,s=Db(t),{host:o,port:a}=TF(t),c=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${c}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||SF()}function Db(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function TF(e){let t=Db(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let s=r[1];return{host:s,port:Yw(i.substr(s.length+1))}}else{let[s,o]=i.split(":");return{host:s,port:Yw(o)}}}function Yw(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function SF(){function e(){let t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}var so=class{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return hn("not implemented")}_getIdTokenResponse(t){return hn("not implemented")}_linkToIdToken(t,n){return hn("not implemented")}_getReauthenticationResolver(t){return hn("not implemented")}};function MF(e,t){return g(this,null,function*(){return $n(e,"POST","/v1/accounts:signUp",t)})}function NF(e,t){return g(this,null,function*(){return co(e,"POST","/v1/accounts:signInWithPassword",Un(e,t))})}function RF(e,t){return g(this,null,function*(){return co(e,"POST","/v1/accounts:signInWithEmailLink",Un(e,t))})}function OF(e,t){return g(this,null,function*(){return co(e,"POST","/v1/accounts:signInWithEmailLink",Un(e,t))})}var oo=class e extends so{constructor(t,n,i,r=null){super("password",i),this._email=t,this._password=n,this._tenantId=r}static _fromEmailAndPassword(t,n){return new e(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new e(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){let n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(t){return g(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(t,n,"signInWithPassword",NF);case"emailLink":return RF(t,{email:this._email,oobCode:this._password});default:Lt(t,"internal-error")}})}_linkToIdToken(t,n){return g(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ip(t,i,"signUpPassword",MF);case"emailLink":return OF(t,{idToken:n,email:this._email,oobCode:this._password});default:Lt(t,"internal-error")}})}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}};function lp(e,t){return g(this,null,function*(){return co(e,"POST","/v1/accounts:signInWithIdp",Un(e,t))})}function kF(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PF(e){let t=Tr(Sr(e)).link,n=t?Tr(Sr(t)).deep_link_id:null,i=Tr(Sr(e)).deep_link_id;return(i?Tr(Sr(i)).link:null)||i||n||t||e}var hl=class e{constructor(t){var n,i,r,s,o,a;let c=Tr(Sr(t)),l=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(i=c.oobCode)!==null&&i!==void 0?i:null,d=kF((r=c.mode)!==null&&r!==void 0?r:null);M(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){let n=PF(t);try{return new e(n)}catch{return null}}};var Cb=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(n,i){return oo._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=hl.parseLink(i);return M(r,"argument-error"),oo._fromEmailAndCode(n,r.code,r.tenantId)}}e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return e})(),pl=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var Ep=class extends pl{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};function FF(e,t){return g(this,null,function*(){return co(e,"POST","/v1/accounts:signUp",Un(e,t))})}var Pr=class e{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,i,r=!1){return g(this,null,function*(){let s=yield kr._fromIdTokenResponse(t,i,r),o=Qw(i);return new e({user:s,providerId:o,_tokenResponse:i,operationType:n})})}static _forOperation(t,n,i){return g(this,null,function*(){yield t._updateTokensIfNecessary(i,!0);let r=Qw(i);return new e({user:t,providerId:r,_tokenResponse:i,operationType:n})})}};function Qw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var wp=class e extends ft{constructor(t,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new e(t,n,i,r)}};function xb(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wp._fromErrorAndOperation(e,s,t,i):s})}function LF(e,t,n=!1){return g(this,null,function*(){let i=yield io(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return Pr._forOperation(e,"link",i)})}function jF(e,t,n=!1){return g(this,null,function*(){let{auth:i}=e;if(ht(i.app))return Promise.reject(gn(i));let r="reauthenticate";try{let s=yield io(e,xb(i,r,t,e),n);M(s.idToken,i,"internal-error");let o=Op(s.idToken);M(o,i,"internal-error");let{sub:a}=o;return M(e.uid===a,i,"user-mismatch"),Pr._forOperation(e,r,s)}catch(s){throw s?.code==="auth/user-not-found"&&Lt(i,"user-mismatch"),s}})}function Ab(e,t,n=!1){return g(this,null,function*(){if(ht(e.app))return Promise.reject(gn(e));let i="signIn",r=yield xb(e,i,t),s=yield Pr._fromIdTokenResponse(e,i,r);return n||(yield e._updateCurrentUser(s.user)),s})}function jp(e,t){return g(this,null,function*(){return Ab(Si(e),t)})}function Tb(e){return g(this,null,function*(){let t=Si(e);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})}function Vp(e,t,n){return g(this,null,function*(){if(ht(e.app))return Promise.reject(gn(e));let i=Si(e),o=yield Ip(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FF).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Tb(e),c}),a=yield Pr._fromIdTokenResponse(i,"signIn",o);return yield i._updateCurrentUser(a.user),a})}function Bp(e,t,n){return ht(e.app)?Promise.reject(gn(e)):jp(pe(e),Cb.credential(t,n)).catch(i=>g(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&Tb(e),i}))}function Sb(e,t){return pe(e).setPersistence(t)}function Up(e,t,n,i){return pe(e).onIdTokenChanged(t,n,i)}function $p(e,t,n){return pe(e).beforeAuthStateChanged(t,n)}function Hp(e,t,n,i){return pe(e).onAuthStateChanged(t,n,i)}function Gp(e){return pe(e).signOut()}var gl="__sak";var ml=class{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gl,"1"),this.storage.removeItem(gl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){let n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var VF=1e3,BF=10,UF=(()=>{class e extends ml{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ib(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),s=this.localCache[i];r!==s&&n(i,s,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});return}let r=n.key;i?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);_F()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,BF):s()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},VF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return g(this,null,function*(){yield qn(e.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return g(this,null,function*(){let i=yield qn(e.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return g(this,null,function*(){yield qn(e.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return e.type="LOCAL",e})(),Mb=UF;var $F=(()=>{class e extends ml{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return e.type="SESSION",e})(),Wp=$F;function HF(e){return Promise.all(e.map(t=>g(this,null,function*(){try{return{fulfilled:!0,value:yield t}}catch(n){return{fulfilled:!1,reason:n}}})))}var GF=(()=>{class e{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(s=>s.isListeningto(n));if(i)return i;let r=new e(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return g(this,null,function*(){let i=n,{eventId:r,eventType:s,data:o}=i.data,a=this.handlersMap[s];if(!a?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:s});let c=Array.from(a).map(u=>g(this,null,function*(){return u(i.origin,o)})),l=yield HF(c);i.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}e.receivers=[];return e})();function Nb(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}var bp=class{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,n,i=50){return g(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let l=Nb("",20);r.port1.start();let u=setTimeout(()=>{c(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(d){let f=d;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:l,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Ft(){return window}function WF(e){Ft().location.href=e}function Rb(){return typeof Ft().WorkerGlobalScope<"u"&&typeof Ft().importScripts=="function"}function zF(){return g(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function qF(){var e;return((e=navigator?.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function KF(){return Rb()?self:null}var Ob="firebaseLocalStorageDb",YF=1,yl="firebaseLocalStorage",kb="fbase_key",Ti=class{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Il(e,t){return e.transaction([yl],t?"readwrite":"readonly").objectStore(yl)}function QF(){let e=indexedDB.deleteDatabase(Ob);return new Ti(e).toPromise()}function Dp(){let e=indexedDB.open(Ob,YF);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let i=e.result;try{i.createObjectStore(yl,{keyPath:kb})}catch(r){n(r)}}),e.addEventListener("success",()=>g(this,null,function*(){let i=e.result;i.objectStoreNames.contains(yl)?t(i):(i.close(),yield QF(),t(yield Dp()))}))})}function Zw(e,t,n){return g(this,null,function*(){let i=Il(e,!0).put({[kb]:t,value:n});return new Ti(i).toPromise()})}function ZF(e,t){return g(this,null,function*(){let n=Il(e,!1).get(t),i=yield new Ti(n).toPromise();return i===void 0?null:i.value})}function Jw(e,t){let n=Il(e,!0).delete(t);return new Ti(n).toPromise()}var JF=800,XF=3,eL=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return g(this,null,function*(){return this.db?this.db:(this.db=yield Dp(),this.db)})}_withRetries(n){return g(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>XF)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return g(this,null,function*(){return Rb()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return g(this,null,function*(){this.receiver=GF._getInstance(KF()),this.receiver._subscribe("keyChanged",(n,i)=>g(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>g(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return g(this,null,function*(){var n,i;if(this.activeServiceWorker=yield zF(),!this.activeServiceWorker)return;this.sender=new bp(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return g(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||qF()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return g(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Dp();return yield Zw(n,gl,"1"),yield Jw(n,gl),!0}catch{}return!1})}_withPendingWrite(n){return g(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(r=>Zw(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return g(this,null,function*(){let i=yield this._withRetries(r=>ZF(r,n));return this.localCache[n]=i,i})}_remove(n){return g(this,null,function*(){return this._withPendingWrite(()=>g(this,null,function*(){return yield this._withRetries(i=>Jw(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return g(this,null,function*(){let n=yield this._withRetries(s=>{let o=Il(s,!1).getAll();return new Ti(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),i.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),i.push(s));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let s of Array.from(r))s(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>g(this,null,function*(){return this._poll()}),JF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return e.type="LOCAL",e})(),Pb=eL;var i6=bb("rcb"),r6=new Ai(3e4,6e4);function tL(e,t){return t?pn(t):(M(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var ao=class extends so{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return lp(t,this._buildIdpRequest())}_linkToIdToken(t,n){return lp(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return lp(t,this._buildIdpRequest())}_buildIdpRequest(t){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}};function nL(e){return Ab(e.auth,new ao(e),e.bypassAuthState)}function iL(e){let{auth:t,user:n}=e;return M(n,t,"internal-error"),jF(n,new ao(e),e.bypassAuthState)}function rL(e){return g(this,null,function*(){let{auth:t,user:n}=e;return M(n,t,"internal-error"),LF(n,new ao(e),e.bypassAuthState)})}var Cp=class{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((t,n)=>g(this,null,function*(){this.pendingPromise={resolve:t,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(t){return g(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(l){this.reject(l)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return nL;case"linkViaPopup":case"linkViaRedirect":return rL;case"reauthViaPopup":case"reauthViaRedirect":return iL;default:Lt(this.auth,"internal-error")}}resolve(t){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Bn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var s6=new Ai(2e3,1e4);var sL="pendingRedirect",ol=new Map,xp=class e extends Cp{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return g(this,null,function*(){let t=ol.get(this.auth._key());if(!t){try{let i=(yield oL(this.resolver,this.auth))?yield qn(e.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}ol.set(this.auth._key(),t)}return this.bypassAuthState||ol.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return g(this,null,function*(){if(t.type==="signInViaRedirect")return qn(e.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let n=yield this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,qn(e.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return g(this,null,function*(){})}cleanUp(){}};function oL(e,t){return g(this,null,function*(){let n=lL(t),i=cL(e);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function aL(e,t){ol.set(e._key(),t)}function cL(e){return pn(e._redirectPersistence)}function lL(e){return sl(sL,e.config.apiKey,e.name)}function uL(e,t,n=!1){return g(this,null,function*(){if(ht(e.app))return Promise.reject(gn(e));let i=Si(e),r=tL(i,t),o=yield new xp(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield i._persistUserIfCurrent(o.user),yield i._setRedirectUser(null,t)),o})}var dL=10*60*1e3,Ap=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fL(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!Fb(t)){let r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(xi(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){let i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=dL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xw(t))}saveEventToCache(t){this.cachedEventUids.add(Xw(t)),this.lastProcessedEventTime=Date.now()}};function Xw(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Fb({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function fL(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fb(e);default:return!1}}function hL(n){return g(this,arguments,function*(e,t={}){return $n(e,"GET","/v1/projects",t)})}var pL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gL=/^https?/;function mL(e){return g(this,null,function*(){if(e.config.emulator)return;let{authorizedDomains:t}=yield hL(e);for(let n of t)try{if(yL(n))return}catch{}Lt(e,"unauthorized-domain")})}function yL(e){let t=dp(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){let o=new URL(e);return o.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!gL.test(n))return!1;if(pL.test(e))return i===e;let r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var vL=new Ai(3e4,6e4);function eb(){let e=Ft().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function _L(e){return new Promise((t,n)=>{var i,r,s;function o(){eb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{eb(),n(xi(e,"network-request-failed"))},timeout:vL.get()})}if(!((r=(i=Ft().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((s=Ft().gapi)===null||s===void 0)&&s.load)o();else{let a=bb("iframefcb");return Ft()[a]=()=>{gapi.load?o():n(xi(e,"network-request-failed"))},wb(`${DF()}?onload=${a}`).catch(c=>n(c))}}).catch(t=>{throw al=null,t})}var al=null;function IL(e){return al=al||_L(e),al}var EL=new Ai(5e3,15e3),wL="__/auth/iframe",bL="emulator/auth/iframe",DL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xL(e){let t=e.config;M(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?Np(t,bL):`https://${e.config.authDomain}/${wL}`,i={apiKey:t.apiKey,appName:e.name,v:jn},r=CL.get(e.config.apiHost);r&&(i.eid=r);let s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${Ei(i).slice(1)}`}function AL(e){return g(this,null,function*(){let t=yield IL(e),n=Ft().gapi;return M(n,e,"internal-error"),t.open({where:document.body,url:xL(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DL,dontclear:!0},i=>new Promise((r,s)=>g(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let o=xi(e,"network-request-failed"),a=Ft().setTimeout(()=>{s(o)},EL.get());function c(){Ft().clearTimeout(a),r(i)}i.ping(c).then(c,()=>{s(o)})})))})}var TL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SL=500,ML=600,NL="_blank",RL="http://localhost",vl=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function OL(e,t,n,i=SL,r=ML){let s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",c=Object.assign(Object.assign({},TL),{width:i.toString(),height:r.toString(),top:s,left:o}),l=Ae().toLowerCase();n&&(a=gb(l)?NL:n),hb(l)&&(t=t||RL,c.scrollbars="yes");let u=Object.entries(c).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(vF(l)&&a!=="_self")return kL(t||"",a),new vl(null);let d=window.open(t||"",a,u);M(d,e,"popup-blocked");try{d.focus()}catch{}return new vl(d)}function kL(e,t){let n=document.createElement("a");n.href=e,n.target=t;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var PL="__/auth/handler",FL="emulator/auth/handler",LL=encodeURIComponent("fac");function tb(e,t,n,i,r,s){return g(this,null,function*(){M(e.config.authDomain,e,"auth-domain-config-required"),M(e.config.apiKey,e,"invalid-api-key");let o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:jn,eventId:r};if(t instanceof pl){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",qs(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[u,d]of Object.entries(s||{}))o[u]=d}if(t instanceof Ep){let u=t.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);let a=o;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let c=yield e._getAppCheckToken(),l=c?`#${LL}=${encodeURIComponent(c)}`:"";return`${jL(e)}?${Ei(a).slice(1)}${l}`})}function jL({config:e}){return e.emulator?Np(e,FL):`https://${e.authDomain}/${PL}`}var up="webStorageSupport",Tp=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wp,this._completeRedirectFn=uL,this._overrideRedirectResult=aL}_openPopup(t,n,i,r){return g(this,null,function*(){var s;Bn((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield tb(t,n,i,dp(),r);return OL(t,o,Nb())})}_openRedirect(t,n,i,r){return g(this,null,function*(){yield this._originValidation(t);let s=yield tb(t,n,i,dp(),r);return WF(s),new Promise(()=>{})})}_initialize(t){let n=t._key();if(this.eventManagers[n]){let{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Bn(s,"If manager is not set, promise should be"),s)}let i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(t){return g(this,null,function*(){let n=yield AL(t),i=new Ap(t);return n.register("authEvent",r=>(M(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i})}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(up,{type:up},r=>{var s;let o=(s=r?.[0])===null||s===void 0?void 0:s[up];o!==void 0&&n(!!o),Lt(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mL(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ib()||pb()||Pp()}},Lb=Tp;var nb="@firebase/auth",ib="1.7.9";var Sp=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return g(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function VL(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BL(e){Ln(new et("auth",(t,{options:n})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let c={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Eb(e)},l=new vp(i,r,s,c);return AF(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Ln(new et("auth-internal",t=>{let n=Si(t.getProvider("auth").getImmediate());return(i=>new Sp(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ge(nb,ib,VL(e)),ge(nb,ib,"esm2017")}var UL=5*60,$L=Wh("authIdTokenMaxAge")||UL,rb=null,HL=e=>t=>g(void 0,null,function*(){let n=t&&(yield t.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>$L)return;let r=n?.token;rb!==r&&(rb=r,yield fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function zp(e=Mr()){let t=Xs(e,"auth");if(t.isInitialized())return t.getImmediate();let n=Fp(e,{popupRedirectResolver:Lb,persistence:[Pb,Mb,Wp]}),i=Wh("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(i,location.origin);if(location.origin===s.origin){let o=HL(s.toString());$p(n,o,()=>o(n.currentUser)),Up(n,a=>o(a))}}let r=Hh("auth");return r&&Lp(n,`http://${r}`),n}function GL(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}wF({loadJS(e){return new Promise((t,n)=>{let i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{let s=xi("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",GL().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BL("Browser");var jb="auth",lo=class{constructor(t){return t}},uo=class{constructor(){return eo(jb)}};var qp=new D("angularfire2.auth-instances");function R1(e,t){let n=tl(jb,e,t);return n&&new lo(n)}function O1(e){return(t,n)=>{let i=t.runOutsideAngular(()=>e(n));return new lo(i)}}var k1={provide:uo,deps:[[new je,qp]]},P1={provide:lo,useFactory:R1,deps:[[new je,qp],fn]};function $6(e,...t){return ge("angularfire",Di.full,"auth"),Tt([P1,k1,{provide:qp,useFactory:O1(e),multi:!0,deps:[R,xe,Or,Ci,[new je,Rr],...t]}])}var H6=ze(Vp,!0);var G6=ze(zp,!0);var W6=ze(Hp,!0);var z6=ze(Bp,!0);var q6=ze(Gp,!0);var Yp;try{Yp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Yp=!1}var tt=(()=>{class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?Rt(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Yp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(i){return new(i||e)(y(de))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Fr,Vb=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function t5(){if(Fr)return Fr;if(typeof document!="object"||!document)return Fr=new Set(Vb),Fr;let e=document.createElement("input");return Fr=new Set(Vb.filter(t=>(e.setAttribute("type",t),e.type===t))),Fr}var fo;function F1(){if(fo==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fo=!0}))}finally{fo=fo||!1}return fo}function Lr(e){return F1()?e:!!e.capture}var ho=function(e){return e[e.NORMAL=0]="NORMAL",e[e.NEGATED=1]="NEGATED",e[e.INVERTED=2]="INVERTED",e}(ho||{}),El,Mi;function n5(){if(Mi==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Mi=!1,Mi;if("scrollBehavior"in document.documentElement.style)Mi=!0;else{let e=Element.prototype.scrollTo;e?Mi=!/\{\s*\[native code\]\s*\}/.test(e.toString()):Mi=!1}}return Mi}function i5(){if(typeof document!="object"||!document)return ho.NORMAL;if(El==null){let e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",e.appendChild(n),document.body.appendChild(e),El=ho.NORMAL,e.scrollLeft===0&&(e.scrollLeft=1,El=e.scrollLeft===0?ho.NEGATED:ho.INVERTED),e.remove()}return El}var Kp;function L1(){if(Kp==null){let e=typeof document<"u"?document.head:null;Kp=!!(e&&(e.createShadowRoot||e.attachShadow))}return Kp}function Bb(e){if(L1()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function mn(e){return e.composedPath?e.composedPath()[0]:e.target}function Ub(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function r5(e,...t){return t.length?t.some(n=>e[n]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function j1(e){if(e.type==="characterData"&&e.target instanceof Comment)return!0;if(e.type==="childList"){for(let t=0;t<e.addedNodes.length;t++)if(!(e.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<e.removedNodes.length;t++)if(!(e.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var $b=(()=>{class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),V1=(()=>{class e{constructor(n){this._mutationObserverFactory=n,this._observedElements=new Map,this._ngZone=b(R)}ngOnDestroy(){this._observedElements.forEach((n,i)=>this._cleanupObserver(i))}observe(n){let i=cn(n);return new A(r=>{let o=this._observeElement(i).pipe(ce(a=>a.filter(c=>!j1(c))),we(a=>!!a.length)).subscribe(a=>{this._ngZone.run(()=>{r.next(a)})});return()=>{o.unsubscribe(),this._unobserveElement(i)}})}_observeElement(n){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(n))this._observedElements.get(n).count++;else{let i=new ie,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(n,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(n,{observer:r,stream:i,count:1})}return this._observedElements.get(n).stream})}_unobserveElement(n){this._observedElements.has(n)&&(this._observedElements.get(n).count--,this._observedElements.get(n).count||this._cleanupObserver(n))}_cleanupObserver(n){if(this._observedElements.has(n)){let{observer:i,stream:r}=this._observedElements.get(n);i&&i.disconnect(),r.complete(),this._observedElements.delete(n)}}static{this.\u0275fac=function(i){return new(i||e)(y($b))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),g5=(()=>{class e{get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(n){this._debounce=Oh(n),this._subscribe()}constructor(n,i){this._contentObserver=n,this._elementRef=i,this.event=new _e,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let n=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?n.pipe(ti(this.debounce)):n).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)(w(V1),w(J))}}static{this.\u0275dir=z({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",Ss],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[As]})}}return e})(),m5=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ne({type:e})}static{this.\u0275inj=te({providers:[$b]})}}return e})();var Hb=new Set,Ni,B1=(()=>{class e{constructor(n,i){this._platform=n,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$1}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&U1(n,this._nonce),this._matchMedia(n)}static{this.\u0275fac=function(i){return new(i||e)(y(tt),y(vi,8))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function U1(e,t){if(!Hb.has(e))try{Ni||(Ni=document.createElement("style"),t&&Ni.setAttribute("nonce",t),Ni.setAttribute("type","text/css"),document.head.appendChild(Ni)),Ni.sheet&&(Ni.sheet.insertRule(`@media ${e} {body{ }}`,0),Hb.add(e))}catch(n){console.error(n)}}function $1(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var Wb=(()=>{class e{constructor(n,i){this._mediaMatcher=n,this._zone=i,this._queries=new Map,this._destroySubject=new ie}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return Gb(kh(n)).some(r=>this._registerQuery(r).mql.matches)}observe(n){let r=Gb(kh(n)).map(o=>this._registerQuery(o).observable),s=Nu(r);return s=Qi(s.pipe(ni(1)),s.pipe(cs(1),ti(0))),s.pipe(ce(o=>{let a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let i=this._mediaMatcher.matchMedia(n),s={observable:new A(o=>{let a=c=>this._zone.run(()=>o.next(c));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(Lu(i),ce(({matches:o})=>({query:n,matches:o})),Ye(this._destroySubject)),mql:i};return this._queries.set(n,s),s}static{this.\u0275fac=function(i){return new(i||e)(y(B1),y(R))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Gb(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var x5={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var H1=(()=>{class e{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return W1(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let i=G1(X1(n));if(i&&(zb(i)===-1||!this.isVisible(i)))return!1;let r=n.nodeName.toLowerCase(),s=zb(n);return n.hasAttribute("contenteditable")?s!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!Z1(n)?!1:r==="audio"?n.hasAttribute("controls")?s!==-1:!1:r==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,i){return J1(n)&&!this.isDisabled(n)&&(i?.ignoreVisibility||this.isVisible(n))}static{this.\u0275fac=function(i){return new(i||e)(y(tt))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function G1(e){try{return e.frameElement}catch{return null}}function W1(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function z1(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function q1(e){return Y1(e)&&e.type=="hidden"}function K1(e){return Q1(e)&&e.hasAttribute("href")}function Y1(e){return e.nodeName.toLowerCase()=="input"}function Q1(e){return e.nodeName.toLowerCase()=="a"}function Yb(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function zb(e){if(!Yb(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function Z1(e){let t=e.nodeName.toLowerCase(),n=t==="input"&&e.type;return n==="text"||n==="password"||t==="select"||t==="textarea"}function J1(e){return q1(e)?!1:z1(e)||K1(e)||e.hasAttribute("contenteditable")||Yb(e)}function X1(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var Jp=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,n,i,r,s=!1,o){this._element=t,this._checker=n,this._ngZone=i,this._document=r,this._injector=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let t=this._startAnchor,n=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let n=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let i=this._getFirstTabbableElement(n);return i?.focus(t),!!i}return n.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let n=this._getRegionBoundary("start");return n&&n.focus(t),!!n}focusLastTabbableElement(t){let n=this._getRegionBoundary("end");return n&&n.focus(t),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,n){t?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?Yf(t,{injector:this._injector}):setTimeout(t)}},Q5=(()=>{class e{constructor(n,i,r){this._checker=n,this._ngZone=i,this._injector=b(xe),this._document=r}create(n,i=!1){return new Jp(n,this._checker,this._ngZone,this._document,i,this._injector)}static{this.\u0275fac=function(i){return new(i||e)(y(H1),y(R),y(K))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Xp(e){return e.buttons===0||e.detail===0}function eg(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var ej=new D("cdk-input-modality-detector-options"),tj={ignoreKeys:[18,17,224,91,16]},Qb=650,jr=Lr({passive:!0,capture:!0}),nj=(()=>{class e{get mostRecentModality(){return this._modality.value}constructor(n,i,r,s){this._platform=n,this._mostRecentTarget=null,this._modality=new Ut(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=mn(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<Qb||(this._modality.next(Xp(o)?"keyboard":"mouse"),this._mostRecentTarget=mn(o))},this._onTouchstart=o=>{if(eg(o)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=mn(o)},this._options=L(L({},tj),s),this.modalityDetected=this._modality.pipe(cs(1)),this.modalityChanged=this.modalityDetected.pipe(ma()),n.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,jr),r.addEventListener("mousedown",this._onMousedown,jr),r.addEventListener("touchstart",this._onTouchstart,jr)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,jr),document.removeEventListener("mousedown",this._onMousedown,jr),document.removeEventListener("touchstart",this._onTouchstart,jr))}static{this.\u0275fac=function(i){return new(i||e)(y(tt),y(R),y(K),y(ej,8))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var bl=function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e}(bl||{}),ij=new D("cdk-focus-monitor-default-options"),wl=Lr({passive:!0,capture:!0}),Z5=(()=>{class e{constructor(n,i,r,s,o){this._ngZone=n,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new ie,this._rootNodeFocusAndBlurListener=a=>{let c=mn(a);for(let l=c;l;l=l.parentElement)a.type==="focus"?this._onFocus(a,l):this._onBlur(a,l)},this._document=s,this._detectionMode=o?.detectionMode||bl.IMMEDIATE}monitor(n,i=!1){let r=cn(n);if(!this._platform.isBrowser||r.nodeType!==1)return Xn();let s=Bb(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return i&&(o.checkChildren=!0),o.subject;let a={checkChildren:i,subject:new ie,rootNode:s};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(n){let i=cn(n),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(n,i,r){let s=cn(n),o=this._getDocument().activeElement;s===o?this._getClosestElementsInfo(s).forEach(([a,c])=>this._originChanged(a,i,c)):(this._setOrigin(i),typeof s.focus=="function"&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((n,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===bl.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,i){n.classList.toggle("cdk-focused",!!i),n.classList.toggle("cdk-touch-focused",i==="touch"),n.classList.toggle("cdk-keyboard-focused",i==="keyboard"),n.classList.toggle("cdk-mouse-focused",i==="mouse"),n.classList.toggle("cdk-program-focused",i==="program")}_setOrigin(n,i=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&i,this._detectionMode===bl.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?Qb:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(n,i){let r=this._elementInfo.get(i),s=mn(n);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(n,i){let r=this._elementInfo.get(i);!r||r.checkChildren&&n.relatedTarget instanceof Node&&i.contains(n.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(n,i){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(i))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let i=n.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,wl),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,wl)}),this._rootNodeFocusListenerCount.set(i,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ye(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(n){let i=n.rootNode;if(this._rootNodeFocusListenerCount.has(i)){let r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,wl),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,wl),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,i,r){this._setClasses(n,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(n){let i=[];return this._elementInfo.forEach((r,s)=>{(s===n||r.checkChildren&&s.contains(n))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!i||i===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let s=n.labels;if(s){for(let o=0;o<s.length;o++)if(s[o].contains(i))return!0}return!1}static{this.\u0275fac=function(i){return new(i||e)(y(R),y(tt),y(nj),y(K,8),y(ij,8))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ri=function(e){return e[e.NONE=0]="NONE",e[e.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",e[e.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",e}(Ri||{}),qb="cdk-high-contrast-black-on-white",Kb="cdk-high-contrast-white-on-black",Zp="cdk-high-contrast-active",Zb=(()=>{class e{constructor(n,i){this._platform=n,this._document=i,this._breakpointSubscription=b(Wb).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ri.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(n):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(n.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ri.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ri.BLACK_ON_WHITE}return Ri.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(Zp,qb,Kb),this._hasCheckedHighContrastMode=!0;let i=this.getHighContrastMode();i===Ri.BLACK_ON_WHITE?n.add(Zp,qb):i===Ri.WHITE_ON_BLACK&&n.add(Zp,Kb)}}static{this.\u0275fac=function(i){return new(i||e)(y(tt),y(K))}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function sj(){return!0}var oj=new D("mat-sanity-checks",{providedIn:"root",factory:sj}),ig=(()=>{class e{constructor(n,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,n._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return Ub()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[n]}static{this.\u0275fac=function(i){return new(i||e)(y(Zb),y(oj,8),y(K))}}static{this.\u0275mod=ne({type:e})}static{this.\u0275inj=te({imports:[Vs,Vs]})}}return e})();var Jb=class{constructor(t,n,i,r,s){this._defaultMatcher=t,this.ngControl=n,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=s,this.errorState=!1}updateErrorState(){let t=this.errorState,n=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,s=i?.isErrorState(r,n)??!1;s!==t&&(this.errorState=s,this._stateChanges.next())}};var mK=(()=>{class e{isErrorState(n,i){return!!(n&&n.invalid&&(n.touched||i&&i.submitted))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var nt=function(e){return e[e.FADING_IN=0]="FADING_IN",e[e.VISIBLE=1]="VISIBLE",e[e.FADING_OUT=2]="FADING_OUT",e[e.HIDDEN=3]="HIDDEN",e}(nt||{}),rg=class{constructor(t,n,i,r=!1){this._renderer=t,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=nt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},Xb=Lr({passive:!0,capture:!0}),sg=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let n=mn(t);n&&this._events.get(t.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(s=>s.handleEvent(t))})}}addHandler(t,n,i,r){let s=this._events.get(n);if(s){let o=s.get(i);o?o.add(r):s.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,Xb)})}removeHandler(t,n,i){let r=this._events.get(t);if(!r)return;let s=r.get(n);s&&(s.delete(i),s.size===0&&r.delete(n),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Xb)))}},eD={enterDuration:225,exitDuration:150},aj=800,tD=Lr({passive:!0,capture:!0}),nD=["mousedown","touchstart"],iD=["mouseup","mouseleave","touchend","touchcancel"],og=class e{static{this._eventManager=new sg}constructor(t,n,i,r){this._target=t,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=cn(i))}fadeInRipple(t,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=L(L({},eD),i.animation);i.centered&&(t=r.left+r.width/2,n=r.top+r.height/2);let o=i.radius||cj(t,n,r),a=t-r.left,c=n-r.top,l=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${a-o}px`,u.style.top=`${c-o}px`,u.style.height=`${o*2}px`,u.style.width=`${o*2}px`,i.color!=null&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);let d=window.getComputedStyle(u),f=d.transitionProperty,h=d.transitionDuration,p=f==="none"||h==="0s"||h==="0s, 0s"||r.width===0&&r.height===0,m=new rg(this,u,i,p);u.style.transform="scale3d(1, 1, 1)",m.state=nt.FADING_IN,i.persistent||(this._mostRecentTransientRipple=m);let _=null;return!p&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let I=()=>{_&&(_.fallbackTimer=null),clearTimeout(k),this._finishRippleTransition(m)},C=()=>this._destroyRipple(m),k=setTimeout(C,l+100);u.addEventListener("transitionend",I),u.addEventListener("transitioncancel",C),_={onTransitionEnd:I,onTransitionCancel:C,fallbackTimer:k}}),this._activeRipples.set(m,_),(p||!l)&&this._finishRippleTransition(m),m}fadeOutRipple(t){if(t.state===nt.FADING_OUT||t.state===nt.HIDDEN)return;let n=t.element,i=L(L({},eD),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=nt.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let n=cn(t);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,nD.forEach(i=>{e._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{iD.forEach(n=>{this._triggerElement.addEventListener(n,this,tD)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===nt.FADING_IN?this._startFadeOutTransition(t):t.state===nt.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let n=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=nt.VISIBLE,!i&&(!n||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let n=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=nt.HIDDEN,n!==null&&(t.element.removeEventListener("transitionend",n.onTransitionEnd),t.element.removeEventListener("transitioncancel",n.onTransitionCancel),n.fallbackTimer!==null&&clearTimeout(n.fallbackTimer)),t.element.remove()}_onMousedown(t){let n=Xp(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+aj;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!eg(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=t.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let n=t.state===nt.VISIBLE||t.config.terminateOnPointerUp&&t.state===nt.FADING_IN;!t.config.persistent&&n&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(nD.forEach(n=>e._eventManager.removeHandler(n,t,this)),this._pointerUpEventsRegistered&&(iD.forEach(n=>t.removeEventListener(n,this,tD)),this._pointerUpEventsRegistered=!1))}};function cj(e,t,n){let i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}var aD=new D("mat-ripple-global-options"),lj=(()=>{class e{get disabled(){return this._disabled}set disabled(n){n&&this.fadeOutAllNonPersistent(),this._disabled=n,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(n){this._trigger=n,this._setupTriggerEventsIfEnabled()}constructor(n,i,r,s,o){this._elementRef=n,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new og(this,i,n,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:L(L(L({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(n,i=0,r){return typeof n=="number"?this._rippleRenderer.fadeInRipple(n,i,L(L({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,L(L({},this.rippleConfig),n))}static{this.\u0275fac=function(i){return new(i||e)(w(J),w(R),w(tt),w(aD,8),w(Of,8))}}static{this.\u0275dir=z({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){i&2&&Zf("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return e})(),yK=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ne({type:e})}static{this.\u0275inj=te({imports:[ig,ig]})}}return e})();var vK=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ne({type:e})}static{this.\u0275inj=te({imports:[ig]})}}return e})();var rD={capture:!0},sD=["focus","mousedown","mouseenter","touchstart"],tg="mat-ripple-loader-uninitialized",ng="mat-ripple-loader-class-name",oD="mat-ripple-loader-centered",Dl="mat-ripple-loader-disabled",_K=(()=>{class e{constructor(){this._document=b(K,{optional:!0}),this._animationMode=b(Of,{optional:!0}),this._globalRippleOptions=b(aD,{optional:!0}),this._platform=b(tt),this._ngZone=b(R),this._hosts=new Map,this._onInteraction=n=>{let i=mn(n);if(i instanceof HTMLElement){let r=i.closest(`[${tg}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}},this._ngZone.runOutsideAngular(()=>{for(let n of sD)this._document?.addEventListener(n,this._onInteraction,rD)})}ngOnDestroy(){let n=this._hosts.keys();for(let i of n)this.destroyRipple(i);for(let i of sD)this._document?.removeEventListener(i,this._onInteraction,rD)}configureRipple(n,i){n.setAttribute(tg,this._globalRippleOptions?.namespace??""),(i.className||!n.hasAttribute(ng))&&n.setAttribute(ng,i.className||""),i.centered&&n.setAttribute(oD,""),i.disabled&&n.setAttribute(Dl,"")}getRipple(n){return this._hosts.get(n)||this._createRipple(n)}setDisabled(n,i){let r=this._hosts.get(n);if(r){r.disabled=i;return}i?n.setAttribute(Dl,""):n.removeAttribute(Dl)}_createRipple(n){if(!this._document)return;let i=this._hosts.get(n);if(i)return i;n.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",n.getAttribute(ng)),n.append(r);let s=new lj(new J(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=n,s.centered=n.hasAttribute(oD),s.disabled=n.hasAttribute(Dl),this.attachRipple(n,s),s}attachRipple(n,i){n.removeAttribute(tg),this._hosts.set(n,i)}destroyRipple(n){let i=this._hosts.get(n);i&&(i.ngOnDestroy(),this._hosts.delete(n))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var cD="@firebase/database",lD="1.0.8";var cm="";function uj(e){cm=e}var pg=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),fe(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:xr(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var gg=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Xe(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var UD=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new pg(t)}}catch{}return new gg},ki=UD("localStorage"),mg=UD("sessionStorage");var Ur=new Pn("@firebase/database"),$D=function(){let e=1;return function(){return e++}}(),HD=function(e){let t=Tw(e),n=new qc;n.update(t);let i=n.digest();return Kc.encodeByteArray(i)},No=function(...e){let t="";for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=No.apply(null,i):typeof i=="object"?t+=fe(i):t+=i,t+=" "}return t},Fi=null,uD=!0,dj=function(e,t){v(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ur.logLevel=Y.VERBOSE,Fi=Ur.log.bind(Ur),t&&mg.set("logging_enabled",!0)):typeof e=="function"?Fi=e:(Fi=null,mg.remove("logging_enabled"))},Te=function(...e){if(uD===!0&&(uD=!1,Fi===null&&mg.get("logging_enabled")===!0&&dj(!0)),Fi){let t=No.apply(null,e);Fi(t)}},Ro=function(e){return function(...t){Te(e,...t)}},yg=function(...e){let t="FIREBASE INTERNAL ERROR: "+No(...e);Ur.error(t)},yn=function(...e){let t=`FIREBASE FATAL ERROR: ${No(...e)}`;throw Ur.error(t),new Error(t)},Ue=function(...e){let t="FIREBASE WARNING: "+No(...e);Ur.warn(t)},fj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ue("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},lm=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},hj=function(e){if(kt()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Hr="[MIN_NAME]",Li="[MAX_NAME]",Zr=function(e,t){if(e===t)return 0;if(e===Hr||t===Li)return-1;if(t===Hr||e===Li)return 1;{let n=dD(e),i=dD(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},pj=function(e,t){return e===t?0:e<t?-1:1},po=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+fe(t))},um=function(e){if(typeof e!="object"||e===null)return fe(e);let t=[];for(let i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=fe(t[i]),n+=":",n+=um(e[t[i]]);return n+="}",n},GD=function(e,t){let n=e.length;if(n<=t)return[e];let i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function $e(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var WD=function(e){v(!lm(e),"Invalid JSON number");let t=11,n=52,i=(1<<t-1)-1,r,s,o,a,c;e===0?(s=0,o=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),s=a+i,o=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-i-n))));let l=[];for(c=n;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(c=t;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(r?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},gj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},mj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function yj(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}var vj=new RegExp("^-?(0*)\\d{1,10}$"),_j=-2147483648,Ij=2147483647,dD=function(e){if(vj.test(e)){let t=Number(e);if(t>=_j&&t<=Ij)return t}return null},Jr=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw Ue("Exception was thrown by user callback.",n),t},Math.floor(0))}},Ej=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},_o=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var vg=class{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Ue(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var _g=class{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Te("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ue(t)}},Io=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),xl="5",zD="v",qD="s",KD="r",YD="f",QD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ZD="ls",JD="p",Ig="ac",XD="websocket",eC="long_polling";var Al=class{constructor(t,n,i,r,s=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ki.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ki.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function wj(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function tC(e,t,n){v(typeof t=="string","typeof type must == string"),v(typeof n=="object","typeof params must == object");let i;if(t===XD)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===eC)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);wj(e)&&(n.ns=e.namespace);let r=[];return $e(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}var Eg=class{constructor(){this.counters_={}}incrementCounter(t,n=1){Xe(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return gw(this.counters_)}};var ag={},cg={};function dm(e){let t=e.toString();return ag[t]||(ag[t]=new Eg),ag[t]}function bj(e,t){let n=e.toString();return cg[n]||(cg[n]=t()),cg[n]}var wg=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Jr(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var fD="start",Dj="close",Cj="pLPCommand",xj="pRTLPCB",nC="id",iC="pw",rC="ser",Aj="cb",Tj="seg",Sj="ts",Mj="d",Nj="dframe",sC=1870,oC=30,Rj=sC-oC,Oj=25e3,kj=3e4,bg=class e{constructor(t,n,i,r,s,o,a){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ro(t),this.stats_=dm(n),this.urlFn=c=>(this.appCheckToken&&(c[Ig]=this.appCheckToken),tC(n,eC,c))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new wg(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(kj)),hj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Dg((...s)=>{let[o,a,c,l,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===fD)this.id=a,this.password=c;else if(o===Dj)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[fD]="t",i[rC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Aj]=this.scriptTagHolder.uniqueCallbackIdentifier),i[zD]=xl,this.transportSessionId&&(i[qD]=this.transportSessionId),this.lastSessionId&&(i[ZD]=this.lastSessionId),this.applicationId&&(i[JD]=this.applicationId),this.appCheckToken&&(i[Ig]=this.appCheckToken),typeof location<"u"&&location.hostname&&QD.test(location.hostname)&&(i[KD]=YD);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return kt()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!gj()&&!mj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=fe(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=Uh(n),r=GD(i,Rj);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(kt())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[Nj]="t",i[nC]=t,i[iC]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=fe(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Dg=class e{constructor(t,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,kt())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=$D(),window[Cj+this.uniqueCallbackIdentifier]=t,window[xj+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Te("frame writing exception"),a.stack&&Te(a.stack),Te(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Te("No IE domain setting required")}catch{let i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[nC]=this.myID,t[iC]=this.myPW,t[rC]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+oC+i.length<=sC;){let o=this.pendingSegs.shift();i=i+"&"+Tj+r+"="+o.seg+"&"+Sj+r+"="+o.ts+"&"+Mj+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(Oj)),s=()=>{clearTimeout(r),i()};this.addTag(t,s)}addTag(t,n){kt()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Te("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var Pj=16384,Fj=45e3,Tl=null;typeof MozWebSocket<"u"?Tl=MozWebSocket:typeof WebSocket<"u"&&(Tl=WebSocket);var go=(()=>{class e{constructor(n,i,r,s,o,a,c){this.connId=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ro(this.connId),this.stats_=dm(i),this.connURL=e.connectionURL_(i,a,c,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,s,o){let a={};return a[zD]=xl,!kt()&&typeof location<"u"&&location.hostname&&QD.test(location.hostname)&&(a[KD]=YD),i&&(a[qD]=i),r&&(a[ZD]=r),s&&(a[Ig]=s),o&&(a[JD]=o),tC(n,XD,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ki.set("previous_websocket_failure",!0);try{let r;if(kt()){let s=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${xl}/${cm}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new Tl(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Tl!==null&&!e.forceDisallow_}static previouslyFailed(){return ki.isInMemoryStorage||ki.get("previous_websocket_failure")===!0}markConnectionHealthy(){ki.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=xr(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(v(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=fe(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=GD(i,Pj);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(Fj))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),Lj=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[bg,go]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let i=go&&go.isAvailable(),r=i&&!go.previouslyFailed();if(n.webSocketOnly&&(i||Ue("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[go];else{let s=this.transports_=[];for(let o of e.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),jj=6e4,Vj=5e3,Bj=10*1024,Uj=100*1024,lg="t",hD="d",$j="s",pD="r",Hj="e",gD="o",mD="a",yD="n",vD="p",Gj="h",Cg=class{constructor(t,n,i,r,s,o,a,c,l,u){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ro("c:"+this.id+":"),this.transportManager_=new Lj(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=_o(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Uj?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Bj?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(lg in t){let n=t[lg];n===mD?this.upgradeIfSecondaryHealthy_():n===pD?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===gD&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=po("t",t),i=po("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:vD,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:mD,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:yD,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=po("t",t),i=po("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=po(lg,t);if(hD in t){let i=t[hD];if(n===Gj){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===yD){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===$j?this.onConnectionShutdown_(i):n===pD?this.onReset_(i):n===Hj?yg("Server Error: "+i):n===gD?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yg("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),xl!==i&&Ue("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),_o(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(jj))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):_o(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Vj))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:vD,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ki.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Sl=class{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}};var Ml=class{constructor(t){this.allowedEvents_=t,this.listeners_={},v(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});let r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);let r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(t){v(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var Nl=class e extends Ml{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!zs()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new e}getInitialEvent(t){return v(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var _D=32,ID=768,Q=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function W(){return new Q("")}function B(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Wn(e){return e.pieces_.length-e.pieceNum_}function ee(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Q(e.pieces_,t)}function aC(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Wj(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function cC(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function lC(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Q(t,0)}function ye(e,t){let n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof Q)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{let i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new Q(n,0)}function H(e){return e.pieceNum_>=e.pieces_.length}function Pe(e,t){let n=B(e),i=B(t);if(n===null)return t;if(n===i)return Pe(ee(e),ee(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function fm(e,t){if(Wn(e)!==Wn(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function gt(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(Wn(e)>Wn(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}var xg=class{constructor(t,n){this.errorPrefix_=n,this.parts_=cC(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Ys(this.parts_[i]);uC(this)}};function zj(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Ys(t),uC(e)}function qj(e){let t=e.parts_.pop();e.byteLength_-=Ys(t),e.parts_.length>0&&(e.byteLength_-=1)}function uC(e){if(e.byteLength_>ID)throw new Error(e.errorPrefix_+"has a key path longer than "+ID+" bytes ("+e.byteLength_+").");if(e.parts_.length>_D)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_D+") or object contains a cycle "+Oi(e))}function Oi(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var Ag=class e extends Ml{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new e}getInitialEvent(t){return v(t==="visible","Unknown event type: "+t),[this.visible_]}};var mo=1e3,Kj=60*5*1e3,ED=30*1e3,Yj=1.3,Qj=3e4,Zj="server_kill",wD=3,hm=(()=>{class e extends Sl{constructor(n,i,r,s,o,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=e.nextPersistentConnectionId_++,this.log_=Ro("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=mo,this.maxReconnectDelay_=Kj,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!kt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ag.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Nl.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let s=++this.requestNumber_,o={r:s,a:n,b:i};this.log_(fe(o)),v(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(n){this.initConnection_();let i=new ln,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?i.resolve(c):i.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),i.promise}listen(n,i,r,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),v(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let c={onComplete:s,hashFn:i,query:n,tag:r};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);let o={p:r},a="q";n.tag&&(o.q=i._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,c=>{let l=c.d,u=c.s;e.warnOnListenWarnings_(l,i),(this.listens.get(r)&&this.listens.get(r).get(s))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(r,s),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&Xe(n,"w")){let r=kn(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();Ue(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||xw(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ED)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=Cw(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),v(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,n._queryObject,i)}sendUnlisten_(n,i,r,s){this.log_("Unlisten on "+n+" for "+i);let o={p:n},a="n";s&&(o.q=r,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,s){let o={p:i,d:r};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,i,r,s){this.putInternal("p",n,i,r,s)}merge(n,i,r,s){this.putInternal("m",n,i,r,s)}putInternal(n,i,r,s,o){this.initConnection_();let a={p:i,d:r};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+fe(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):yg("Unrecognized action received from server: "+fe(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){v(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=mo,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=mo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Qj&&(this.reconnectDelay_=mo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Yj)}this.onConnectStatus_(!1)}establishConnection_(){return g(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+e.nextConnectionId_++,o=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,r())},u=function(f){v(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Te("getToken() completed but was canceled"):(Te("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new Cg(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,p=>{Ue(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Zj)},o))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Ue(f),l())}}})}interrupt(n){Te("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Te("Resuming connection for reason: "+n),delete this.interruptReasons_[n],qs(this.interruptReasons_)&&(this.reconnectDelay_=mo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(o=>um(o)).join("$"):r="default";let s=this.removeListen_(n,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,i){let r=new Q(n).toString(),s;if(this.listens.has(r)){let o=this.listens.get(r);s=o.get(i),o.delete(i),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(n,i){Te("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=wD&&(this.reconnectDelay_=ED,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Te("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=wD&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";kt()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+cm.replace(/\./g,"-")]=1,zs()?n["framework.cordova"]=1:Yc()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Nl.getInstance().currentlyOnline();return qs(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),U=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var Gr=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let i=new U(Hr,t),r=new U(Hr,n);return this.compare(i,r)!==0}minPost(){return U.MIN}};var Cl,Rl=class extends Gr{static get __EMPTY_NODE(){return Cl}static set __EMPTY_NODE(t){Cl=t}compare(t,n){return Zr(t.name,n.name)}isDefinedOn(t){throw Ii("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return U.MIN}maxPost(){return new U(Li,Cl)}makePost(t,n){return v(typeof t=="string","KeyIndex indexValue must always be a string."),new U(t,Cl)}toString(){return".key"}},$r=new Rl;var Br=class{constructor(t,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?i(t.key,n):1,r&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},pt=(()=>{class e{constructor(n,i,r,s,o){this.key=n,this.value=i,this.color=r??e.RED,this.left=s??it.EMPTY_NODE,this.right=o??it.EMPTY_NODE}copy(n,i,r,s,o){return new e(n??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let s=this,o=r(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,i,r),null):o===0?s=s.copy(null,i,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return it.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,s;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return it.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Tg=class{copy(t,n,i,r,s){return this}insert(t,n,i){return new pt(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},it=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,pt.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,pt.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Br(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Br(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Br(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Br(this.root_,null,this.comparator_,!0,t)}};it.EMPTY_NODE=new Tg;function Jj(e,t){return Zr(e.name,t.name)}function pm(e,t){return Zr(e,t)}var Sg;function Xj(e){Sg=e}var dC=function(e){return typeof e=="number"?"number:"+WD(e):"string:"+e},fC=function(e){if(e.isLeafNode()){let t=e.val();v(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Xe(t,".sv"),"Priority must be a string or number.")}else v(e===Sg||e.isEmpty(),"priority of unexpected type.");v(e===Sg||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var bD,Wr=(()=>{class e{constructor(n,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,v(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),fC(this.priorityNode_)}static set __childrenNodeConstructor(n){bD=n}static get __childrenNodeConstructor(){return bD}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return H(n)?this:B(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=B(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(v(r!==".priority"||Wn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ee(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+dC(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=WD(this.value_):n+=this.value_,this.lazyHash_=HD(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(v(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,s=e.VALUE_TYPE_ORDER.indexOf(i),o=e.VALUE_TYPE_ORDER.indexOf(r);return v(s>=0,"Unknown leaf type: "+i),v(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),hC,pC;function eV(e){hC=e}function tV(e){pC=e}var Mg=class extends Gr{compare(t,n){let i=t.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?Zr(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return U.MIN}maxPost(){return new U(Li,new Wr("[PRIORITY-POST]",pC))}makePost(t,n){let i=hC(t);return new U(n,new Wr("[PRIORITY-POST]",i))}toString(){return".priority"}},ae=new Mg;var nV=Math.log(2),Ng=class{constructor(t){let n=s=>parseInt(Math.log(s)/nV,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},Ol=function(e,t,n,i){e.sort(t);let r=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=e[c],f=n?n(d):d,new pt(f,d.node,pt.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=r(c,h),m=r(h+1,l);return d=e[h],f=n?n(d):d,new pt(f,d.node,pt.BLACK,p,m)}},s=function(c){let l=null,u=null,d=e.length,f=function(p,m){let _=d-p,I=d;d-=p;let C=r(_+1,I),k=e[_],X=n?n(k):k;h(new pt(X,k.node,m,null,C))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let m=c.nextBitIsOne(),_=Math.pow(2,c.count-(p+1));m?f(_,pt.BLACK):(f(_,pt.BLACK),f(_,pt.RED))}return u},o=new Ng(e.length),a=s(o);return new it(i||t,a)};var ug,Vr={},zr=class e{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return v(Vr&&ae,"ChildrenNode.ts has not been loaded"),ug=ug||new e({".priority":Vr},{".priority":ae}),ug}get(t){let n=kn(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof it?n:null}hasIndex(t){return Xe(this.indexSet_,t.toString())}addIndex(t,n){v(t!==$r,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,s=n.getIterator(U.Wrap),o=s.getNext();for(;o;)r=r||t.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=Ol(i,t.getCompare()):a=Vr;let c=t.toString(),l=Object.assign({},this.indexSet_);l[c]=t;let u=Object.assign({},this.indexes_);return u[c]=a,new e(u,l)}addToIndexes(t,n){let i=Ks(this.indexes_,(r,s)=>{let o=kn(this.indexSet_,s);if(v(o,"Missing index implementation for "+s),r===Vr)if(o.isDefinedOn(t.node)){let a=[],c=n.getIterator(U.Wrap),l=c.getNext();for(;l;)l.name!==t.name&&a.push(l),l=c.getNext();return a.push(t),Ol(a,o.getCompare())}else return Vr;else{let a=n.get(t.name),c=r;return a&&(c=c.remove(new U(t.name,a))),c.insert(t,t.node)}});return new e(i,this.indexSet_)}removeFromIndexes(t,n){let i=Ks(this.indexes_,r=>{if(r===Vr)return r;{let s=n.get(t.name);return s?r.remove(new U(t.name,s)):r}});return new e(i,this.indexSet_)}};var yo,F=(()=>{class e{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&fC(this.priorityNode_),this.children_.isEmpty()&&v(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return yo||(yo=new e(new it(pm),null,zr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yo}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?yo:i}}getChild(n){let i=B(n);return i===null?this:this.getImmediateChild(i).getChild(ee(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(v(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new U(n,i),s,o;i.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(n,i),o=this.indexMap_.addToIndexes(r,this.children_));let a=s.isEmpty()?yo:this.priorityNode_;return new e(s,a,o)}}updateChild(n,i){let r=B(n);if(r===null)return i;{v(B(n)!==".priority"||Wn(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(r).updateChild(ee(n),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,s=0,o=!0;if(this.forEachChild(ae,(a,c)=>{i[a]=c.val(n),r++,o&&e.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*r){let a=[];for(let c in i)a[c]=i[c];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+dC(this.getPriority().val())+":"),this.forEachChild(ae,(i,r)=>{let s=r.hash();s!==""&&(n+=":"+i+":"+s)}),this.lazyHash_=n===""?"":HD(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let s=this.resolveIndex_(r);if(s){let o=s.getPredecessorKey(new U(n,i));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new U(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new U(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,U.Wrap),o=s.peek();for(;o!=null&&i.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,U.Wrap),o=s.peek();for(;o!=null&&i.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Oo?-1:0}withIndex(n){if(n===$r||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===$r||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(ae),s=i.getIterator(ae),o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===$r?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),Rg=class extends F{constructor(){super(new it(pm),F.EMPTY_NODE,zr.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return F.EMPTY_NODE}isEmpty(){return!1}},Oo=new Rg;Object.defineProperties(U,{MIN:{value:new U(Hr,F.EMPTY_NODE)},MAX:{value:new U(Li,Oo)}});Rl.__EMPTY_NODE=F.EMPTY_NODE;Wr.__childrenNodeConstructor=F;Xj(Oo);tV(Oo);var iV=!0;function me(e,t=null){if(e===null)return F.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),v(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new Wr(n,me(t))}if(!(e instanceof Array)&&iV){let n=[],i=!1;if($e(e,(o,a)=>{if(o.substring(0,1)!=="."){let c=me(a);c.isEmpty()||(i=i||!c.getPriority().isEmpty(),n.push(new U(o,c)))}}),n.length===0)return F.EMPTY_NODE;let s=Ol(n,Jj,o=>o.name,pm);if(i){let o=Ol(n,ae.getCompare());return new F(s,me(t),new zr({".priority":o},{".priority":ae}))}else return new F(s,me(t),zr.Default)}else{let n=F.EMPTY_NODE;return $e(e,(i,r)=>{if(Xe(e,i)&&i.substring(0,1)!=="."){let s=me(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(me(t))}}eV(me);var Og=class extends Gr{constructor(t){super(),this.indexPath_=t,v(!H(t)&&B(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let i=this.extractChild(t.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?Zr(t.name,n.name):s}makePost(t,n){let i=me(t),r=F.EMPTY_NODE.updateChild(this.indexPath_,i);return new U(n,r)}maxPost(){let t=F.EMPTY_NODE.updateChild(this.indexPath_,Oo);return new U(Li,t)}toString(){return cC(this.indexPath_,0).join("/")}};var kg=class extends Gr{compare(t,n){let i=t.node.compareTo(n.node);return i===0?Zr(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return U.MIN}maxPost(){return U.MAX}makePost(t,n){let i=me(t);return new U(n,i)}toString(){return".value"}},rV=new kg;function gC(e){return{type:"value",snapshotNode:e}}function qr(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Do(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Co(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function sV(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var xo=class{constructor(t){this.index_=t}updateChild(t,n,i,r,s,o){v(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?t.hasChild(n)?o.trackChildChange(Do(n,a)):v(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(qr(n,i)):o.trackChildChange(Co(n,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(ae,(r,s)=>{n.hasChild(r)||i.trackChildChange(Do(r,s))}),n.isLeafNode()||n.forEachChild(ae,(r,s)=>{if(t.hasChild(r)){let o=t.getImmediateChild(r);o.equals(s)||i.trackChildChange(Co(r,s,o))}else i.trackChildChange(qr(r,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?F.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var kl=class e{constructor(t){this.indexedFilter_=new xo(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,r,s,o){return this.matches(new U(n,i))||(i=F.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,r,s,o)}updateFullNode(t,n,i){n.isLeafNode()&&(n=F.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(F.EMPTY_NODE);let s=this;return n.forEachChild(ae,(o,a)=>{s.matches(new U(o,a))||(r=r.updateImmediateChild(o,F.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var Pg=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new kl(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,r,s,o){return this.rangedFilter_.matches(new U(n,i))||(i=F.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,r,s,o):this.fullLimitUpdateChild_(t,n,i,s,o)}updateFullNode(t,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=F.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=F.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(F.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,F.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,r,s){let o;if(this.reverse_){let d=this.index_.getCompare();o=(f,h)=>d(h,f)}else o=this.index_.getCompare();let a=t;v(a.numChildren()===this.limit_,"");let c=new U(n,i),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=r.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:o(f,c);if(u&&!i.isEmpty()&&h>=0)return s?.trackChildChange(Co(n,i,d)),a.updateImmediateChild(n,i);{s?.trackChildChange(Do(n,d));let m=a.updateImmediateChild(n,F.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s?.trackChildChange(qr(f.name,f.node)),m.updateImmediateChild(f.name,f.node)):m}}else return i.isEmpty()?t:u&&o(l,c)>=0?(s!=null&&(s.trackChildChange(Do(l.name,l.node)),s.trackChildChange(qr(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(l.name,F.EMPTY_NODE)):t}};var Fg=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ae}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return v(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return v(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Hr}hasEnd(){return this.endSet_}getIndexEndValue(){return v(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return v(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Li}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return v(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ae}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function oV(e){return e.loadsAllData()?new xo(e.getIndex()):e.hasLimit()?new Pg(e):new kl(e)}function DD(e){let t={};if(e.isDefault())return t;let n;if(e.index_===ae?n="$priority":e.index_===rV?n="$value":e.index_===$r?n="$key":(v(e.index_ instanceof Og,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=fe(n),e.startSet_){let i=e.startAfterSet_?"startAfter":"startAt";t[i]=fe(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+fe(e.indexStartName_))}if(e.endSet_){let i=e.endBeforeSet_?"endBefore":"endAt";t[i]=fe(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+fe(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function CD(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==ae&&(t.i=e.index_.toString()),t}var Lg=class e extends Sl{constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Ro("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(v(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,r){let s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);let o=e.getListenId_(t,i),a={};this.listens_[o]=a;let c=DD(t._queryParams);this.restRequest_(s+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(s,d,!1,i),kn(this.listens_,o)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",r(f,null)}})}unlisten(t,n){let i=e.getListenId_(t,n);delete this.listens_[i]}get(t){let n=DD(t._queryParams),i=t._path.toString(),r=new ln;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Ei(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=xr(a.responseText)}catch{Ue("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,c)}else a.status!==401&&a.status!==404&&Ue("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}};var jg=class{constructor(){this.rootNode_=F.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function Pl(){return{value:null,children:new Map}}function mC(e,t,n){if(H(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let i=B(t);e.children.has(i)||e.children.set(i,Pl());let r=e.children.get(i);t=ee(t),mC(r,t,n)}}function Vg(e,t,n){e.value!==null?n(t,e.value):aV(e,(i,r)=>{let s=new Q(t.toString()+"/"+i);Vg(r,s,n)})}function aV(e,t){e.children.forEach((n,i)=>{t(i,n)})}var Bg=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&$e(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}};var xD=10*1e3,cV=30*1e3,lV=5*60*1e3,Ug=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Bg(t);let i=xD+(cV-xD)*Math.random();_o(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let t=this.statsListener_.get(),n={},i=!1;$e(t,(r,s)=>{s>0&&Xe(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),_o(this.reportStats_.bind(this),Math.floor(Math.random()*2*lV))}};var jt=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(jt||{});function yC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function gm(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function mm(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var $g=class e{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=jt.ACK_USER_WRITE,this.source=yC()}operationForChild(t){if(H(this.path)){if(this.affectedTree.value!=null)return v(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Q(t));return new e(W(),n,this.revert)}}else return v(B(this.path)===t,"operationForChild called for unrelated child."),new e(ee(this.path),this.affectedTree,this.revert)}};var Fl=class e{constructor(t,n){this.source=t,this.path=n,this.type=jt.LISTEN_COMPLETE}operationForChild(t){return H(this.path)?new e(this.source,W()):new e(this.source,ee(this.path))}};var Kr=class e{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=jt.OVERWRITE}operationForChild(t){return H(this.path)?new e(this.source,W(),this.snap.getImmediateChild(t)):new e(this.source,ee(this.path),this.snap)}};var Ll=class e{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=jt.MERGE}operationForChild(t){if(H(this.path)){let n=this.children.subtree(new Q(t));return n.isEmpty()?null:n.value?new Kr(this.source,W(),n.value):new e(this.source,W(),n)}else return v(B(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ee(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Vt=class{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(H(t))return this.isFullyInitialized()&&!this.filtered_;let n=B(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var Hg=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function uV(e,t,n,i){let r=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(sV(o.childName,o.snapshotNode))}),vo(e,r,"child_removed",t,i,n),vo(e,r,"child_added",t,i,n),vo(e,r,"child_moved",s,i,n),vo(e,r,"child_changed",t,i,n),vo(e,r,"value",t,i,n),r}function vo(e,t,n,i,r,s){let o=i.filter(a=>a.type===n);o.sort((a,c)=>fV(e,a,c)),o.forEach(a=>{let c=dV(e,a,s);r.forEach(l=>{l.respondsTo(a.type)&&t.push(l.createEvent(c,e.query_))})})}function dV(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function fV(e,t,n){if(t.childName==null||n.childName==null)throw Ii("Should only compare child_ events.");let i=new U(t.childName,t.snapshotNode),r=new U(n.childName,n.snapshotNode);return e.index_.compare(i,r)}function Zl(e,t){return{eventCache:e,serverCache:t}}function Eo(e,t,n,i){return Zl(new Vt(t,n,i),e.serverCache)}function vC(e,t,n,i){return Zl(e.eventCache,new Vt(t,n,i))}function jl(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ji(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var dg,hV=()=>(dg||(dg=new it(pj)),dg),He=class e{constructor(t,n=hV()){this.value=t,this.children=n}static fromObject(t){let n=new e(null);return $e(t,(i,r)=>{n=n.set(new Q(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:W(),value:this.value};if(H(t))return null;{let i=B(t),r=this.children.get(i);if(r!==null){let s=r.findRootMostMatchingPathAndValue(ee(t),n);return s!=null?{path:ye(new Q(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(H(t))return this;{let n=B(t),i=this.children.get(n);return i!==null?i.subtree(ee(t)):new e(null)}}set(t,n){if(H(t))return new e(n,this.children);{let i=B(t),s=(this.children.get(i)||new e(null)).set(ee(t),n),o=this.children.insert(i,s);return new e(this.value,o)}}remove(t){if(H(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=B(t),i=this.children.get(n);if(i){let r=i.remove(ee(t)),s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new e(null):new e(this.value,s)}else return this}}get(t){if(H(t))return this.value;{let n=B(t),i=this.children.get(n);return i?i.get(ee(t)):null}}setTree(t,n){if(H(t))return n;{let i=B(t),s=(this.children.get(i)||new e(null)).setTree(ee(t),n),o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new e(this.value,o)}}fold(t){return this.fold_(W(),t)}fold_(t,n){let i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(ye(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,W(),n)}findOnPath_(t,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(H(t))return null;{let s=B(t),o=this.children.get(s);return o?o.findOnPath_(ee(t),ye(n,s),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,W(),n)}foreachOnPath_(t,n,i){if(H(t))return this;{this.value&&i(n,this.value);let r=B(t),s=this.children.get(r);return s?s.foreachOnPath_(ee(t),ye(n,r),i):new e(null)}}foreach(t){this.foreach_(W(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(ye(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}};var mt=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new He(null))}};function wo(e,t,n){if(H(t))return new mt(new He(n));{let i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){let r=i.path,s=i.value,o=Pe(r,t);return s=s.updateChild(o,n),new mt(e.writeTree_.set(r,s))}else{let r=new He(n),s=e.writeTree_.setTree(t,r);return new mt(s)}}}function AD(e,t,n){let i=e;return $e(n,(r,s)=>{i=wo(i,ye(t,r),s)}),i}function TD(e,t){if(H(t))return mt.empty();{let n=e.writeTree_.setTree(t,new He(null));return new mt(n)}}function Gg(e,t){return Vi(e,t)!=null}function Vi(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Pe(n.path,t)):null}function SD(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ae,(i,r)=>{t.push(new U(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new U(i,r.value))}),t}function Hn(e,t){if(H(t))return e;{let n=Vi(e,t);return n!=null?new mt(new He(n)):new mt(e.writeTree_.subtree(t))}}function Wg(e){return e.writeTree_.isEmpty()}function Yr(e,t){return _C(W(),e.writeTree_,t)}function _C(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{r===".priority"?(v(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=_C(ye(e,r),s,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(ye(e,".priority"),i)),n}}function Jl(e,t){return bC(t,e)}function pV(e,t,n,i,r){v(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=wo(e.visibleWrites,t,n)),e.lastWriteId=i}function gV(e,t){for(let n=0;n<e.allWrites.length;n++){let i=e.allWrites[n];if(i.writeId===t)return i}return null}function mV(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);v(n>=0,"removeWrite called with nonexistent writeId.");let i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,s=!1,o=e.allWrites.length-1;for(;r&&o>=0;){let a=e.allWrites[o];a.visible&&(o>=n&&yV(a,i.path)?r=!1:gt(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return vV(e),!0;if(i.snap)e.visibleWrites=TD(e.visibleWrites,i.path);else{let a=i.children;$e(a,c=>{e.visibleWrites=TD(e.visibleWrites,ye(i.path,c))})}return!0}else return!1}function yV(e,t){if(e.snap)return gt(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&gt(ye(e.path,n),t))return!0;return!1}function vV(e){e.visibleWrites=IC(e.allWrites,_V,W()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function _V(e){return e.visible}function IC(e,t,n){let i=mt.empty();for(let r=0;r<e.length;++r){let s=e[r];if(t(s)){let o=s.path,a;if(s.snap)gt(n,o)?(a=Pe(n,o),i=wo(i,a,s.snap)):gt(o,n)&&(a=Pe(o,n),i=wo(i,W(),s.snap.getChild(a)));else if(s.children){if(gt(n,o))a=Pe(n,o),i=AD(i,a,s.children);else if(gt(o,n))if(a=Pe(o,n),H(a))i=AD(i,W(),s.children);else{let c=kn(s.children,B(a));if(c){let l=c.getChild(ee(a));i=wo(i,W(),l)}}}else throw Ii("WriteRecord should have .snap or .children")}}return i}function EC(e,t,n,i,r){if(!i&&!r){let s=Vi(e.visibleWrites,t);if(s!=null)return s;{let o=Hn(e.visibleWrites,t);if(Wg(o))return n;if(n==null&&!Gg(o,W()))return null;{let a=n||F.EMPTY_NODE;return Yr(o,a)}}}else{let s=Hn(e.visibleWrites,t);if(!r&&Wg(s))return n;if(!r&&n==null&&!Gg(s,W()))return null;{let o=function(l){return(l.visible||r)&&(!i||!~i.indexOf(l.writeId))&&(gt(l.path,t)||gt(t,l.path))},a=IC(e.allWrites,o,t),c=n||F.EMPTY_NODE;return Yr(a,c)}}}function IV(e,t,n){let i=F.EMPTY_NODE,r=Vi(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(ae,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){let s=Hn(e.visibleWrites,t);return n.forEachChild(ae,(o,a)=>{let c=Yr(Hn(s,new Q(o)),a);i=i.updateImmediateChild(o,c)}),SD(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{let s=Hn(e.visibleWrites,t);return SD(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function EV(e,t,n,i,r){v(i||r,"Either existingEventSnap or existingServerSnap must exist");let s=ye(t,n);if(Gg(e.visibleWrites,s))return null;{let o=Hn(e.visibleWrites,s);return Wg(o)?r.getChild(n):Yr(o,r.getChild(n))}}function wV(e,t,n,i){let r=ye(t,n),s=Vi(e.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){let o=Hn(e.visibleWrites,r);return Yr(o,i.getNode().getImmediateChild(n))}else return null}function bV(e,t){return Vi(e.visibleWrites,t)}function DV(e,t,n,i,r,s,o){let a,c=Hn(e.visibleWrites,t),l=Vi(c,W());if(l!=null)a=l;else if(n!=null)a=Yr(c,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o),h=f.getNext();for(;h&&u.length<r;)d(h,i)!==0&&u.push(h),h=f.getNext();return u}else return[]}function CV(){return{visibleWrites:mt.empty(),allWrites:[],lastWriteId:-1}}function Vl(e,t,n,i){return EC(e.writeTree,e.treePath,t,n,i)}function ym(e,t){return IV(e.writeTree,e.treePath,t)}function MD(e,t,n,i){return EV(e.writeTree,e.treePath,t,n,i)}function Bl(e,t){return bV(e.writeTree,ye(e.treePath,t))}function xV(e,t,n,i,r,s){return DV(e.writeTree,e.treePath,t,n,i,r,s)}function vm(e,t,n){return wV(e.writeTree,e.treePath,t,n)}function wC(e,t){return bC(ye(e.treePath,t),e.writeTree)}function bC(e,t){return{treePath:e,writeTree:t}}var zg=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,i=t.childName;v(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),v(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,Co(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,Do(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,qr(i,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,Co(i,t.snapshotNode,r.oldSnap));else throw Ii("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}};var qg=class{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}},DC=new qg,Ao=class{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let i=this.optCompleteServerCache_!=null?new Vt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vm(this.writes_,t,i)}}getChildAfterChild(t,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ji(this.viewCache_),s=xV(this.writes_,r,n,1,i,t);return s.length===0?null:s[0]}};function AV(e){return{filter:e}}function TV(e,t){v(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),v(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function SV(e,t,n,i,r){let s=new zg,o,a;if(n.type===jt.OVERWRITE){let l=n;l.source.fromUser?o=Kg(e,t,l.path,l.snap,i,r,s):(v(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!H(l.path),o=Ul(e,t,l.path,l.snap,i,r,a,s))}else if(n.type===jt.MERGE){let l=n;l.source.fromUser?o=NV(e,t,l.path,l.children,i,r,s):(v(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=Yg(e,t,l.path,l.children,i,r,a,s))}else if(n.type===jt.ACK_USER_WRITE){let l=n;l.revert?o=kV(e,t,l.path,i,r,s):o=RV(e,t,l.path,l.affectedTree,i,r,s)}else if(n.type===jt.LISTEN_COMPLETE)o=OV(e,t,n.path,i,s);else throw Ii("Unknown operation type: "+n.type);let c=s.getChanges();return MV(t,o,c),{viewCache:o,changes:c}}function MV(e,t,n){let i=t.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=jl(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(gC(jl(t)))}}function CC(e,t,n,i,r,s){let o=t.eventCache;if(Bl(i,n)!=null)return t;{let a,c;if(H(n))if(v(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let l=ji(t),u=l instanceof F?l:F.EMPTY_NODE,d=ym(i,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{let l=Vl(i,ji(t));a=e.filter.updateFullNode(t.eventCache.getNode(),l,s)}else{let l=B(n);if(l===".priority"){v(Wn(n)===1,"Can't have a priority with additional path components");let u=o.getNode();c=t.serverCache.getNode();let d=MD(i,n,u,c);d!=null?a=e.filter.updatePriority(u,d):a=o.getNode()}else{let u=ee(n),d;if(o.isCompleteForChild(l)){c=t.serverCache.getNode();let f=MD(i,n,o.getNode(),c);f!=null?d=o.getNode().getImmediateChild(l).updateChild(u,f):d=o.getNode().getImmediateChild(l)}else d=vm(i,l,t.serverCache);d!=null?a=e.filter.updateChild(o.getNode(),l,d,u,r,s):a=o.getNode()}}return Eo(t,a,o.isFullyInitialized()||H(n),e.filter.filtersNodes())}}function Ul(e,t,n,i,r,s,o,a){let c=t.serverCache,l,u=o?e.filter:e.filter.getIndexedFilter();if(H(n))l=u.updateFullNode(c.getNode(),i,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,i);l=u.updateFullNode(c.getNode(),h,null)}else{let h=B(n);if(!c.isCompleteForPath(n)&&Wn(n)>1)return t;let p=ee(n),_=c.getNode().getImmediateChild(h).updateChild(p,i);h===".priority"?l=u.updatePriority(c.getNode(),_):l=u.updateChild(c.getNode(),h,_,p,DC,null)}let d=vC(t,l,c.isFullyInitialized()||H(n),u.filtersNodes()),f=new Ao(r,d,s);return CC(e,d,n,r,f,a)}function Kg(e,t,n,i,r,s,o){let a=t.eventCache,c,l,u=new Ao(r,t,s);if(H(n))l=e.filter.updateFullNode(t.eventCache.getNode(),i,o),c=Eo(t,l,!0,e.filter.filtersNodes());else{let d=B(n);if(d===".priority")l=e.filter.updatePriority(t.eventCache.getNode(),i),c=Eo(t,l,a.isFullyInitialized(),a.isFiltered());else{let f=ee(n),h=a.getNode().getImmediateChild(d),p;if(H(f))p=i;else{let m=u.getCompleteChild(d);m!=null?aC(f)===".priority"&&m.getChild(lC(f)).isEmpty()?p=m:p=m.updateChild(f,i):p=F.EMPTY_NODE}if(h.equals(p))c=t;else{let m=e.filter.updateChild(a.getNode(),d,p,f,u,o);c=Eo(t,m,a.isFullyInitialized(),e.filter.filtersNodes())}}}return c}function ND(e,t){return e.eventCache.isCompleteForChild(t)}function NV(e,t,n,i,r,s,o){let a=t;return i.foreach((c,l)=>{let u=ye(n,c);ND(t,B(u))&&(a=Kg(e,a,u,l,r,s,o))}),i.foreach((c,l)=>{let u=ye(n,c);ND(t,B(u))||(a=Kg(e,a,u,l,r,s,o))}),a}function RD(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function Yg(e,t,n,i,r,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c=t,l;H(n)?l=i:l=new He(null).setTree(n,i);let u=t.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=t.serverCache.getNode().getImmediateChild(d),p=RD(e,h,f);c=Ul(e,c,new Q(d),p,r,s,o,a)}}),l.children.inorderTraversal((d,f)=>{let h=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=t.serverCache.getNode().getImmediateChild(d),m=RD(e,p,f);c=Ul(e,c,new Q(d),m,r,s,o,a)}}),c}function RV(e,t,n,i,r,s,o){if(Bl(r,n)!=null)return t;let a=t.serverCache.isFiltered(),c=t.serverCache;if(i.value!=null){if(H(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Ul(e,t,n,c.getNode().getChild(n),r,s,a,o);if(H(n)){let l=new He(null);return c.getNode().forEachChild($r,(u,d)=>{l=l.set(new Q(u),d)}),Yg(e,t,n,l,r,s,a,o)}else return t}else{let l=new He(null);return i.foreach((u,d)=>{let f=ye(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Yg(e,t,n,l,r,s,a,o)}}function OV(e,t,n,i,r){let s=t.serverCache,o=vC(t,s.getNode(),s.isFullyInitialized()||H(n),s.isFiltered());return CC(e,o,n,i,DC,r)}function kV(e,t,n,i,r,s){let o;if(Bl(i,n)!=null)return t;{let a=new Ao(i,t,r),c=t.eventCache.getNode(),l;if(H(n)||B(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=Vl(i,ji(t));else{let d=t.serverCache.getNode();v(d instanceof F,"serverChildren would be complete if leaf node"),u=ym(i,d)}u=u,l=e.filter.updateFullNode(c,u,s)}else{let u=B(n),d=vm(i,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=e.filter.updateChild(c,u,d,ee(n),a,s):t.eventCache.getNode().hasChild(u)?l=e.filter.updateChild(c,u,F.EMPTY_NODE,ee(n),a,s):l=c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Vl(i,ji(t)),o.isLeafNode()&&(l=e.filter.updateFullNode(l,o,s)))}return o=t.serverCache.isFullyInitialized()||Bl(i,W())!=null,Eo(t,l,o,e.filter.filtersNodes())}}var Qg=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new xo(i.getIndex()),s=oV(i);this.processor_=AV(s);let o=n.serverCache,a=n.eventCache,c=r.updateFullNode(F.EMPTY_NODE,o.getNode(),null),l=s.updateFullNode(F.EMPTY_NODE,a.getNode(),null),u=new Vt(c,o.isFullyInitialized(),r.filtersNodes()),d=new Vt(l,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Zl(d,u),this.eventGenerator_=new Hg(this.query_)}get query(){return this.query_}};function PV(e){return e.viewCache_.serverCache.getNode()}function FV(e){return jl(e.viewCache_)}function LV(e,t){let n=ji(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!H(t)&&!n.getImmediateChild(B(t)).isEmpty())?n.getChild(t):null}function OD(e){return e.eventRegistrations_.length===0}function jV(e,t){e.eventRegistrations_.push(t)}function kD(e,t,n){let i=[];if(n){v(t==null,"A cancel should cancel all event registrations.");let r=e.query._path;e.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,r);o&&i.push(o)})}if(t){let r=[];for(let s=0;s<e.eventRegistrations_.length;++s){let o=e.eventRegistrations_[s];if(!o.matches(t))r.push(o);else if(t.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function PD(e,t,n,i){t.type===jt.MERGE&&t.source.queryId!==null&&(v(ji(e.viewCache_),"We should always have a full cache before handling merges"),v(jl(e.viewCache_),"Missing event cache, even though we have a server cache"));let r=e.viewCache_,s=SV(e.processor_,r,t,n,i);return TV(e.processor_,s.viewCache),v(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,xC(e,s.changes,s.viewCache.eventCache.getNode(),null)}function VV(e,t){let n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ae,(s,o)=>{i.push(qr(s,o))}),n.isFullyInitialized()&&i.push(gC(n.getNode())),xC(e,i,n.getNode(),t)}function xC(e,t,n,i){let r=i?[i]:e.eventRegistrations_;return uV(e.eventGenerator_,t,n,r)}var $l,Hl=class{constructor(){this.views=new Map}};function BV(e){v(!$l,"__referenceConstructor has already been defined"),$l=e}function UV(){return v($l,"Reference.ts has not been loaded"),$l}function $V(e){return e.views.size===0}function _m(e,t,n,i){let r=t.source.queryId;if(r!==null){let s=e.views.get(r);return v(s!=null,"SyncTree gave us an op for an invalid query."),PD(s,t,n,i)}else{let s=[];for(let o of e.views.values())s=s.concat(PD(o,t,n,i));return s}}function AC(e,t,n,i,r){let s=t._queryIdentifier,o=e.views.get(s);if(!o){let a=Vl(n,r?i:null),c=!1;a?c=!0:i instanceof F?(a=ym(n,i),c=!1):(a=F.EMPTY_NODE,c=!1);let l=Zl(new Vt(a,c,!1),new Vt(i,r,!1));return new Qg(t,l)}return o}function HV(e,t,n,i,r,s){let o=AC(e,t,i,r,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),jV(o,n),VV(o,n)}function GV(e,t,n,i){let r=t._queryIdentifier,s=[],o=[],a=zn(e);if(r==="default")for(let[c,l]of e.views.entries())o=o.concat(kD(l,n,i)),OD(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||s.push(l.query));else{let c=e.views.get(r);c&&(o=o.concat(kD(c,n,i)),OD(c)&&(e.views.delete(r),c.query._queryParams.loadsAllData()||s.push(c.query)))}return a&&!zn(e)&&s.push(new(UV())(t._repo,t._path)),{removed:s,events:o}}function TC(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function Gn(e,t){let n=null;for(let i of e.views.values())n=n||LV(i,t);return n}function SC(e,t){if(t._queryParams.loadsAllData())return Xl(e);{let i=t._queryIdentifier;return e.views.get(i)}}function MC(e,t){return SC(e,t)!=null}function zn(e){return Xl(e)!=null}function Xl(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var Gl;function WV(e){v(!Gl,"__referenceConstructor has already been defined"),Gl=e}function zV(){return v(Gl,"Reference.ts has not been loaded"),Gl}var qV=1,Wl=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new He(null),this.pendingWriteTree_=CV(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Im(e,t,n,i,r){return pV(e.pendingWriteTree_,t,n,i,r),r?Po(e,new Kr(yC(),t,n)):[]}function Pi(e,t,n=!1){let i=gV(e.pendingWriteTree_,t);if(mV(e.pendingWriteTree_,t)){let s=new He(null);return i.snap!=null?s=s.set(W(),!0):$e(i.children,o=>{s=s.set(new Q(o),!0)}),Po(e,new $g(i.path,s,n))}else return[]}function ko(e,t,n){return Po(e,new Kr(gm(),t,n))}function KV(e,t,n){let i=He.fromObject(n);return Po(e,new Ll(gm(),t,i))}function YV(e,t){return Po(e,new Fl(gm(),t))}function QV(e,t,n){let i=Em(e,n);if(i){let r=wm(i),s=r.path,o=r.queryId,a=Pe(s,t),c=new Fl(mm(o),a);return bm(e,s,c)}else return[]}function zl(e,t,n,i,r=!1){let s=t._path,o=e.syncPointTree_.get(s),a=[];if(o&&(t._queryIdentifier==="default"||MC(o,t))){let c=GV(o,t,n,i);$V(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));let l=c.removed;if(a=c.events,!r){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(s,(f,h)=>zn(h));if(u&&!d){let f=e.syncPointTree_.subtree(s);if(!f.isEmpty()){let h=XV(f);for(let p=0;p<h.length;++p){let m=h[p],_=m.query,I=kC(e,m);e.listenProvider_.startListening(bo(_),To(e,_),I.hashFn,I.onComplete)}}}!d&&l.length>0&&!i&&(u?e.listenProvider_.stopListening(bo(t),null):l.forEach(f=>{let h=e.queryToTagMap.get(tu(f));e.listenProvider_.stopListening(bo(f),h)}))}eB(e,l)}return a}function NC(e,t,n,i){let r=Em(e,i);if(r!=null){let s=wm(r),o=s.path,a=s.queryId,c=Pe(o,t),l=new Kr(mm(a),c,n);return bm(e,o,l)}else return[]}function ZV(e,t,n,i){let r=Em(e,i);if(r){let s=wm(r),o=s.path,a=s.queryId,c=Pe(o,t),l=He.fromObject(n),u=new Ll(mm(a),c,l);return bm(e,o,u)}else return[]}function Zg(e,t,n,i=!1){let r=t._path,s=null,o=!1;e.syncPointTree_.foreachOnPath(r,(f,h)=>{let p=Pe(f,r);s=s||Gn(h,p),o=o||zn(h)});let a=e.syncPointTree_.get(r);a?(o=o||zn(a),s=s||Gn(a,W())):(a=new Hl,e.syncPointTree_=e.syncPointTree_.set(r,a));let c;s!=null?c=!0:(c=!1,s=F.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((h,p)=>{let m=Gn(p,W());m&&(s=s.updateImmediateChild(h,m))}));let l=MC(a,t);if(!l&&!t._queryParams.loadsAllData()){let f=tu(t);v(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=tB();e.queryToTagMap.set(f,h),e.tagToQueryMap.set(h,f)}let u=Jl(e.pendingWriteTree_,r),d=HV(a,t,n,u,s,c);if(!l&&!o&&!i){let f=SC(a,t);d=d.concat(nB(e,t,f))}return d}function eu(e,t,n){let r=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,a)=>{let c=Pe(o,t),l=Gn(a,c);if(l)return l});return EC(r,t,s,n,!0)}function JV(e,t){let n=t._path,i=null;e.syncPointTree_.foreachOnPath(n,(l,u)=>{let d=Pe(l,n);i=i||Gn(u,d)});let r=e.syncPointTree_.get(n);r?i=i||Gn(r,W()):(r=new Hl,e.syncPointTree_=e.syncPointTree_.set(n,r));let s=i!=null,o=s?new Vt(i,!0,!1):null,a=Jl(e.pendingWriteTree_,t._path),c=AC(r,t,a,s?o.getNode():F.EMPTY_NODE,s);return FV(c)}function Po(e,t){return RC(t,e.syncPointTree_,null,Jl(e.pendingWriteTree_,W()))}function RC(e,t,n,i){if(H(e.path))return OC(e,t,n,i);{let r=t.get(W());n==null&&r!=null&&(n=Gn(r,W()));let s=[],o=B(e.path),a=e.operationForChild(o),c=t.children.get(o);if(c&&a){let l=n?n.getImmediateChild(o):null,u=wC(i,o);s=s.concat(RC(a,c,l,u))}return r&&(s=s.concat(_m(r,e,i,n))),s}}function OC(e,t,n,i){let r=t.get(W());n==null&&r!=null&&(n=Gn(r,W()));let s=[];return t.children.inorderTraversal((o,a)=>{let c=n?n.getImmediateChild(o):null,l=wC(i,o),u=e.operationForChild(o);u&&(s=s.concat(OC(u,a,c,l)))}),r&&(s=s.concat(_m(r,e,i,n))),s}function kC(e,t){let n=t.query,i=To(e,n);return{hashFn:()=>(PV(t)||F.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?QV(e,n._path,i):YV(e,n._path);{let s=yj(r,n);return zl(e,n,null,s)}}}}function To(e,t){let n=tu(t);return e.queryToTagMap.get(n)}function tu(e){return e._path.toString()+"$"+e._queryIdentifier}function Em(e,t){return e.tagToQueryMap.get(t)}function wm(e){let t=e.indexOf("$");return v(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Q(e.substr(0,t))}}function bm(e,t,n){let i=e.syncPointTree_.get(t);v(i,"Missing sync point for query tag that we're tracking");let r=Jl(e.pendingWriteTree_,t);return _m(i,n,r,null)}function XV(e){return e.fold((t,n,i)=>{if(n&&zn(n))return[Xl(n)];{let r=[];return n&&(r=TC(n)),$e(i,(s,o)=>{r=r.concat(o)}),r}})}function bo(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(zV())(e._repo,e._path):e}function eB(e,t){for(let n=0;n<t.length;++n){let i=t[n];if(!i._queryParams.loadsAllData()){let r=tu(i),s=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(s)}}}function tB(){return qV++}function nB(e,t,n){let i=t._path,r=To(e,t),s=kC(e,n),o=e.listenProvider_.startListening(bo(t),r,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(i);if(r)v(!zn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!H(l)&&u&&zn(u))return[Xl(u).query];{let f=[];return u&&(f=f.concat(TC(u).map(h=>h.query))),$e(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];e.listenProvider_.stopListening(bo(u),To(e,u))}}return o}var Jg=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},Xg=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=ye(this.path_,t);return new e(this.syncTree_,n)}node(){return eu(this.syncTree_,this.path_)}},iB=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},FD=function(e,t,n){if(!e||typeof e!="object")return e;if(v(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return rB(e[".sv"],t,n);if(typeof e[".sv"]=="object")return sB(e[".sv"],t);v(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},rB=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:v(!1,"Unexpected server value: "+e)}},sB=function(e,t,n){e.hasOwnProperty("increment")||v(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let i=e.increment;typeof i!="number"&&v(!1,"Unexpected increment value: "+i);let r=t.node();if(v(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let o=r.getValue();return typeof o!="number"?i:o+i},oB=function(e,t,n,i){return Cm(t,new Xg(n,e),i)},Dm=function(e,t,n){return Cm(e,new Jg(t),n)};function Cm(e,t,n){let i=e.getPriority().val(),r=FD(i,t.getImmediateChild(".priority"),n),s;if(e.isLeafNode()){let o=e,a=FD(o.getValue(),t,n);return a!==o.getValue()||r!==o.getPriority().val()?new Wr(a,me(r)):e}else{let o=e;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Wr(r))),o.forEachChild(ae,(a,c)=>{let l=Cm(c,t.getImmediateChild(a),n);l!==c&&(s=s.updateImmediateChild(a,l))}),s}}var So=class{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}};function nu(e,t){let n=t instanceof Q?t:new Q(t),i=e,r=B(n);for(;r!==null;){let s=kn(i.node.children,r)||{children:{},childCount:0};i=new So(r,i,s),n=ee(n),r=B(n)}return i}function Bi(e){return e.node.value}function xm(e,t){e.node.value=t,em(e)}function PC(e){return e.node.childCount>0}function aB(e){return Bi(e)===void 0&&!PC(e)}function iu(e,t){$e(e.node.children,(n,i)=>{t(new So(n,e,i))})}function FC(e,t,n,i){n&&!i&&t(e),iu(e,r=>{FC(r,t,!0,i)}),n&&i&&t(e)}function cB(e,t,n){let i=n?e:e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function Fo(e){return new Q(e.parent===null?e.name:Fo(e.parent)+"/"+e.name)}function em(e){e.parent!==null&&lB(e.parent,e.name,e)}function lB(e,t,n){let i=aB(n),r=Xe(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,em(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,em(e))}var uB=/[\[\].#$\/\u0000-\u001F\u007F]/,dB=/[\[\].#$\u0000-\u001F\u007F]/,fg=10*1024*1024,LC=function(e){return typeof e=="string"&&e.length!==0&&!uB.test(e)},jC=function(e){return typeof e=="string"&&e.length!==0&&!dB.test(e)},fB=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),jC(e)},hB=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!lm(e)||e&&typeof e=="object"&&Xe(e,".sv")},pB=function(e,t,n,i){i&&t===void 0||ru(Qc(e,"value"),t,n)},ru=function(e,t,n){let i=n instanceof Q?new xg(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+Oi(i));if(typeof t=="function")throw new Error(e+"contains a function "+Oi(i)+" with contents = "+t.toString());if(lm(t))throw new Error(e+"contains "+t.toString()+" "+Oi(i));if(typeof t=="string"&&t.length>fg/3&&Ys(t)>fg)throw new Error(e+"contains a string greater than "+fg+" utf8 bytes "+Oi(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,s=!1;if($e(t,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!LC(o)))throw new Error(e+" contains an invalid key ("+o+") "+Oi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);zj(i,o),ru(e,a,i),qj(i)}),r&&s)throw new Error(e+' contains ".value" child '+Oi(i)+" in addition to actual children.")}};var VC=function(e,t,n,i){if(!(i&&n===void 0)&&!jC(n))throw new Error(Qc(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},gB=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),VC(e,t,n,i)},BC=function(e,t){if(B(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},mB=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!LC(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!fB(n))throw new Error(Qc(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var tm=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Am(e,t){let n=null;for(let i=0;i<t.length;i++){let r=t[i],s=r.getPath();n!==null&&!fm(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&e.eventLists_.push(n)}function UC(e,t,n){Am(e,n),$C(e,i=>fm(i,t))}function yt(e,t,n){Am(e,n),$C(e,i=>gt(i,t)||gt(t,i))}function $C(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){let r=e.eventLists_[i];if(r){let s=r.path;t(s)?(yB(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function yB(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let i=n.getEventRunner();Fi&&Te("event: "+n.toString()),Jr(i)}}}var vB="repo_interrupt",_B=25,nm=class{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new tm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Pl(),this.transactionQueueTree_=new So,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function IB(e,t,n){if(e.stats_=dm(e.repoInfo_),e.forceRestClient_||Ej())e.server_=new Lg(e.repoInfo_,(i,r,s,o)=>{LD(e,i,r,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>jD(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{fe(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new hm(e.repoInfo_,t,(i,r,s,o)=>{LD(e,i,r,s,o)},i=>{jD(e,i)},i=>{wB(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=bj(e.repoInfo_,()=>new Ug(e.stats_,e.server_)),e.infoData_=new jg,e.infoSyncTree_=new Wl({startListening:(i,r,s,o)=>{let a=[],c=e.infoData_.getNode(i._path);return c.isEmpty()||(a=ko(e.infoSyncTree_,i._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Tm(e,"connected",!1),e.serverSyncTree_=new Wl({startListening:(i,r,s,o)=>(e.server_.listen(i,s,r,(a,c)=>{let l=o(a,c);yt(e.eventQueue_,i._path,l)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function EB(e){let n=e.infoData_.getNode(new Q(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function su(e){return iB({timestamp:EB(e)})}function LD(e,t,n,i,r){e.dataUpdateCount++;let s=new Q(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(r)if(i){let c=Ks(n,l=>me(l));o=ZV(e.serverSyncTree_,s,c,r)}else{let c=me(n);o=NC(e.serverSyncTree_,s,c,r)}else if(i){let c=Ks(n,l=>me(l));o=KV(e.serverSyncTree_,s,c)}else{let c=me(n);o=ko(e.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=au(e,s)),yt(e.eventQueue_,a,o)}function jD(e,t){Tm(e,"connected",t),t===!1&&CB(e)}function wB(e,t){$e(t,(n,i)=>{Tm(e,n,i)})}function Tm(e,t,n){let i=new Q("/.info/"+t),r=me(n);e.infoData_.updateSnapshot(i,r);let s=ko(e.infoSyncTree_,i,r);yt(e.eventQueue_,i,s)}function Sm(e){return e.nextWriteId_++}function bB(e,t,n){let i=JV(e.serverSyncTree_,t);return i!=null?Promise.resolve(i):e.server_.get(t).then(r=>{let s=me(r).withIndex(t._queryParams.getIndex());Zg(e.serverSyncTree_,t,n,!0);let o;if(t._queryParams.loadsAllData())o=ko(e.serverSyncTree_,t._path,s);else{let a=To(e.serverSyncTree_,t);o=NC(e.serverSyncTree_,t._path,s,a)}return yt(e.eventQueue_,t._path,o),zl(e.serverSyncTree_,t,n,null,!0),s},r=>(Lo(e,"get for query "+fe(t)+" failed: "+r),Promise.reject(new Error(r))))}function DB(e,t,n,i,r){Lo(e,"set",{path:t.toString(),value:n,priority:i});let s=su(e),o=me(n,i),a=eu(e.serverSyncTree_,t),c=Dm(o,a,s),l=Sm(e),u=Im(e.serverSyncTree_,t,c,l,!0);Am(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),(f,h)=>{let p=f==="ok";p||Ue("set at "+t+" failed: "+f);let m=Pi(e.serverSyncTree_,l,!p);yt(e.eventQueue_,t,m),TB(e,r,f,h)});let d=zC(e,t);au(e,d),yt(e.eventQueue_,d,[])}function CB(e){Lo(e,"onDisconnectEvents");let t=su(e),n=Pl();Vg(e.onDisconnect_,W(),(r,s)=>{let o=oB(r,s,e.serverSyncTree_,t);mC(n,r,o)});let i=[];Vg(n,W(),(r,s)=>{i=i.concat(ko(e.serverSyncTree_,r,s));let o=zC(e,r);au(e,o)}),e.onDisconnect_=Pl(),yt(e.eventQueue_,W(),i)}function xB(e,t,n){let i;B(t._path)===".info"?i=Zg(e.infoSyncTree_,t,n):i=Zg(e.serverSyncTree_,t,n),UC(e.eventQueue_,t._path,i)}function VD(e,t,n){let i;B(t._path)===".info"?i=zl(e.infoSyncTree_,t,n):i=zl(e.serverSyncTree_,t,n),UC(e.eventQueue_,t._path,i)}function AB(e){e.persistentConnection_&&e.persistentConnection_.interrupt(vB)}function Lo(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Te(n,...t)}function TB(e,t,n,i){t&&Jr(()=>{if(n==="ok")t(null);else{let r=(n||"error").toUpperCase(),s=r;i&&(s+=": "+i);let o=new Error(s);o.code=r,t(o)}})}function SB(e,t,n,i,r,s){Lo(e,"transaction on "+t);let o={path:t,update:n,onComplete:i,status:null,order:$D(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=Mm(e,t,void 0);o.currentInputSnapshot=a;let c=o.update(a.val());if(c===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{ru("transaction failed: Data returned ",c,o.path),o.status=0;let l=nu(e.transactionQueueTree_,t),u=Bi(l)||[];u.push(o),xm(l,u);let d;typeof c=="object"&&c!==null&&Xe(c,".priority")?(d=kn(c,".priority"),v(hB(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(eu(e.serverSyncTree_,t)||F.EMPTY_NODE).getPriority().val();let f=su(e),h=me(c,d),p=Dm(h,a,f);o.currentOutputSnapshotRaw=h,o.currentOutputSnapshotResolved=p,o.currentWriteId=Sm(e);let m=Im(e.serverSyncTree_,t,p,o.currentWriteId,o.applyLocally);yt(e.eventQueue_,t,m),ou(e,e.transactionQueueTree_)}}function Mm(e,t,n){return eu(e.serverSyncTree_,t,n)||F.EMPTY_NODE}function ou(e,t=e.transactionQueueTree_){if(t||cu(e,t),Bi(t)){let n=GC(e,t);v(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&MB(e,Fo(t),n)}else PC(t)&&iu(t,n=>{ou(e,n)})}function MB(e,t,n){let i=n.map(l=>l.currentWriteId),r=Mm(e,t,i),s=r,o=r.hash();for(let l=0;l<n.length;l++){let u=n[l];v(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Pe(t,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),c=t;e.server_.put(c.toString(),a,l=>{Lo(e,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Pi(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();cu(e,nu(e.transactionQueueTree_,t)),ou(e,e.transactionQueueTree_),yt(e.eventQueue_,t,u);for(let f=0;f<d.length;f++)Jr(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ue("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}au(e,t)}},o)}function au(e,t){let n=HC(e,t),i=Fo(n),r=GC(e,n);return NB(e,r,i),i}function NB(e,t,n){if(t.length===0)return;let i=[],r=[],o=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let c=t[a],l=Pe(n,c.path),u=!1,d;if(v(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,r=r.concat(Pi(e.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=_B)u=!0,d="maxretry",r=r.concat(Pi(e.serverSyncTree_,c.currentWriteId,!0));else{let f=Mm(e,c.path,o);c.currentInputSnapshot=f;let h=t[a].update(f.val());if(h!==void 0){ru("transaction failed: Data returned ",h,c.path);let p=me(h);typeof h=="object"&&h!=null&&Xe(h,".priority")||(p=p.updatePriority(f.getPriority()));let _=c.currentWriteId,I=su(e),C=Dm(p,f,I);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=C,c.currentWriteId=Sm(e),o.splice(o.indexOf(_),1),r=r.concat(Im(e.serverSyncTree_,c.path,C,c.currentWriteId,c.applyLocally)),r=r.concat(Pi(e.serverSyncTree_,_,!0))}else u=!0,d="nodata",r=r.concat(Pi(e.serverSyncTree_,c.currentWriteId,!0))}yt(e.eventQueue_,n,r),r=[],u&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(d),!1,null))))}cu(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)Jr(i[a]);ou(e,e.transactionQueueTree_)}function HC(e,t){let n,i=e.transactionQueueTree_;for(n=B(t);n!==null&&Bi(i)===void 0;)i=nu(i,n),t=ee(t),n=B(t);return i}function GC(e,t){let n=[];return WC(e,t,n),n.sort((i,r)=>i.order-r.order),n}function WC(e,t,n){let i=Bi(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);iu(t,r=>{WC(e,r,n)})}function cu(e,t){let n=Bi(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,xm(t,n.length>0?n:void 0)}iu(t,i=>{cu(e,i)})}function zC(e,t){let n=Fo(HC(e,t)),i=nu(e.transactionQueueTree_,t);return cB(i,r=>{hg(e,r)}),hg(e,i),FC(i,r=>{hg(e,r)}),n}function hg(e,t){let n=Bi(t);if(n){let i=[],r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(v(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(v(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(Pi(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?xm(t,void 0):n.length=s+1,yt(e.eventQueue_,Fo(t),r);for(let o=0;o<i.length;o++)Jr(i[o])}}function RB(e){let t="",n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function OB(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Ue(`Invalid query segment '${n}' in query '${e}'`)}return t}var BD=function(e,t){let n=kB(e),i=n.namespace;n.domain==="firebase.com"&&yn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&yn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||fj();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Al(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new Q(n.pathString)}},kB=function(e){let t="",n="",i="",r="",s="",o=!0,a="https",c=443;if(typeof e=="string"){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(r=RB(e.substring(u,d)));let f=OB(e.substring(Math.min(e.length,d)));l=t.indexOf(":"),l>=0?(o=a==="https"||a==="wss",c=parseInt(t.substring(l+1),10)):l=t.length;let h=t.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=t.indexOf(".");i=t.substring(0,p).toLowerCase(),n=t.substring(p+1),s=i}"ns"in f&&(s=f.ns)}return{host:t,port:c,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};var ql=class{constructor(t,n,i,r){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+fe(this.snapshot.exportVal())}},Kl=class{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Yl=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return v(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var im=class e{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return H(this._path)?null:aC(this._path)}get ref(){return new vt(this._repo,this._path)}get _queryIdentifier(){let t=CD(this._queryParams),n=um(t);return n==="{}"?"default":n}get _queryObject(){return CD(this._queryParams)}isEqual(t){if(t=pe(t),!(t instanceof e))return!1;let n=this._repo===t._repo,i=fm(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+Wj(this._path)}};var vt=class e extends im{constructor(t,n){super(t,n,new Fg,!1)}get parent(){let t=lC(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},Qr=class e{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new Q(t),i=Mo(this.ref,t);return new e(this._node.getChild(n),i,ae)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new e(r,Mo(this.ref,i),ae)))}hasChild(t){let n=new Q(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function qC(e,t){return e=pe(e),e._checkNotDeleted("ref"),t!==void 0?Mo(e._root,t):e._root}function Mo(e,t){return e=pe(e),B(e._path)===null?gB("child","path",t,!1):VC("child","path",t,!1),new vt(e._repo,ye(e._path,t))}function PB(e,t){e=pe(e),BC("set",e._path),pB("set",t,e._path,!1);let n=new ln;return DB(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function KC(e){e=pe(e);let t=new Yl(()=>{}),n=new Ql(t);return bB(e._repo,e,n).then(i=>new Qr(i,new vt(e._repo,e._path),e._queryParams.getIndex()))}var Ql=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let i=n._queryParams.getIndex();return new ql("value",this,new Qr(t.snapshotNode,new vt(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Kl(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},rm=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new Kl(this,t,n):null}createEvent(t,n){v(t.childName!=null,"Child events should have a childName.");let i=Mo(new vt(n._repo,n._path),t.childName),r=n._queryParams.getIndex();return new ql(t.type,this,new Qr(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function FB(e,t,n,i,r){let s;if(typeof i=="object"&&(s=void 0,r=i),typeof i=="function"&&(s=i),r&&r.onlyOnce){let c=n,l=(u,d)=>{VD(e._repo,e,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let o=new Yl(n,s||void 0),a=t==="value"?new Ql(o):new rm(t,o);return xB(e._repo,e,a),()=>VD(e._repo,e,a)}function Nm(e,t,n,i){return FB(e,"value",t,n,i)}BV(vt);WV(vt);var LB="FIREBASE_DATABASE_EMULATOR_HOST",sm={},jB=!1;function VB(e,t,n,i){e.repoInfo_=new Al(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}function BB(e,t,n,i,r){let s=i||e.options.databaseURL;s===void 0&&(e.options.projectId||yn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Te("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=BD(s,r),a=o.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[LB]),l?(c=!0,s=`http://${l}?ns=${a.namespace}`,o=BD(s,r),a=o.repoInfo):c=!o.repoInfo.secure;let u=r&&c?new Io(Io.OWNER):new _g(e.name,e.options,t);mB("Invalid Firebase Database URL",o),H(o.path)||yn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=$B(a,e,u,new vg(e.name,n));return new om(d,e)}function UB(e,t){let n=sm[t];(!n||n[e.key]!==e)&&yn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),AB(e),delete n[e.key]}function $B(e,t,n,i){let r=sm[t.name];r||(r={},sm[t.name]=r);let s=r[e.toURLString()];return s&&yn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new nm(e,jB,n,i),r[e.toURLString()]=s,s}var om=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(IB(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new vt(this._repo,W())),this._rootInternal}_delete(){return this._rootInternal!==null&&(UB(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&yn("Cannot call "+t+" on a deleted database.")}};function YC(e=Mr(),t){let n=Xs(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let i=yw("database");i&&QC(n,...i)}return n}function QC(e,t,n,i={}){e=pe(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&yn("Cannot call useEmulator() after instance has already been initialized.");let r=e._repoInternal,s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&yn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Io(Io.OWNER);else if(i.mockUserToken){let o=typeof i.mockUserToken=="string"?i.mockUserToken:vw(i.mockUserToken,e.app.options.projectId);s=new Io(o)}VB(r,t,n,s)}function HB(e){uj(jn),Ln(new et("database",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return BB(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),ge(cD,lD,e),ge(cD,lD,"esm2017")}var am=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function GB(e,t,n){var i;if(e=pe(e),BC("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";let r=(i=n?.applyLocally)!==null&&i!==void 0?i:!0,s=new ln,o=(c,l,u)=>{let d=null;c?s.reject(c):(d=new Qr(u,new vt(e._repo,e._path),ae),s.resolve(new am(l,d)))},a=Nm(e,()=>{});return SB(e._repo,e._path,t,o,a,r),s.promise}hm.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};hm.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};HB();var jo=class{constructor(t){return t}},ZC="database",Rm=class{constructor(){return eo(ZC)}};var Om=new D("angularfire2.database-instances");function WB(e,t){let n=tl(ZC,e,t);return n&&new jo(n)}function zB(e){return(t,n)=>{let i=t.runOutsideAngular(()=>e(n));return new jo(i)}}var qB={provide:Rm,deps:[[new je,Om]]},KB={provide:jo,useFactory:WB,deps:[[new je,Om],fn]};function p9(e,...t){return ge("angularfire",Di.full,"rtdb"),Tt([KB,qB,{provide:Om,useFactory:zB(e),multi:!0,deps:[R,xe,Or,Ci,[new je,uo],[new je,Rr],...t]}])}var g9=ze(KC,!0),m9=ze(YC,!0);var y9=ze(Nm,!0);var v9=ze(qC,!0);export{L as a,Ee as b,rx as c,g as d,le as e,px as f,A as g,Cu as h,xu as i,ie as j,Ut as k,Zn as l,Ke as m,Xn as n,Dx as o,my as p,ei as q,ce as r,Nu as s,$t as t,os as u,Qi as v,Ox as w,kx as x,pa as y,ga as z,we as A,Ux as B,Dy as C,Ru as D,ti as E,as as F,ni as G,$x as H,ma as I,Ou as J,xy as K,ku as L,Wx as M,zx as N,Fu as O,qx as P,Lu as Q,ls as R,Ye as S,ii as T,O as U,yv as V,E as W,te as X,m8 as Y,D as Z,G as _,y as $,b as aa,je as ba,pA as ca,OA as da,ne as ea,z as fa,Rv as ga,Tt as ha,Dt as ia,$v as ja,gi as ka,y8 as la,v8 as ma,_8 as na,I8 as oa,ct as pa,PT as qa,xe as ra,yr as sa,_e as ta,R as ua,zt as va,J as wa,Ga as xa,Of as ya,Mt as za,E8 as Aa,K0 as Ba,w as Ca,w8 as Da,Yt as Ea,hr as Fa,xs as Ga,Xt as Ha,Nt as Ia,FI as Ja,x8 as Ka,Oe as La,As as Ma,Ud as Na,bM as Oa,VI as Pa,er as Qa,RM as Ra,Yf as Sa,Qf as Ta,zI as Ua,qI as Va,Zf as Wa,A8 as Xa,nN as Ya,T8 as Za,S8 as _a,M8 as $a,Jf as ab,Xf as bb,XI as cb,eE as db,tE as eb,cN as fb,N8 as gb,nE as hb,uN as ib,iE as jb,yN as kb,_N as lb,EN as mb,wN as nb,DN as ob,R8 as pb,CN as qb,xN as rb,AN as sb,O8 as tb,k8 as ub,P8 as vb,SN as wb,NN as xb,th as yb,RN as zb,aE as Ab,jN as Bb,F8 as Cb,L8 as Db,j8 as Eb,V8 as Fb,B8 as Gb,U8 as Hb,$8 as Ib,dE as Jb,ih as Kb,$N as Lb,Sc as Mb,Er as Nb,H8 as Ob,G8 as Pb,rh as Qb,sh as Rb,Ss as Sb,aR as Tb,W8 as Ub,cR as Vb,z8 as Wb,wr as Xb,K as Yb,f3 as Zb,Oc as _b,fR as $b,h3 as ac,hR as bc,Pc as cc,p3 as dc,g3 as ec,TE as fc,m3 as gc,y3 as hc,v3 as ic,_3 as jc,MR as kc,I3 as lc,VR as mc,O3 as nc,BE as oc,X3 as pc,eq as qc,EO as rc,K4 as sc,Y4 as tc,Sb as uc,Mb as vc,lo as wc,$6 as xc,H6 as yc,G6 as zc,W6 as Ac,z6 as Bc,q6 as Cc,qC as Dc,PB as Ec,KC as Fc,YC as Gc,GB as Hc,Rk as Ic,Oh as Jc,cn as Kc,Uq as Lc,qE as Mc,Vs as Nc,Mq as Oc,Nq as Pc,Rq as Qc,Oq as Rc,kq as Sc,Rh as Tc,e4 as Uc,tt as Vc,t5 as Wc,Lr as Xc,ho as Yc,n5 as Zc,i5 as _c,r5 as $c,g5 as ad,m5 as bd,Wb as cd,x5 as dd,H1 as ed,Q5 as fd,Z5 as gd,ig as hd,Jb as id,mK as jd,og as kd,aD as ld,yK as md,vK as nd,_K as od,jo as pd,p9 as qd,g9 as rd,m9 as sd,y9 as td,v9 as ud};
