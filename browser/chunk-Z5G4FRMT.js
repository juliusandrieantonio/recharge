import{a as m}from"./chunk-BPBLZFBA.js";import{$ as u,W as c,g as n,pd as p,td as o,ud as s}from"./chunk-KD3HKJA5.js";var f=class a{constructor(t,e){this.db=t;this.auth=e;this.uid=this.auth.currentUser?.uid}uid;getStudent(){return new n(t=>{if(!this.uid)throw new Error("Not logged in");let e=s(this.db,`users/${this.uid}`);o(e,i=>{let r=i.val();t.next(r)})})}getMonthlyContrib(t){return new n(e=>{if(!this.uid)throw new Error("Not logged in");let i=s(this.db,`monthly_progress_by_user/${this.uid}/${t}`);o(i,r=>{let d=r.val();e.next(d)})})}getRedeemptions(){return new n(t=>{if(!this.uid)throw new Error("Not logged in");let e=s(this.db,`redeem/${this.uid}`);o(e,i=>{let r=i.val();if(!r){t.next([]);return}let d=Object.values(r);t.next(d)})})}static \u0275fac=function(e){return new(e||a)(u(p),u(m))};static \u0275prov=c({token:a,factory:a.\u0275fac,providedIn:"root"})};export{f as a};
